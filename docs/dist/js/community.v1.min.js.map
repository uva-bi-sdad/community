{"version":3,"file":"community.v1.min.js","sources":["../../../js/site/palettes.ts","../../../js/site/patterns.ts","../../../js/site/value_types.ts","../../../js/site/defaults.ts","../../../js/site/summary_levels.ts","../../../js/site/tutorials.ts","../../../js/site/index.js","../../../js/site/utils.ts"],"sourcesContent":["export const palettes: {[index: string]: {name: string; type: string; colors: string[] | (number[] | number[][])[]}} = {\r\n  // discrete palettes from https://colorbrewer2.org\r\n  rdylbu7: {\r\n    name: 'Red-Yellow-Blue (7)',\r\n    type: 'discrete',\r\n    colors: ['#d73027', '#fc8d59', '#fee090', '#adadad', '#e0f3f8', '#91bfdb', '#4575b4'],\r\n  },\r\n  orrd7: {\r\n    name: 'Orange-Red (7)',\r\n    type: 'discrete',\r\n    colors: ['#fef0d9', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#990000'],\r\n  },\r\n  gnbu7: {\r\n    name: 'Green-Blue (7)',\r\n    type: 'discrete',\r\n    colors: ['#a8ddb5', '#ccebc5', '#f0f9e8', '#adadad', '#4eb3d3', '#2b8cbe', '#08589e'],\r\n  },\r\n  brbg7: {\r\n    name: 'Brown-Teal (7)',\r\n    type: 'discrete',\r\n    colors: ['#8c510a', '#d8b365', '#f6e8c3', '#adadad', '#c7eae5', '#5ab4ac', '#01665e'],\r\n  },\r\n  puor7: {\r\n    name: 'Purple-Orange (7)',\r\n    type: 'discrete',\r\n    colors: ['#b35806', '#f1a340', '#fee0b6', '#adadad', '#d8daeb', '#998ec3', '#542788'],\r\n  },\r\n  prgn6: {\r\n    name: 'Purple-Green (6)',\r\n    type: 'discrete',\r\n    colors: ['#762a83', '#af8dc3', '#e7d4e8', '#d9f0d3', '#7fbf7b', '#1b7837'],\r\n  },\r\n  reds5: {\r\n    name: 'Red (5)',\r\n    type: 'discrete',\r\n    colors: ['#f1eef6', '#d7b5d8', '#df65b0', '#dd1c77', '#980043'],\r\n  },\r\n  greens5: {\r\n    name: 'Green (5)',\r\n    type: 'discrete',\r\n    colors: ['#ffffcc', '#c2e699', '#78c679', '#31a354', '#006837'],\r\n  },\r\n  paired4: {\r\n    name: 'Blue-Green (4)',\r\n    type: 'discrete',\r\n    colors: ['#1f78b4', '#a6cee3', '#b2df8a', '#33a02c'],\r\n  },\r\n  greys4: {\r\n    name: 'Grey (4)',\r\n    type: 'discrete',\r\n    colors: ['#f7f7f7', '#cccccc', '#969696', '#525252'],\r\n  },\r\n  grey: {\r\n    name: 'Grey',\r\n    type: 'continuous',\r\n    colors: [\r\n      [\r\n        [70, 70, 70],\r\n        [80, 80, 80],\r\n      ],\r\n      [150, 150, 150],\r\n      [\r\n        [230, 230, 230],\r\n        [-80, -80, -80],\r\n      ],\r\n    ],\r\n  },\r\n  brown: {\r\n    name: 'Brown',\r\n    type: 'continuous',\r\n    colors: [\r\n      [\r\n        [131, 30, 0],\r\n        [62, 85, 95],\r\n      ],\r\n      [193, 115, 95],\r\n      [\r\n        [255, 200, 190],\r\n        [-62, -85, -95],\r\n      ],\r\n    ],\r\n  },\r\n  purple: {\r\n    name: 'Purple',\r\n    type: 'continuous',\r\n    colors: [\r\n      [\r\n        [90, 14, 213],\r\n        [52.5, 89, 16],\r\n      ],\r\n      [142.5, 103, 229],\r\n      [\r\n        [195, 192, 245],\r\n        [-52.5, -89, -16],\r\n      ],\r\n    ],\r\n  },\r\n  prgn: {\r\n    name: 'Purple-Green',\r\n    type: 'continuous-divergent',\r\n    colors: [\r\n      [\r\n        [27, 120, 55],\r\n        [207, 107, 168.5],\r\n      ],\r\n      [234, 227, 223.5],\r\n      [\r\n        [118, 42, 131],\r\n        [116, 185, 92.5],\r\n      ],\r\n    ],\r\n  },\r\n  puor: {\r\n    name: 'Purple-Orange',\r\n    type: 'continuous-divergent',\r\n    colors: [\r\n      [\r\n        [179, 88, 6],\r\n        [56, 133, 202.5],\r\n      ],\r\n      [235, 221, 208.5],\r\n      [\r\n        [84, 39, 136],\r\n        [151, 182, 72.5],\r\n      ],\r\n    ],\r\n  },\r\n  rdbu: {\r\n    name: 'Red-Blue',\r\n    type: 'continuous-divergent',\r\n    colors: [\r\n      [\r\n        [69, 117, 180],\r\n        [170, 116.5, 16],\r\n      ],\r\n      [239, 233.5, 196],\r\n      [\r\n        [215, 48, 39],\r\n        [24, 185.5, 157],\r\n      ],\r\n    ],\r\n  },\r\n  vik: {\r\n    name: 'vik',\r\n    type: 'continuous-polynomial',\r\n    colors: [\r\n      [97.031, 18.4251, 0.4149],\r\n      [461.7602, 637.5326, 244.4647],\r\n      [-2434.798, -2838.5427, -5893.4695],\r\n      [9665.3469, 14405.823, 44072.722],\r\n      [-2575.9109, -25871.106, -109792.1319],\r\n      [-42510.0569, 8528.3288, 120953.8594],\r\n      [63342.3061, 14006.291, -59644.4457],\r\n      [-26045.0391, -8868.9621, 10155.5667],\r\n    ],\r\n  },\r\n  lajolla: {\r\n    name: 'lajolla',\r\n    type: 'continuous-polynomial',\r\n    colors: [\r\n      [256.0016, 255.9138, 204.945],\r\n      [-187.6735, -46.2889, -768.5655],\r\n      [1022.785, -1057.5602, 1782.0325],\r\n      [-2032.382, 1490.8271, -1785.9056],\r\n      [966.8373, -617.1949, 567.7715],\r\n    ],\r\n  },\r\n}\r\n","export const patterns = {\r\n  seps: /[\\s,/._-]+/g,\r\n  period: /\\./,\r\n  all_periods: /\\./g,\r\n  word_start: /\\b(\\w)/g,\r\n  settings: /^settings?\\./,\r\n  features: /^features?\\./,\r\n  filter: /^filter\\./,\r\n  data: /^data\\./,\r\n  variables: /^variables?\\./,\r\n  properties: /prop/,\r\n  palette: /^pal/,\r\n  datasets: /^dat/,\r\n  variable: /^var/,\r\n  levels: /^lev/,\r\n  ids: /^ids/,\r\n  minmax: /^m[inax]{2}$/,\r\n  int_types: /^(?:year|int|integer)$/,\r\n  end_punct: /[.?!]$/,\r\n  mustache: /\\{([^}]+)\\}/g,\r\n  measure_name: /(?:^measure|_name)$/,\r\n  http: /^https?:\\/\\//,\r\n  bool: /^(?:true|false)$/,\r\n  number: /^[\\d-][\\d.,]*$/,\r\n  leading_zeros: /^0+/,\r\n  url_spaces: /%20/g,\r\n  hashes: /#/g,\r\n  embed_setting: /^(?:hide_|navcolor|close_menus)/,\r\n  median: /^med/i,\r\n  location_string: /^[^?]*/,\r\n  time_ref: /\\{time\\}/g,\r\n  pre_colon: /^[^:]*:/,\r\n  exclude_query: /^(?:features|time_range|id)$/,\r\n  space: /\\s+/,\r\n  has_html: /<(?:math|a|br)[/\\s>]/,\r\n  href: /\\\\(?:href|url)\\{([^}]+)\\}(?:\\{([^}]+)\\})?/g,\r\n  bracket_content: /(?:^|>)[^<]*(?:<|$)/,\r\n  html_tags: /^(?:semantics|m|a|br)/,\r\n  html_attributes:\r\n    /^(?:xmlns|display|style|encoding|stretchy|alttext|scriptlevel|fence|math|separator|href|rel|target)/,\r\n  id_escapes: /(?<=#[^\\s]+)([.[\\](){}?*-])/g,\r\n  repo: /\\.com[/:]([^\\/]+\\/[^\\/]+)/,\r\n  basename: /^.*\\//,\r\n}\r\n","export const value_types: {[index: string]: Function} = {\r\n  percent: function (v: number): string {\r\n    return v + '%'\r\n  },\r\n  minute: function (v: number): string {\r\n    return v + ' minutes'\r\n  },\r\n  minutes: function (v: number): string {\r\n    return v + ' minutes'\r\n  },\r\n  dollars: function (v: number): string {\r\n    return '$' + v\r\n  },\r\n  'Mb/s': function (v: number): string {\r\n    return v + ' Mbps'\r\n  },\r\n}\r\n","export const defaults: {[index: string]: string} = {\r\n  time: 'time',\r\n  dataview: 'default_view',\r\n  palette: 'vik',\r\n  background_highlight: '#adadad',\r\n  border: '#7e7e7e',\r\n  border_highlight_true: '#ffffff',\r\n  border_highlight_false: '#000000',\r\n  missing: '#00000000',\r\n}\r\n","export const summary_levels: {[index: string]: string} = {\r\n  dataset: 'Overall',\r\n  filtered: 'Filtered',\r\n  children: 'Unfiltered selection',\r\n  all: 'Selection',\r\n}\r\n","import {patterns} from './patterns'\r\nimport type {ActiveElement, RegisteredElements} from '../types'\r\n\r\ntype Actions = string[] | {[index: string]: string}\r\ntype TutorialStep = {\r\n  focus: string\r\n  description?: string\r\n  option?: string | string[]\r\n  before?: Actions\r\n  after?: Actions\r\n  wait?: number\r\n  time?: number\r\n  disable_continue?: boolean\r\n}\r\ntype Tutorial = {\r\n  name: string\r\n  title: string\r\n  description: string\r\n  steps: TutorialStep[]\r\n  reset?: boolean\r\n  manager?: TutorialManager\r\n  n_steps?: number\r\n  current_step?: number\r\n  run?: Function\r\n}\r\nexport type Tutorials = {[index: string]: Tutorial}\r\n\r\nexport class TutorialManager {\r\n  tutorials: Tutorials\r\n  site_elements: RegisteredElements\r\n  container = document.createElement('div')\r\n  backdrop = document.createElement('div')\r\n  highlight = document.createElement('div')\r\n  menu = document.createElement('div')\r\n  frame = document.createElement('div')\r\n  header = document.createElement('p')\r\n  dialog = document.createElement('p')\r\n  timer = document.createElement('div')\r\n  running_timer: number | NodeJS.Timer\r\n  focuser: number | NodeJS.Timer\r\n  progress = document.createElement('div')\r\n  continue = document.createElement('button')\r\n  in_progress = ''\r\n  waiting = false\r\n  current_step = 0\r\n  current_time = 0\r\n  current_element: HTMLElement\r\n  current_site_element: ActiveElement\r\n  site_reset: Function\r\n  constructor(tutorials: Tutorials, elements?: RegisteredElements, resetter?: Function) {\r\n    this.tutorials = tutorials\r\n    this.site_elements = elements || {}\r\n    this.site_reset = resetter || (() => {})\r\n    this.start_tutorial = this.start_tutorial.bind(this)\r\n    this.progress_tutorial = this.progress_tutorial.bind(this)\r\n    this.execute_step = this.execute_step.bind(this)\r\n    this.end_tutorial = this.end_tutorial.bind(this)\r\n\r\n    // prepare menu\r\n    document.body.appendChild(this.menu)\r\n    this.menu.id = 'community_tutorials_menu'\r\n    this.menu.className = 'modal fade'\r\n    this.menu.tabIndex = -1\r\n    let e = document.createElement('div')\r\n    this.menu.appendChild(e)\r\n    e.className = 'modal-dialog modal-dialog-scrollable'\r\n    e.appendChild((e = document.createElement('div')))\r\n    e.className = 'modal-content'\r\n    e.appendChild((e = document.createElement('div')))\r\n    e.className = 'modal-header'\r\n    e.appendChild((e = document.createElement('p')))\r\n    e.className = 'modal-title h5'\r\n    e.innerText = 'Tutorials'\r\n    let close = document.createElement('button')\r\n    e.insertAdjacentElement('afterend', close)\r\n    close.type = 'button'\r\n    close.className = 'btn-close'\r\n    close.setAttribute('data-bs-dismiss', 'modal')\r\n    close.setAttribute('aria-label', 'Close')\r\n    const l = document.createElement('div')\r\n    this.menu.lastElementChild.lastElementChild.appendChild(l)\r\n    l.className = 'modal-body'\r\n    Object.keys(tutorials).forEach(name => {\r\n      const t = tutorials[name],\r\n        e = document.createElement('div'),\r\n        description = document.createElement('div'),\r\n        start = document.createElement('button')\r\n      t.manager = this\r\n      t.n_steps = t.steps.length\r\n      let p = document.createElement('div')\r\n      l.appendChild(e)\r\n      e.className = 'tutorial-listing card'\r\n      e.appendChild(p)\r\n      p.className = 'card-header'\r\n      p.innerText = t.title || name\r\n      e.appendChild((p = document.createElement('div')))\r\n      p.className = 'card-body'\r\n      p.appendChild(description)\r\n      description.appendChild(document.createElement('p'))\r\n      ;(description.firstElementChild as HTMLParagraphElement).innerText = t.description || ''\r\n      if (t.steps.length && t.steps[0].before && !Array.isArray(t.steps[0].before)) {\r\n        const before = t.steps[0].before,\r\n          setting_display = document.createElement('div'),\r\n          header = document.createElement('span')\r\n        setting_display.className = 'tutorial-initial-settings'\r\n        setting_display.appendChild(header)\r\n        header.innerText = 'Initial Settings'\r\n        header.className = 'h6'\r\n        Object.keys(t.steps[0].before).forEach((k, i) => {\r\n          const row = document.createElement('p')\r\n          let part = document.createElement('span')\r\n          part.className = 'syntax-variable'\r\n          part.innerText = k.replace(patterns.settings, '')\r\n          row.appendChild(part)\r\n          part = document.createElement('span')\r\n          part.className = 'syntax-operator'\r\n          part.innerText = ' = '\r\n          row.appendChild(part)\r\n          part = document.createElement('span')\r\n          part.className = 'syntax-value'\r\n          part.innerText = before[k]\r\n          row.appendChild(part)\r\n          setting_display.appendChild(row)\r\n        })\r\n        description.appendChild(setting_display)\r\n      }\r\n      p.appendChild(start)\r\n      start.type = 'button'\r\n      start.className = 'btn'\r\n      start.innerText = 'Start'\r\n      start.dataset.name = name\r\n      start.addEventListener('click', this.start_tutorial)\r\n    })\r\n\r\n    // prepare step display\r\n    document.body.appendChild(this.container)\r\n    this.container.appendChild(this.backdrop)\r\n    this.container.className = 'tutorial-container hidden'\r\n    this.container.addEventListener('keyup', this.progress_tutorial)\r\n    this.backdrop.addEventListener('click', this.progress_tutorial)\r\n    this.backdrop.className = 'tutorial-backdrop'\r\n    this.container.appendChild(this.highlight)\r\n    this.highlight.className = 'tutorial-highlight'\r\n    this.highlight.addEventListener('click', this.progress_tutorial)\r\n    this.container.appendChild(this.frame)\r\n    this.frame.className = 'tutorial-frame'\r\n    this.frame.style.left = '50%'\r\n    this.frame.tabIndex = -1\r\n    this.frame.appendChild((e = document.createElement('div')))\r\n    this.frame.id = 'community_tutorial_frame'\r\n    this.frame.role = 'dialog'\r\n    this.frame.setAttribute('aria-labelledby', 'community_tutorial_description')\r\n    e.className = 'tutorial-step card'\r\n    e.appendChild((e = document.createElement('div')))\r\n    e.className = 'card-header'\r\n    e.appendChild(this.header)\r\n    this.header.className = 'card-title'\r\n    this.header.id = 'community_tutorial_title'\r\n    close = document.createElement('button')\r\n    e.appendChild(close)\r\n    close.type = 'button'\r\n    close.className = 'btn-close'\r\n    close.setAttribute('aria-label', 'Close Tutorial')\r\n    close.addEventListener('click', this.end_tutorial)\r\n    this.frame.firstElementChild.appendChild((e = document.createElement('div')))\r\n    e.className = 'card-body'\r\n    e.appendChild(this.dialog)\r\n    this.dialog.role = 'status'\r\n    this.dialog.id = 'community_tutorial_description'\r\n    this.dialog.setAttribute('aria-labelledby', 'community_tutorial_progress')\r\n    this.dialog.setAttribute('aria-live', 'polite')\r\n    e.lastElementChild.className = 'card-text'\r\n    this.frame.firstElementChild.appendChild((e = document.createElement('div')))\r\n    e.className = 'tutorial-footer card-footer'\r\n    e.appendChild(this.progress)\r\n    this.progress.role = 'progressbar'\r\n    this.progress.id = 'community_tutorial_progress'\r\n    e.appendChild(this.timer)\r\n    this.timer.role = 'timer'\r\n    e.appendChild(this.continue)\r\n    this.continue.addEventListener('click', this.progress_tutorial)\r\n    this.continue.type = 'button'\r\n    this.continue.className = 'btn'\r\n    this.continue.innerText = 'Next'\r\n    this.continue.setAttribute('aria-controls', 'community_tutorial_frame')\r\n  }\r\n  retrieve_element(this: TutorialManager, name: string): HTMLElement {\r\n    let e: HTMLElement\r\n    if (name in this.site_elements) {\r\n      this.current_site_element = this.site_elements[name]\r\n      e = this.current_site_element.e\r\n    } else if ('nav:' === name.substring(0, 4).toLowerCase()) {\r\n      const text = name.replace(patterns.pre_colon, '')\r\n      document.querySelectorAll('.nav-item button').forEach((item: HTMLButtonElement) => {\r\n        if (text === item.innerText) e = item\r\n      })\r\n    } else {\r\n      try {\r\n        e = document.querySelector(name.replace(patterns.id_escapes, '\\\\$1'))\r\n      } catch (error) {}\r\n    }\r\n    return e\r\n  }\r\n  start_tutorial(this: TutorialManager, event?: MouseEvent, name?: string): void {\r\n    this.end_tutorial()\r\n    document.querySelectorAll('[data-bs-dismiss]').forEach((close: HTMLButtonElement) => close.click())\r\n    this.in_progress = name ? name : (event.target as HTMLButtonElement).dataset.name\r\n    if (!(this.in_progress in this.tutorials)) {\r\n      console.error('tutorial does not exist:', this.in_progress)\r\n      this.in_progress = ''\r\n      return\r\n    }\r\n    this.container.classList.remove('hidden')\r\n    this.header.innerText = this.tutorials[this.in_progress].title || this.in_progress\r\n    this.current_step = 0\r\n    this.current_time = 0\r\n    this.dialog.innerText = 'Starting tutorial ' + this.header.innerText\r\n    this.timer.innerText = ''\r\n    this.continue.innerText = 'Next'\r\n    if (this.tutorials[this.in_progress].reset) this.site_reset()\r\n    this.progress_tutorial()\r\n  }\r\n  progress_tutorial(this: TutorialManager, event?: KeyboardEvent): void {\r\n    const isClick = !event || !event.code\r\n    if (!isClick && 'Escape' === event.code) this.end_tutorial()\r\n    if (this.in_progress && !this.waiting && (isClick || 'Enter' === event.code || 'ArrowRight' === event.code)) {\r\n      this.waiting = true\r\n      clearTimeout(this.focuser)\r\n      clearInterval(this.running_timer)\r\n      const t = this.tutorials[this.in_progress]\r\n      let step: TutorialStep\r\n      const handle_object = (obj: {[index: string]: string}) => {\r\n        Object.keys(obj).forEach(k => {\r\n          if (patterns.number.test(k)) {\r\n            do_action(obj[k])\r\n          } else {\r\n            if (k in this.site_elements && this.site_elements[k].set) {\r\n              this.site_elements[k].set(obj[k])\r\n            }\r\n          }\r\n        })\r\n      }\r\n      const set_value = (value: string | string[]) => {\r\n        if (this.current_site_element && this.current_site_element.set) {\r\n          this.current_site_element.set(value)\r\n        } else {\r\n          const input =\r\n            'value' in this.current_element ? this.current_element : this.current_element.querySelector('input')\r\n          if (input) {\r\n            input.value = value\r\n            input.dispatchEvent(new Event('change'))\r\n            input.dispatchEvent(new KeyboardEvent('keydown', {code: 'Enter'}))\r\n          }\r\n        }\r\n      }\r\n      const do_action = (action: string) => {\r\n        action = String(action)\r\n        if ('set' === action) {\r\n          if ('option' in step) set_value(step.option)\r\n        } else if ('click' === action) {\r\n          if (\r\n            this.current_site_element &&\r\n            this.current_site_element.toggle &&\r\n            action === this.current_site_element.id\r\n          ) {\r\n            if (!this.current_site_element.expanded) this.current_site_element.toggle({target: this.current_element})\r\n          } else {\r\n            this.current_element && this.current_element.click()\r\n          }\r\n        } else if ('close' === action) {\r\n          document.querySelectorAll('[data-bs-dismiss]').forEach((close: HTMLButtonElement) => close.click())\r\n        } else if ('value' === action.substring(0, 5)) {\r\n          set_value(action.replace(patterns.pre_colon, '').trimStart())\r\n        } else {\r\n          const e = this.retrieve_element(action)\r\n          if (e) e.click()\r\n        }\r\n      }\r\n      // handle previous step's after action\r\n      if (this.current_step > 0) {\r\n        step = t.steps[this.current_step - 1]\r\n        if ('after' in step) {\r\n          if (Array.isArray(step.after)) {\r\n            step.after.forEach(do_action)\r\n          } else {\r\n            handle_object(step.after)\r\n          }\r\n        }\r\n      }\r\n      if (this.current_step >= t.n_steps) {\r\n        this.end_tutorial()\r\n      } else {\r\n        this.current_site_element = void 0\r\n        // handle current step's before action\r\n        step = t.steps[this.current_step]\r\n        this.current_element = this.retrieve_element(step.focus)\r\n        if ('before' in step) {\r\n          if (Array.isArray(step.before)) {\r\n            step.before.forEach(do_action)\r\n          } else {\r\n            handle_object(step.before)\r\n          }\r\n        }\r\n        if (this.current_step === t.n_steps - 1) this.continue.innerText = 'Finish'\r\n        if (this.current_element && this.current_element.scrollIntoView) this.current_element.scrollIntoView()\r\n        // execute current step after actions have resolved\r\n        setTimeout(this.execute_step, 'wait' in step ? step.wait : 400)\r\n      }\r\n    }\r\n  }\r\n  execute_step(this: TutorialManager): void {\r\n    if (this.in_progress) {\r\n      const t = this.tutorials[this.in_progress]\r\n      const step = t.steps[this.current_step]\r\n      if (!this.current_element) {\r\n        const e = this.retrieve_element(step.focus)\r\n        if (!e) {\r\n          console.error('failed to retrieve element', step.focus)\r\n          return this.end_tutorial()\r\n        }\r\n        this.current_element = e\r\n        if (e.scrollIntoView) e.scrollIntoView()\r\n        setTimeout(this.execute_step, 0)\r\n        return\r\n      }\r\n      this.continue.disabled = !!step.disable_continue\r\n      const b = this.current_element.getBoundingClientRect(),\r\n        f = this.frame.getBoundingClientRect()\r\n      this.highlight.style.top = b.top + 'px'\r\n      this.highlight.style.left = b.left + 'px'\r\n      this.highlight.style.width = b.width + 'px'\r\n      this.highlight.style.height = b.height + 'px'\r\n      this.frame.style.top = (b.y < screen.availHeight / 2 ? b.y + b.height + 10 : b.y - f.height - 10) + 'px'\r\n      this.frame.style.marginLeft = -f.width / 2 + 'px'\r\n      if (step.time) {\r\n        this.current_time = step.time\r\n        this.timer.innerText = step.time + ''\r\n        this.running_timer = setInterval(() => {\r\n          this.current_time--\r\n          this.timer.innerText = this.current_time + ''\r\n          if (this.current_time <= 0) {\r\n            clearInterval(this.running_timer)\r\n            this.progress_tutorial()\r\n          }\r\n        }, 1e3)\r\n      } else {\r\n        this.timer.innerText = ''\r\n      }\r\n      this.progress.innerText = 'Step ' + (this.current_step + 1) + ' of ' + t.n_steps\r\n      this.dialog.innerText = step.description\r\n      this.current_step++\r\n      this.waiting = false\r\n      this.focuser = setTimeout(() => this.continue.focus(), 0)\r\n    }\r\n  }\r\n  end_tutorial(this: TutorialManager): void {\r\n    this.in_progress = ''\r\n    this.current_step = 0\r\n    this.container.classList.add('hidden')\r\n    this.waiting = false\r\n    clearTimeout(this.focuser)\r\n  }\r\n}\r\n","'use strict'\r\nimport {palettes} from './palettes'\r\nimport {patterns} from './patterns'\r\nimport {value_types} from './value_types'\r\nimport {defaults} from './defaults'\r\nimport {summary_levels} from './summary_levels'\r\nimport {set_description} from './utils'\r\nimport {TutorialManager} from './tutorials'\r\nconst community = function (window, document, site) {\r\n  const tooltip_icon_rule =\r\n      'button.has-note::after,.button-wrapper.has-note button::before,.has-note legend::before,.has-note label::before,.wrapper.has-note > div > label::before{display:none}',\r\n    conditionals = {\r\n      setting: function (u) {\r\n        const v = u.value(),\r\n          theme = v ? 'dark' : 'light'\r\n        if (v !== site.settings[u.setting]) {\r\n          site.settings[u.setting] = v\r\n          if ('theme_dark' === u.setting) {\r\n            v\r\n              ? document.body.classList.replace('light-theme', 'dark-theme')\r\n              : document.body.classList.replace('dark-theme', 'light-theme')\r\n            if (site.plotly) Object.keys(site.plotly).forEach(k => update_plot_theme(site.plotly[k].u))\r\n            if (site.map)\r\n              Object.keys(site.map).forEach(k => {\r\n                const u = site.map[k].u\r\n                if (u && theme in u.tiles) {\r\n                  Object.keys(u.tiles).forEach(l => {\r\n                    if (theme !== l) u.tiles[l].removeFrom(u.map)\r\n                  })\r\n                  u.tiles[theme].addTo(u.map)\r\n                }\r\n              })\r\n          } else if ('hide_url_parameters' === u.setting) {\r\n            window.history.replaceState(\r\n              Date.now(),\r\n              '',\r\n              site.settings.hide_url_parameters\r\n                ? window.location.protocol + '//' + window.location.host + window.location.pathname\r\n                : get_options_url()\r\n            )\r\n          } else if ('hide_tooltips' === u.setting) {\r\n            v ? page.script_style.sheet.insertRule(tooltip_icon_rule, 0) : page.script_style.sheet.removeRule(0)\r\n          } else if ('map_overlay' === u.setting) {\r\n            Object.keys(site.map).forEach(id => {\r\n              if ('_' !== id[0]) {\r\n                if (v) {\r\n                  site.map[id].u.update()\r\n                } else {\r\n                  site.map[id].u.overlay.clearLayers()\r\n                  site.map[id].u.overlay_control.remove()\r\n                }\r\n              }\r\n            })\r\n          } else if ('tracking' === u.setting) {\r\n            if (v && site.tag_id && !dataLayer.length) {\r\n              gtag('js', new Date())\r\n              gtag('config', site.tag_id)\r\n              gtag('consent', 'default', {analytics_storage: 'denied'})\r\n            }\r\n            gtag('consent', 'update', {analytics_storage: v ? 'granted' : 'denied'})\r\n          } else {\r\n            global_update()\r\n          }\r\n          gtag('event', 'setting', {event_category: u.setting, event_label: v})\r\n          storage.set(u.setting, site.settings[u.setting])\r\n        }\r\n      },\r\n      options: function (u) {\r\n        const no_view = !u.view || !site.dataviews[u.view].selection,\r\n          d = valueOf(u.dataset || no_view || site.dataviews[u.view].dataset) || defaults.dataset,\r\n          va = valueOf(u.variable),\r\n          k = d + (va ? va : ''),\r\n          combobox = 'combobox' === u.type\r\n        if (!(k in u.option_sets)) {\r\n          if (patterns.variable.test(u.optionSource)) {\r\n            if (-1 === u.default) u.default = defaults.variable\r\n            fill_variables_options(u, d, u.option_sets)\r\n          } else if (patterns.levels.test(u.optionSource)) {\r\n            fill_levels_options(u, d, va, u.option_sets)\r\n          } else if (patterns.ids.test(u.optionSource)) {\r\n            fill_ids_options(u, d, u.option_sets)\r\n          }\r\n        }\r\n        if (k in u.option_sets) {\r\n          const fresh = k !== u.current_set && (u.sensitive || !u.current_set),\r\n            c = u[combobox ? 'listbox' : 'e']\r\n          if (fresh || u.filter || u.selection_subset) {\r\n            if (fresh) {\r\n              c.innerHTML = ''\r\n              if (u.option_sets[k].groups) u.groups = u.option_sets[k].groups\r\n              u.values = u.option_sets[k].values\r\n              u.display = u.option_sets[k].display\r\n              u.options = u.option_sets[k].options\r\n            }\r\n            let ns = 0\r\n            if ('ID' === u.variable || patterns.ids.test(u.optionSource)) {\r\n              const value = u.value()\r\n              let selection = -1 === value || '' === value ? u.subset : u.selection_subset,\r\n                v = {}\r\n              if (!no_view) {\r\n                if (selection in _u) selection = valueOf(selection)\r\n                if ('siblings' === selection) {\r\n                  const rel = site.data.entity_tree && site.data.entity_tree[value]\r\n                  if (rel) {\r\n                    const parents = Object.keys(rel.parents)\r\n                    if (parents.length) {\r\n                      v = {}\r\n                      parents.forEach(id => {\r\n                        v = {...v, ...site.data.entity_tree[id].children}\r\n                      })\r\n                    }\r\n                  }\r\n                } else {\r\n                  v = site.dataviews[u.view].selection[selection]\r\n                }\r\n              }\r\n              u.options.forEach(si => {\r\n                if (fresh && !u.groups) c.appendChild(si)\r\n                if (no_view || (si.value || si.dataset.value) in v) {\r\n                  si.classList.remove('hidden')\r\n                  ns++\r\n                } else {\r\n                  si.classList.add('hidden')\r\n                }\r\n              })\r\n            } else if (fresh) {\r\n              u.options.forEach(si => {\r\n                si.classList.remove('hidden')\r\n                if (!u.groups) c.appendChild(si)\r\n                ns++\r\n              })\r\n            } else ns++\r\n            if (fresh && u.groups) u.groups.e.forEach(e => c.appendChild(e))\r\n            toggle_input(u, ns)\r\n            u.current_set = k\r\n            if (fresh) {\r\n              if (combobox) {\r\n                u.source = []\r\n              } else {\r\n                u.e.selectedIndex = -1\r\n                u.source = ''\r\n              }\r\n              u.id in site.url_options\r\n                ? u.set(site.url_options[u.id])\r\n                : u.state in u.values\r\n                ? u.set(u.state)\r\n                : u.reset()\r\n            }\r\n            if (u.filter) u.filter()\r\n          }\r\n        }\r\n      },\r\n      set_current: function () {\r\n        this.values = this.option_sets[this.dataset].values\r\n        this.display = this.option_sets[this.dataset].display\r\n        this.options = this.option_sets[this.dataset].options\r\n        this.source = ''\r\n        this.id in site.url_options\r\n          ? this.set(site.url_options[this.id])\r\n          : this.state in this.values\r\n          ? this.set(this.state)\r\n          : this.reset()\r\n      },\r\n      min: async function (u, c) {\r\n        let cv = c.value(),\r\n          uv = u.value(),\r\n          v = _u[u.view || c.view],\r\n          variable\r\n        if (patterns.minmax.test(cv)) cv = c.parsed.min\r\n        if (v && v.y) {\r\n          variable = valueOf(v.y)\r\n          if (variable in site.data.variables) {\r\n            if (!v.time_range.time.length) await conditionals.time_range(v, u, true)\r\n            cv = Math.max(v.time_range.time[0], parseFloat(cv))\r\n          }\r\n          u.update()\r\n        }\r\n        u.e.min = 'undefined' === typeof u.parsed.min ? parseFloat(cv) : Math.max(u.parsed.min, parseFloat(cv))\r\n        if (!u.e.value) {\r\n          u.reset()\r\n        } else if ('number' === typeof uv && isFinite(uv) && uv < cv) {\r\n          u.set(cv)\r\n        }\r\n        if (u.min_indicator) u.min_indicator.firstElementChild.innerText = cv\r\n      },\r\n      max: async function (u, c) {\r\n        let cv = c.value(),\r\n          uv = u.value(),\r\n          v = _u[u.view || c.view],\r\n          variable\r\n        if (patterns.minmax.test(cv)) cv = c.parsed.max\r\n        if (v && v.y) {\r\n          variable = valueOf(v.y)\r\n          if (variable in site.data.variables) {\r\n            if (!v.time_range.time.length) await conditionals.time_range(v, u, true)\r\n            cv = Math.min(v.time_range.time[1], parseFloat(cv))\r\n          }\r\n          u.update()\r\n        }\r\n        u.e.max = 'undefined' === typeof u.parsed.max ? parseFloat(cv) : Math.min(u.parsed.max, parseFloat(cv))\r\n        if (!u.e.value) {\r\n          u.reset()\r\n        } else if ('number' === typeof uv && isFinite(uv) && uv > cv) {\r\n          u.set(cv)\r\n        }\r\n        if (u.max_indicator) u.max_indicator.firstElementChild.innerText = cv\r\n      },\r\n      dataview: function (f) {\r\n        f = f || _u[defaults.dataview]\r\n        const state = f.value()\r\n        if (state !== f.state && _u._entity_filter.registered[f.parsed.dataset]) {\r\n          if (site.data.inited[f.parsed.dataset]) {\r\n            f.valid = true\r\n            f.n_selected.ids = 0\r\n            f.n_selected.children = 0\r\n            f.n_selected.features = 0\r\n            f.n_selected.variables = 0\r\n            f.n_selected.dataset = 0\r\n            f.n_selected.filtered = 0\r\n            f.n_selected.full_filter = 0\r\n            f.n_selected.all = 0\r\n            f.selection.ids = {}\r\n            f.selection.children = {}\r\n            f.selection.features = {}\r\n            f.selection.variables = {}\r\n            f.selection.dataset = {}\r\n            f.selection.filtered = {}\r\n            f.selection.full_filter = {}\r\n            f.selection.all = {}\r\n            _u._base_filter.c.forEach(f => {\r\n              f.passed = 0\r\n              f.failed = 0\r\n            })\r\n            _u._entity_filter.entities.forEach(e => {\r\n              const c = f.check(e),\r\n                id = e.features.id\r\n              c.all = 0\r\n              if (c.ids) {\r\n                f.selection.ids[id] = e\r\n                f.n_selected.ids++\r\n                c.all++\r\n              }\r\n              if (c.features) {\r\n                f.selection.features[id] = e\r\n                f.n_selected.features++\r\n                c.all++\r\n              }\r\n              if (c.variables) {\r\n                f.selection.variables[id] = e\r\n                f.n_selected.variables++\r\n                c.all++\r\n              }\r\n              if (c.dataset) {\r\n                f.selection.dataset[id] = e\r\n                f.n_selected.dataset++\r\n                c.all++\r\n              }\r\n              if (c.dataset && c.ids) {\r\n                f.selection.children[id] = e\r\n                f.n_selected.children++\r\n              }\r\n              if (c.features && c.variables) {\r\n                f.selection.full_filter[id] = e\r\n                f.n_selected.full_filter++\r\n              }\r\n              if (c.variables && c.features && c.ids) {\r\n                f.selection.filtered[id] = e\r\n                f.n_selected.filtered++\r\n              }\r\n              if (4 === c.all) {\r\n                f.selection.all[id] = e\r\n                f.n_selected.all++\r\n              }\r\n            })\r\n            request_queue(f.id)\r\n          } else {\r\n            f.valid = false\r\n            site.data.data_queue[f.parsed.dataset][f.id] = function () {\r\n              return conditionals.dataview(f)\r\n            }\r\n          }\r\n        }\r\n      },\r\n      time_filters: function (u) {\r\n        u.time_range.filtered[0] = Infinity\r\n        u.time_range.filtered[1] = -Infinity\r\n        const d = u.get.dataset(),\r\n          time = site.data.meta.times[d],\r\n          current = u.time_range.filtered_index + ''\r\n        if (!site.data.inited[d]) return\r\n        for (let i = time.n; i--; ) {\r\n          let pass = false\r\n          if (i >= u.time_range.index[0] && i <= u.time_range.index[1]) {\r\n            for (let f = u.time_filters.length; f--; ) {\r\n              const v = {},\r\n                tf = u.time_filters[f]\r\n              if (!(tf.value in v)) v[tf.value] = valueOf(tf.value)\r\n              pass = DataHandler.checks[tf.type](time.value[i], v[tf.value])\r\n              if (!pass) break\r\n            }\r\n          }\r\n          u.times[i] = pass\r\n          if (pass) {\r\n            if (u.time_range.filtered[0] > time.value[i]) u.time_range.filtered[0] = time.value[i]\r\n            if (u.time_range.filtered[1] < time.value[i]) u.time_range.filtered[1] = time.value[i]\r\n          }\r\n        }\r\n        u.time_range.filtered_index = [\r\n          u.time_range.index[0] + u.time_range.filtered[0] - u.time_range.time[0],\r\n          u.time_range.index[1] + u.time_range.filtered[1] - u.time_range.time[1],\r\n        ]\r\n        if (current !== u.time_range.filtered_index + '') {\r\n          const c = _c[u.id + '_filter']\r\n          if (c)\r\n            c.forEach(ci => {\r\n              if ('update' === ci.type) {\r\n                _u[ci.id].update()\r\n              } else if (ci.type in conditionals) {\r\n                conditionals[ci.type](_u[ci.id], u)\r\n              }\r\n            })\r\n        }\r\n      },\r\n      time_range: async function (u, c, passive) {\r\n        const v = c && c.value(),\r\n          d = u.get.dataset(),\r\n          tv = u.time ? valueOf(u.time) : defaults.time,\r\n          t = tv in site.data.variables ? site.data.variables[tv].info[d].min : 1,\r\n          s = _c[u.id + '_time'],\r\n          variable = v in site.data.variables ? v : valueOf(u.y)\r\n        let r = variable && (await site.data.get_variable(variable, u.id))\r\n        if (r) {\r\n          const reset = d + variable != u.time_range.dataset + u.time_range.variable\r\n          r = r.time_range[d]\r\n          if (-1 !== r[0]) {\r\n            u.time_range.dataset = d\r\n            u.time_range.variable = variable\r\n            u.time_range.index[0] = r[0]\r\n            u.time_range.time[0] = u.time_range.filtered[0] = t + r[0]\r\n            u.time_range.index[1] = r[1]\r\n            u.time_range.time[1] = u.time_range.filtered[1] = t + r[1]\r\n          }\r\n          if (!passive && s) {\r\n            s.forEach(si => {\r\n              const su = _u[si.id],\r\n                value = su.value()\r\n              if ('min' === si.type) {\r\n                if (reset || (isFinite(u.time_range.time[0]) && parseFloat(su.e.min) !== u.time_range.time[0])) {\r\n                  su.e.min = u.time_range.time[0]\r\n                  if (reset || !meta.retain_state || u.time_range.time[0] > value) {\r\n                    su.current_default = u.time_range.time[0]\r\n                    su.set(su.current_default)\r\n                  }\r\n                }\r\n              } else if ('max' === si.type) {\r\n                if (reset || (isFinite(u.time_range.time[1]) && parseFloat(su.e.max) !== u.time_range.time[1])) {\r\n                  su.e.max = u.time_range.time[1]\r\n                  if (reset || !meta.retain_state || u.time_range.time[1] < value || value < u.time_range.time[0]) {\r\n                    su.current_default = u.time_range.time[1]\r\n                    su.set(su.current_default)\r\n                  }\r\n                }\r\n              }\r\n            })\r\n            conditionals.time_filters(u)\r\n          }\r\n        } else {\r\n          u.time_range.dataset = d\r\n          u.time_range.index[0] = 0\r\n          u.time_range.time[0] = u.time_range.filtered[0] = 1\r\n          u.time_range.index[1] = 0\r\n          u.time_range.time[1] = u.time_range.filtered[1] = 1\r\n        }\r\n      },\r\n      id_filter: function () {\r\n        const ids = {}\r\n        _u._entity_filter.selected = []\r\n        _u._entity_filter.select_ids = ids\r\n        if (site.metadata.datasets) {\r\n          site.metadata.datasets.forEach(d => {\r\n            if (d in page.modal.filter.entity_inputs) {\r\n              const s = page.modal.filter.entity_inputs[d].value(),\r\n                cs = []\r\n              if (s && s.length) {\r\n                s.forEach(id => {\r\n                  const e = site.data.entities[id]\r\n                  if (e) {\r\n                    cs.push(id)\r\n                    _u._entity_filter.selected.push(id)\r\n                    ids[id] = true\r\n                    if (e.relations) {\r\n                      Object.keys(e.relations.parents).forEach(k => (ids[k] = true))\r\n                      Object.keys(e.relations.children).forEach(k => (ids[k] = true))\r\n                    }\r\n                  }\r\n                })\r\n                page.modal.filter.entity_inputs[d].source = cs\r\n              }\r\n            }\r\n          })\r\n        }\r\n      },\r\n    },\r\n    elements = {\r\n      button: {\r\n        init: function (o) {\r\n          o.target = o.e.getAttribute('data-target')\r\n          if ('copy' === o.target) o.settings.endpoint = site.endpoint\r\n          if ('filter' === o.target) {\r\n            o.e.setAttribute('data-bs-toggle', 'modal')\r\n            o.e.setAttribute('data-bs-target', '#filter_display')\r\n            o.notification = document.createElement('span')\r\n            o.notification.className = 'filter-notification hidden'\r\n            o.e.parentElement.appendChild(o.notification)\r\n            add_dependency('_base_filter', {type: 'update', id: o.id})\r\n            add_dependency('_entity_filter', {type: 'update', id: o.id})\r\n            o.update = elements.button.update.bind(o)\r\n            if (site.data) o.update()\r\n          } else\r\n            o.e.addEventListener(\r\n              'click',\r\n              o.settings.effects\r\n                ? 'export' === o.target || 'copy' === o.target\r\n                  ? function () {\r\n                      const f = {},\r\n                        s = this.settings,\r\n                        v = _u[s.dataview],\r\n                        d = v && v.parsed.dataset\r\n                      Object.keys(s.query).forEach(k => (f[k] = valueOf(s.query[k])))\r\n                      if (v) {\r\n                        if (!('include' in f) && v.y) f.include = valueOf(v.y)\r\n                        if (!('id' in f) && v.ids) f.id = valueOf(v.ids)\r\n                      }\r\n                      if ('copy' === this.target || this.api) {\r\n                        let q = []\r\n                        if ('id' in f && '' !== f.id && -1 != f.id) {\r\n                          q.push('id=' + f.id)\r\n                        } else {\r\n                          if (_u._entity_filter.selected.length) q.push('id=' + _u._entity_filter.selected.join(','))\r\n                        }\r\n                        if (v) {\r\n                          if (!f.time_range && v.time_range.filtered_index + '' !== v.time_range.index + '') {\r\n                            q.push(\r\n                              'time_range=' +\r\n                                site.data.meta.times[d].value[v.time_range.filtered_index[0]] +\r\n                                ',' +\r\n                                site.data.meta.times[d].value[v.time_range.filtered_index[1]]\r\n                            )\r\n                          }\r\n                          if (!v.features) v.features = {}\r\n                          Object.keys(v.features).forEach(k => {\r\n                            if (!(k in f)) {\r\n                              f[k] = valueOf(v.features[k])\r\n                              if (Array.isArray(f[k])) f[k] = f[k].join(',')\r\n                              q.push(k + '=' + f[k])\r\n                            }\r\n                          })\r\n                          if (_u._base_filter.c.size) _u._base_filter.value(q, v.parsed.time_agg)\r\n                        }\r\n                        Object.keys(f).forEach(k => {\r\n                          if (!patterns.exclude_query.test(k) && !(k in v.features)) q.push(k + '=' + f[k])\r\n                        })\r\n                        const k = s.endpoint + (q.length ? '?' + q.join('&') : '')\r\n                        if (this.api) {\r\n                          window.location.href = k\r\n                        } else {\r\n                          navigator.clipboard.writeText(k).then(\r\n                            () => {\r\n                              if ('Copied!' !== o.e.innerText) {\r\n                                o.text = o.e.innerText\r\n                                o.e.innerText = 'Copied!'\r\n                                setTimeout(function () {\r\n                                  o.e.innerText = o.text\r\n                                }, 500)\r\n                                gtag('event', 'export', {event_category: 'api link'})\r\n                              }\r\n                            },\r\n                            e => {\r\n                              if (e !== o.e.innerText) {\r\n                                o.text = o.e.innerText\r\n                                o.e.innerText = e\r\n                                setTimeout(function () {\r\n                                  o.e.innerText = o.text\r\n                                }, 1500)\r\n                              }\r\n                            }\r\n                          )\r\n                        }\r\n                      } else {\r\n                        if (v && 'selection' in v) {\r\n                          if (!f.time_range)\r\n                            f.time_range =\r\n                              site.data.meta.times[d].value[v.time_range.filtered_index[0]] +\r\n                              ',' +\r\n                              site.data.meta.times[d].value[v.time_range.filtered_index[1]]\r\n                          site.data.export(f, v.selection.all, true)\r\n                        } else site.data.export(f, site.data.entities, true, true)\r\n                        gtag('event', 'export', {event_category: 'download'})\r\n                      }\r\n                    }.bind(o)\r\n                  : function () {\r\n                      Object.keys(this.settings.effects).forEach(k => {\r\n                        this.settings.effects[k] === '' || -1 == this.settings.effects[k]\r\n                          ? _u[k].reset()\r\n                          : _u[k].set(this.settings.effects[k])\r\n                      })\r\n                    }.bind(o)\r\n                : 'refresh' === o.target\r\n                ? global_update\r\n                : 'reset_selection' === o.target\r\n                ? global_reset\r\n                : 'reset_storage' === o.target\r\n                ? clear_storage\r\n                : function () {\r\n                    if (this.target in _u) _u[this.target].reset()\r\n                  }.bind(o)\r\n            )\r\n        },\r\n        update: function () {\r\n          let n = Number(0 !== _u._entity_filter.selected.length)\r\n          _u._base_filter.c.forEach(f => (n += f.active))\r\n          if (n) {\r\n            this.notification.innerText = n\r\n            this.notification.classList.remove('hidden')\r\n          } else {\r\n            this.notification.classList.add('hidden')\r\n          }\r\n        },\r\n      },\r\n      buttongroup: {\r\n        retrieve: function () {\r\n          for (let i = this.options.length; i--; )\r\n            if (this.options[i].checked) {\r\n              this.set(i)\r\n              break\r\n            }\r\n        },\r\n        setter: function (v) {\r\n          this.previous = this.value()\r\n          this.current_index = 'string' === typeof v ? this.values.indexOf(v) : v\r\n          if (-1 !== this.current_index) {\r\n            this.source =\r\n              this.values[this.current_index] in _u\r\n                ? _u[this.values[this.current_index]]\r\n                : this.values[this.current_index]\r\n            this.options[this.current_index].checked = true\r\n          } else this.source = undefined\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          this.set(e.target.value)\r\n        },\r\n        adder: function (i, value, display, noadd) {\r\n          let e = [document.createElement('input'), document.createElement('label')]\r\n          e[0].className = 'btn-check'\r\n          e[0].type = 'radio'\r\n          e[0].name = this.e.id + '_options'\r\n          e[0].autocomplete = 'off'\r\n          e[0].value = value\r\n          e[0].id = this.e.id + '_option' + i\r\n          e[1].className = 'btn btn-primary'\r\n          e[1].innerText = display || site.data.format_label(value)\r\n          e[1].setAttribute('for', e[0].id)\r\n          if (!noadd) {\r\n            this.e.appendChild(e[0])\r\n            this.e.appendChild(e[1])\r\n          }\r\n          return e[0]\r\n        },\r\n      },\r\n      radio: {\r\n        retrieve: function () {\r\n          for (let i = this.options.length; i--; ) {\r\n            if (this.options[i].checked) {\r\n              this.set(i)\r\n              break\r\n            }\r\n          }\r\n        },\r\n        setter: function (v) {\r\n          this.current_index = 'string' === typeof v ? this.values.indexOf(v) : v\r\n          if (-1 !== this.current_index) {\r\n            this.source =\r\n              this.values[this.current_index] in _u\r\n                ? _u[this.values[this.current_index]]\r\n                : this.values[this.current_index]\r\n            this.options[this.current_index].checked = true\r\n          } else this.source = undefined\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          this.set(e.target.value)\r\n        },\r\n        adder: function (value, display, noadd) {\r\n          const e = document.createElement('div'),\r\n            s = 'TRUE' === this.e.getAttribute('data-switch')\r\n          e.className = 'form-check' + (s ? ' form-switch' : '')\r\n          e.appendChild(document.createElement('input'))\r\n          e.appendChild(document.createElement('label'))\r\n          e.firstElementChild.autocomplete = 'off'\r\n          e.firstElementChild.className = 'form-check-input'\r\n          if (s) e.firstElementChild.role = 'switch'\r\n          e.firstElementChild.type = 'radio'\r\n          e.firstElementChild.name = this.e.id + '_options'\r\n          e.firstElementChild.id = this.e.id + '_option' + this.e.childElementCount\r\n          e.firstElementChild.value = value\r\n          e.lastElementChild.innerText = display || site.data.format_label(value)\r\n          e.lastElementChild.className = 'form-check-label'\r\n          e.lastElementChild.setAttribute('for', e.firstElementChild.id)\r\n          if (!noadd) this.e.appendChild(e)\r\n          return e.firstElementChild\r\n        },\r\n      },\r\n      checkbox: {\r\n        retrieve: function () {\r\n          this.source = []\r\n          this.current_index = []\r\n          this.off_default = false\r\n          this.options.forEach(o => {\r\n            if (o.checked) {\r\n              this.source.push(this.values[i])\r\n              this.current_index.push(i)\r\n            } else {\r\n              this.off_default = true\r\n            }\r\n          })\r\n          request_queue(this.id)\r\n        },\r\n        setter: function (v) {\r\n          if ('object' === typeof v) {\r\n            this.source = []\r\n            this.current_index = []\r\n            this.off_default = false\r\n            this.values.forEach((cv, i) => {\r\n              if (-1 !== v.indexOf(cv)) {\r\n                this.source.push(cv)\r\n                this.current_index.push(i)\r\n                this.options[i].checked = true\r\n              } else {\r\n                this.off_default = true\r\n                this.options[i].checked = false\r\n              }\r\n            })\r\n          } else {\r\n            if ('string' === typeof v) {\r\n              return this.set('' === v ? this.values : v.split(','))\r\n            } else {\r\n              if (-1 !== v) {\r\n                this.options[v].checked = true\r\n                this.off_default = false\r\n                this.options.forEach(o => {\r\n                  if (!o.checked) this.off_default = true\r\n                })\r\n              }\r\n            }\r\n          }\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          if (e.target.checked) {\r\n            this.source.push(e.target.value)\r\n            this.current_index.push(this.values.indexOf(e.target.value))\r\n            this.off_default = false\r\n            this.options.forEach(o => {\r\n              if (!o.checked) this.off_default = true\r\n            })\r\n          } else {\r\n            let i = this.source.indexOf(e.target.value)\r\n            if (i !== -1) {\r\n              this.off_default = true\r\n              this.source.splice(i, 1)\r\n              this.current_index.splice(i, 1)\r\n            }\r\n          }\r\n          request_queue(this.id)\r\n        },\r\n        adder: function (value, display, noadd) {\r\n          let e = document.createElement('div'),\r\n            s = 'TRUE' === this.e.getAttribute('data-switch')\r\n          e.className = 'form-check' + (s ? ' form-switch' : '')\r\n          e.appendChild(document.createElement('input'))\r\n          e.appendChild(document.createElement('label'))\r\n          e.firstElementChild.autocomplete = 'off'\r\n          e.firstElementChild.className = 'form-check-input'\r\n          if (s) e.firstElementChild.role = 'switch'\r\n          e.firstElementChild.type = 'checkbox'\r\n          e.firstElementChild.name = this.e.id + '_options'\r\n          e.firstElementChild.id = this.e.id + '_option' + this.e.childElementCount\r\n          e.firstElementChild.value = value\r\n          e.lastElementChild.innerText = display || site.data.format_label(value)\r\n          e.lastElementChild.className = 'form-check-label'\r\n          e.lastElementChild.setAttribute('for', e.firstElementChild.id)\r\n          if (!noadd) this.e.appendChild(e)\r\n          return e.firstElementChild\r\n        },\r\n      },\r\n      switch: {\r\n        retrieve: function () {\r\n          this.set(this.e.checked)\r\n        },\r\n        setter: function (v) {\r\n          if ('string' === typeof v) v = 'on' === v || 'true' === v\r\n          if (v !== this.source) {\r\n            this.previous = this.e.checked\r\n            this.e.checked = this.source = v\r\n            request_queue(this.id)\r\n          }\r\n        },\r\n        listener: function () {\r\n          this.set(this.e.checked)\r\n        },\r\n      },\r\n      number: {\r\n        init: function (o) {\r\n          const up = o.e.parentElement.parentElement.querySelector('.number-up')\r\n          const down = o.e.parentElement.parentElement.querySelector('.number-down')\r\n          if (down) {\r\n            down.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(Math.max(this.parsed.min, this.value() - 1))\r\n              }.bind(o)\r\n            )\r\n          }\r\n          if (up) {\r\n            up.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(Math.min(this.parsed.max, this.value() + 1))\r\n              }.bind(o)\r\n            )\r\n          }\r\n        },\r\n        retrieve: function () {\r\n          this.set(this.e.value)\r\n        },\r\n        setter: function (v, check) {\r\n          if (!v) v = null\r\n          if ('string' === typeof v) v = parseFloat(v)\r\n          if (isFinite(v) && v !== this.source) {\r\n            this.previous = parseFloat(this.e.value)\r\n            if (check) {\r\n              if (isFinite(this.parsed.min) && v < this.parsed.min) {\r\n                v = this.parsed.min\r\n              } else if (isFinite(this.parsed.max) && v > this.parsed.max) {\r\n                v = this.parsed.max\r\n              }\r\n            }\r\n            this.off_default = v !== this.current_default\r\n            this.e.value = this.source = v\r\n            this.current_index = v - this.parsed.min\r\n            if ('range' === this.e.type) {\r\n              this.e.nextElementSibling.firstElementChild.innerText = this.e.value\r\n            }\r\n            request_queue(this.id)\r\n          }\r\n        },\r\n        listener: function (e) {\r\n          this.set(this.e.value, true)\r\n        },\r\n      },\r\n      intext: {\r\n        retrieve: function () {\r\n          this.set(this.e.value)\r\n        },\r\n        setter: function (v, check) {\r\n          this.previous = this.e.value\r\n          this.e.value = this.source = v\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          this.set(this.e.value, true)\r\n        },\r\n      },\r\n      text: {\r\n        init: function (o) {\r\n          if (site.text && o.id in site.text) {\r\n            o.text = site.text[o.id].text\r\n            o.condition = site.text[o.id].condition || []\r\n            o.depends = new Map()\r\n            o.text.forEach(oi => {\r\n              if ('text' in oi) {\r\n                init_text(o, oi)\r\n                o.e.appendChild(oi.parts)\r\n              } else {\r\n                o.e.appendChild(document.createElement('span'))\r\n                oi.forEach(t => init_text(o, t))\r\n              }\r\n            })\r\n            o.condition.forEach(c => {\r\n              if (c.id in _u) add_dependency(c.id, {type: 'display', id: o.id})\r\n            })\r\n            o.depends.forEach(d => add_dependency(d.id, {type: 'update', id: o.id}))\r\n            o.update = elements.text.update.bind(o)\r\n          }\r\n          o.update()\r\n        },\r\n        update: function () {\r\n          Object.keys(this.reference_options).forEach(k => (this.options[k] = valueOf(this.reference_options[k])))\r\n          this.depends.forEach(d => {\r\n            d.parsed = valueOf(d.id)\r\n            if (d.u) {\r\n              if (d.u.options) {\r\n                d.parsed = d.u.options[d.u.values[d.parsed]].innerText\r\n              } else {\r\n                d.parsed =\r\n                  d.u.display && d.parsed in d.u.display ? d.u.display[d.parsed] : site.data.format_label(d.parsed)\r\n              }\r\n            } else if (d.parsed in site.data.entities) {\r\n              d.parsed = site.data.entities[d.parsed].features.name\r\n            }\r\n          })\r\n          this.text.forEach((o, i) => {\r\n            let pass = true\r\n            if (o.length) {\r\n              for (let t = o.length; t--; ) {\r\n                if ('condition' in o[t]) {\r\n                  for (let c = o[t].condition.length; c--; ) {\r\n                    pass = o[t].condition[c].check()\r\n                    if (!pass) break\r\n                  }\r\n                  if (pass) {\r\n                    o = o[t]\r\n                    break\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              if ('condition' in o) {\r\n                for (let t = o.condition.length; t--; ) {\r\n                  pass = o.condition[t].check()\r\n                  if (!pass) break\r\n                }\r\n              }\r\n            }\r\n            if (pass) {\r\n              o.text.forEach((k, i) => {\r\n                if (Array.isArray(k)) {\r\n                  k.forEach(ki => {\r\n                    if ('default' === ki.id || DataHandler.checks[ki.type](valueOf(ki.id), valueOf(ki.value)))\r\n                      k = ki.text\r\n                  })\r\n                }\r\n                if (this.depends.has(k)) {\r\n                  o.parts.children[i].innerText = this.depends.get(k).parsed\r\n                } else if (k in o.button) {\r\n                  let s = ''\r\n                  o.button[k].text.forEach(b => {\r\n                    s = (this.depends.has(b) ? this.depends.get(b).parsed : b) + s\r\n                  })\r\n                  o.parts.children[i].innerText = s\r\n                } else o.parts.children[i].innerText = k\r\n              })\r\n              if (this.text[i].length) {\r\n                this.e.children[i].innerHTML = ''\r\n                this.e.children[i].appendChild(o.parts)\r\n              } else o.parts.classList.remove('hidden')\r\n            } else o.parts.classList.add('hidden')\r\n          })\r\n        },\r\n      },\r\n      select: {\r\n        retrieve: function () {\r\n          this.set(this.e.selectedIndex)\r\n        },\r\n        setter: function (v) {\r\n          if ('string' === typeof v && !(v in this.values) && patterns.number.test(v)) v = Number(v)\r\n          if ('number' === typeof v) v = this.options[v] ? this.options[v].value : v\r\n          if (!(v in this.values) && v in this.display) v = this.options[this.display[v]].value\r\n          if (v !== this.source) {\r\n            this.e.selectedIndex = v in this.values ? this.values[v] : -1\r\n            this.source = v\r\n            request_queue(this.id)\r\n          }\r\n        },\r\n        listener: function (e) {\r\n          this.set(e.target.selectedIndex)\r\n        },\r\n        adder: function (value, display, meta, noadd) {\r\n          const e = document.createElement('option')\r\n          e.value = value\r\n          e.innerText = display || site.data.format_label(value)\r\n          if (meta && meta.info) {\r\n            e.title = meta.info.description || meta.info.short_description\r\n          }\r\n          if (!noadd) this.e.appendChild(e)\r\n          return e\r\n        },\r\n      },\r\n      combobox: {\r\n        create: function (label, options, settings, id) {\r\n          id = id || 'created_combobox_' + ++page.elementCount\r\n          const main = document.createElement('div')\r\n          let e = document.createElement('div'),\r\n            c = document.createElement('div')\r\n          if (settings) {\r\n            if (!site.combobox) site.combobox = {}\r\n            site.combobox[id] = settings\r\n          }\r\n          e.className = 'wrapper combobox-wrapper'\r\n          if (settings && settings.floating) {\r\n            e.appendChild(c)\r\n            c.className = 'form-floating'\r\n            c.dataset.of = id\r\n            e = c\r\n          }\r\n          e.appendChild(main)\r\n          main.id = id\r\n          main.setAttribute('data-autoType', 'combobox')\r\n          main.className = 'auto-input form-select combobox combobox-component'\r\n          main.role = 'combobox'\r\n          main.appendChild((c = document.createElement('div')))\r\n          c.className = 'combobox-selection combobox-component'\r\n          c.appendChild(document.createElement('span'))\r\n          c.lastElementChild.className = 'combobox-component'\r\n          c.lastElementChild.setAttribute('aria-live', 'assertive')\r\n          c.lastElementChild.setAttribute('aria-atomic', 'true')\r\n          c.lastElementChild.setAttribute('aria-role', 'log')\r\n          c.appendChild((c = document.createElement('input')))\r\n          c.setAttribute('aria-haspopup', 'listbox')\r\n          c.setAttribute('aria-expanded', 'false')\r\n          c.setAttribute('aria-controls', id + '-listbox')\r\n          c.className = 'combobox-input combobox-component'\r\n          c.type = 'text'\r\n          c.role = 'combobox'\r\n          c.id = id + '-input'\r\n          c.autocomplete = 'off'\r\n          if (settings && settings.clearable) {\r\n            e.firstElementChild.appendChild((c = document.createElement('button')))\r\n            c.type = 'button'\r\n            c.className = 'btn-close'\r\n            c.title = 'clear selection'\r\n          }\r\n          e.appendChild((c = document.createElement('div')))\r\n          c.className = 'combobox-options combobox-component'\r\n          c.setAttribute('aria-labelledby', id + '-label')\r\n          c.role = 'listbox'\r\n          c.tabindex = '-1'\r\n          c.id = id + '-listbox'\r\n          e.appendChild((c = document.createElement('label')))\r\n          c.id = id + '-label'\r\n          c.innerText = label\r\n          c.setAttribute('for', id + '-input')\r\n          elements.init_input(main)\r\n          const u = _u[id]\r\n          let n = 0\r\n          u.options = []\r\n          if (options)\r\n            if (Array.isArray(options)) {\r\n              options.forEach(o => {\r\n                const l = site.data.format_label(o)\r\n                u.display[l] = n\r\n                u.values[o] = n++\r\n                u.options.push(u.add(o, l))\r\n              })\r\n            } else {\r\n              u.groups = {e: [], by_name: {}}\r\n              Object.keys(options).forEach(k => {\r\n                const g = options[k]\r\n                const e = document.createElement('div'),\r\n                  id = u.id + '_group_' + k.replace(patterns.seps, '-')\r\n                e.className = 'combobox-group combobox-component'\r\n                e.setAttribute('aria-labelledby', id)\r\n                e.appendChild(document.createElement('label'))\r\n                e.firstElementChild.innerText = k\r\n                e.firstElementChild.id = id\r\n                e.firstElementChild.className = 'combobox-group-label combobox-component'\r\n                u.groups.by_name[k] = e\r\n                u.groups.e.push(e)\r\n                g.forEach(o => u.groups.by_name[k].appendChild(u.add(o, o, true)))\r\n                u.listbox.appendChild(e)\r\n              })\r\n              Object.keys(u.groups.by_name).forEach(g => {\r\n                u.groups.by_name[g].querySelectorAll('.combobox-option').forEach(c => {\r\n                  u.options.push(c)\r\n                  c.setAttribute('data-group', g)\r\n                  u.values[c.dataset.value] = n\r\n                  u.display[c.innerText] = n++\r\n                })\r\n              })\r\n            }\r\n          return u\r\n        },\r\n        init: function (o) {\r\n          o.hover_index = -1\r\n          o.cleared_selection = ''\r\n          o.expanded = false\r\n          o.settings.use_display = o.settings.search || o.settings.multi\r\n          o.listbox = o.e.parentElement.children[1]\r\n          o.options = o.listbox.querySelectorAll('.combobox-option')\r\n          if (o.options.length) {\r\n            o.values = {}\r\n            o.display = {}\r\n            o.options.forEach((e, i) => {\r\n              o.values[e.dataset.value] = i\r\n              o.display[e.innerText] = i\r\n            })\r\n            const group = o.listbox.querySelectorAll('.combobox-group')\r\n            if (group.length) {\r\n              o.groups = {e: [], by_name: {}}\r\n              group.forEach(e => {\r\n                const name = e.dataset.group\r\n                o.groups.e[name] = e\r\n                o.groups.by_name[name] = e\r\n              })\r\n            }\r\n          }\r\n          o.container = document.createElement('div')\r\n          o.container.className = 'combobox-options-container combobox-component hidden'\r\n          page.overlay.appendChild(o.container)\r\n          o.container.appendChild(o.listbox)\r\n          o.selection = o.e.firstElementChild.firstElementChild\r\n          o.input_element = o.e.firstElementChild.lastElementChild\r\n          if (2 === o.e.childElementCount) {\r\n            o.e.lastElementChild.addEventListener(\r\n              'click',\r\n              function () {\r\n                if (!this.e.classList.contains('locked')) {\r\n                  this.cleared_selection = ''\r\n                  this.set([])\r\n                  this.input_element.focus()\r\n                }\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.value = function () {\r\n            return this.source\r\n              ? this.settings.multi\r\n                ? this.source\r\n                : this.source.length\r\n                ? this.source[0]\r\n                : ''\r\n              : valueOf(this.default)\r\n          }.bind(o)\r\n          o.set_selected = function (value) {\r\n            if (value in this.values) {\r\n              const option = this.options[this.values[value]]\r\n              option.classList.add('selected')\r\n              option.setAttribute('aria-selected', 'true')\r\n            }\r\n          }.bind(o)\r\n          o.input_element.addEventListener(\r\n            'focus',\r\n            function () {\r\n              this.e.classList.add('focused')\r\n            }.bind(o)\r\n          )\r\n          o.input_element.addEventListener(\r\n            'blur',\r\n            function () {\r\n              this.e.classList.remove('focused')\r\n            }.bind(o)\r\n          )\r\n          o.listbox.addEventListener('click', o.set)\r\n          o.close = function (e) {\r\n            if (this.expanded && (!e || !e.target.classList || !e.target.classList.contains('combobox-component'))) {\r\n              if (this.settings.use_display && '' === this.selection.innerText && this.source.length)\r\n                this.selection.innerText = this.cleared_selection\r\n              if ('' !== this.input_element.value) setTimeout(this.set, 0)\r\n              this.e.setAttribute('aria-expanded', 'false')\r\n              this.expanded = false\r\n              this.container.classList.add('hidden')\r\n              window.removeEventListener('click', o.close)\r\n            }\r\n          }.bind(o)\r\n          o.resize = function () {\r\n            const s = this.e.getBoundingClientRect()\r\n            this.container.style.left = s.x + 'px'\r\n            this.container.style.width = s.width + 'px'\r\n            if (window.screen.height / 2 > s.y) {\r\n              this.container.style.top = s.y + s.height + 'px'\r\n              this.container.style.bottom = ''\r\n            } else {\r\n              this.container.style.top = ''\r\n              this.container.style.bottom = -s.y + 'px'\r\n            }\r\n          }.bind(o)\r\n          window.addEventListener('resize', o.resize)\r\n          o.toggle = function (e) {\r\n            if (!e.button && !this.e.classList.contains('disabled') && 'BUTTON' !== e.target.tagName) {\r\n              if (this.expanded) {\r\n                if (e.target !== this.input_element) this.close()\r\n              } else {\r\n                if (site.combobox)\r\n                  Object.keys(site.combobox).forEach(id => {\r\n                    if (id !== this.id) {\r\n                      const ou = _u[id]\r\n                      ou.expanded && ou.close()\r\n                    }\r\n                  })\r\n                this.container.classList.remove('hidden')\r\n                if ('' !== this.selection.innerText) this.cleared_selection = this.selection.innerText\r\n                if (this.cleared_selection in this.display)\r\n                  this.highlight({target: this.options[this.display[this.cleared_selection]]})\r\n                if (this.settings.use_display) this.selection.innerText = ''\r\n                window.addEventListener('click', this.close)\r\n                this.e.setAttribute('aria-expanded', 'true')\r\n                if (!e || e.target !== this.input_element) setTimeout(() => this.input_element.focus(), 0)\r\n                this.resize()\r\n                this.expanded = true\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.e.addEventListener('mousedown', o.toggle)\r\n          o.highlight = function (e) {\r\n            if (!e || !e.target || e.target.dataset.value in this.values) {\r\n              if (!this.groups) this.settings.accordion = false\r\n              if (e && e.target && e.target.dataset.value) {\r\n                this.hover_index = this.values[e.target.dataset.value]\r\n              } else if (-1 === this.hover_index && this.source) {\r\n                this.hover_index = this.values[this.source[0]]\r\n              }\r\n              if ('undefined' === typeof this.hover_index) this.hover_index = -1\r\n              const o = this.options[this.hover_index]\r\n              if (o) {\r\n                const previous = this.listbox.querySelector('.highlighted')\r\n                if (previous) previous.classList.remove('highlighted')\r\n                if (e && 'mouseover' === e.type) {\r\n                  e.target.classList.add('highlighted')\r\n                } else {\r\n                  o.classList.add('highlighted')\r\n                  if (this.settings.accordion) {\r\n                    const c = o.parentElement.parentElement\r\n                    if (!c.classList.contains('show')) {\r\n                      c.classList.add('show')\r\n                      c.previousElementSibling.firstElementChild.classList.remove('collapsed')\r\n                      c.previousElementSibling.firstElementChild.setAttribute('aria-expanded', 'true')\r\n                    }\r\n                  }\r\n                  this.input_element.setAttribute('aria-activedescendant', o.id)\r\n                  const port = this.container.getBoundingClientRect(),\r\n                    item = o.getBoundingClientRect()\r\n                  let top = port.top\r\n                  if (this.groups && o.getAttribute('data-group'))\r\n                    top +=\r\n                      this.groups.by_name[o.getAttribute('data-group')].firstElementChild.getBoundingClientRect().height\r\n                  if (top > item.top) {\r\n                    this.container.scrollTo(0, this.container.scrollTop + item.top - top)\r\n                  } else if (port.bottom < item.bottom) {\r\n                    this.container.scrollTo(0, this.container.scrollTop + item.bottom - port.bottom)\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.listbox.addEventListener('mouseover', o.highlight)\r\n          if (o.settings.accordion) {\r\n            o.listbox.addEventListener('show.bs.collapse', e => {\r\n              const group = o.hover_index === -1 ? '' : o.options[o.hover_index].getAttribute('data-group')\r\n              if (group !== e.target.getAttribute('data-group')) {\r\n                o.highlight({target: e.target.firstElementChild.firstElementChild})\r\n                o.input_element.focus()\r\n              }\r\n            })\r\n          }\r\n          o.clear_highlight = function () {\r\n            if (-1 !== this.hover_index) {\r\n              this.options[this.hover_index].classList.remove('highlighted')\r\n              this.hover_index = -1\r\n            }\r\n          }.bind(o)\r\n          o.filter_reset = function () {\r\n            if (this.groups)\r\n              this.groups.e.forEach(g => g.firstElementChild.firstElementChild.classList.remove('hidden'))\r\n            this.input_element.value = ''\r\n            this.filter_index = []\r\n            this.options.forEach((o, i) => {\r\n              if (!o.classList.contains('hidden')) this.filter_index.push(i)\r\n            })\r\n            this.listbox.querySelectorAll('.filter-hidden').forEach(o => o.classList.remove('filter-hidden'))\r\n          }.bind(o)\r\n          if (o.settings.search) {\r\n            o.filterer = function (e) {\r\n              const q = this.input_element.value.toLowerCase()\r\n              if ('' === q) {\r\n                this.filter_reset()\r\n              } else {\r\n                this.filter_index = []\r\n                if (this.groups) {\r\n                  this.groups.e.forEach(g => g.firstElementChild.firstElementChild.classList.add('hidden'))\r\n                }\r\n                this.options.forEach((o, i) => {\r\n                  if (!o.classList.contains('hidden') && o.innerText.toLowerCase().includes(q)) {\r\n                    o.classList.remove('filter-hidden')\r\n                    this.filter_index.push(i)\r\n                    const group = o.getAttribute('data-group')\r\n                    if (group) {\r\n                      this.groups.by_name[group].firstElementChild.firstElementChild.classList.remove('hidden')\r\n                      if (this.settings.accordion) {\r\n                        const g = this.groups.by_name[group]\r\n                        g.firstElementChild.nextElementSibling.classList.add('show')\r\n                        g.firstElementChild.firstElementChild.classList.remove('collapsed')\r\n                        g.firstElementChild.firstElementChild.setAttribute('aria-expanded', 'true')\r\n                      }\r\n                    }\r\n                  } else {\r\n                    o.classList.add('filter-hidden')\r\n                  }\r\n                })\r\n              }\r\n            }.bind(o)\r\n            o.input_element.addEventListener('keyup', o.filterer)\r\n          }\r\n          o.input_element.addEventListener(\r\n            'keydown',\r\n            function (e) {\r\n              const action = keymap[e.code]\r\n              if (action) {\r\n                if ('close' === action) {\r\n                  this.close()\r\n                } else if ('select' === action) {\r\n                  if (!this.expanded) return this.toggle({target: this.input_element})\r\n                  this.set(e)\r\n                } else if ('move' === action) {\r\n                  const value = this.input_element.value\r\n                  if (this.settings.strict || (this.expanded && '' === value)) {\r\n                    e.preventDefault()\r\n                    if ('ArrowUp' === e.code) {\r\n                      if (this.filter_index && this.filter_index.length) {\r\n                        this.hover_index = this.filter_index.indexOf(this.hover_index) - 1\r\n                        this.hover_index = this.filter_index[0 > this.hover_index ? 0 : this.hover_index]\r\n                      } else {\r\n                        this.hover_index = Math.max(0, this.hover_index - 1)\r\n                      }\r\n                    } else if ('ArrowDown' === e.code) {\r\n                      if (this.filter_index && this.filter_index.length) {\r\n                        this.hover_index = this.filter_index.indexOf(this.hover_index) + 1\r\n                        this.hover_index =\r\n                          this.filter_index[\r\n                            this.filter_index.length - 1 < this.hover_index\r\n                              ? this.filter_index.length - 1\r\n                              : this.hover_index\r\n                          ]\r\n                      } else {\r\n                        this.hover_index = Math.min(this.options.length - 1, this.hover_index + 1)\r\n                      }\r\n                    } else if ('Home' === e.code) {\r\n                      this.hover_index = 0\r\n                    } else if ('End' === e.code) {\r\n                      this.hover_index = this.options.length - 1\r\n                    }\r\n                    if (this.expanded) {\r\n                      this.highlight()\r\n                    } else {\r\n                      this.set(this.hover_index)\r\n                    }\r\n                  } else if (patterns.number.test(value)) {\r\n                    this.set(Number(value) + ('ArrowUp' === e.code ? 1 : -1))\r\n                  }\r\n                }\r\n              } else if (!this.expanded) {\r\n                this.toggle({target: this.input_element})\r\n              } else {\r\n                this.clear_highlight()\r\n              }\r\n            }.bind(o)\r\n          )\r\n        },\r\n        retrieve: function () {\r\n          this.source = []\r\n          this.listbox.querySelectorAll('.selected').forEach(o => this.source.push(o.dataset.value))\r\n          request_queue(this.id)\r\n        },\r\n        setter: function (v, toggle) {\r\n          if (!v) v = this.input_element.value\r\n          if (v.target && (this.settings.accordion ? 'BUTTON' : 'LABEL') === v.target.tagName) return void 0\r\n          let update = false,\r\n            i = -1\r\n          if (v.target) {\r\n            i = this.hover_index\r\n            if (\r\n              -1 !== i &&\r\n              (this.options[i].classList.contains('hidden') || this.options[i].classList.contains('filter-hidden'))\r\n            )\r\n              i = -1\r\n            v =\r\n              -1 === i\r\n                ? 'INPUT' === v.target.tagName\r\n                  ? this.input_element.value\r\n                  : v.target.dataset.value || v.target.innerText\r\n                : this.options[i].dataset.value || this.options[i].innerText\r\n            toggle = this.settings.multi\r\n          }\r\n          this.filter_reset()\r\n          if ('object' === typeof v) {\r\n            if (this.settings.multi) {\r\n              this.listbox.querySelectorAll('.selected').forEach(e => {\r\n                e.classList.remove('selected')\r\n                e.setAttribute('aria-selected', 'false')\r\n              })\r\n              this.source = -1 === v ? [] : v\r\n              v.forEach(this.set_selected)\r\n            } else v = v[0]\r\n          }\r\n          if (!Array.isArray(this.source)) this.source = []\r\n          if ('object' === typeof v && this.settings.multi) {\r\n            update = true\r\n          } else {\r\n            if (this.settings.strict && 'string' === typeof v && !(v in this.values) && patterns.number.test(v))\r\n              v = Number(v)\r\n            if ('number' !== this.value_type && 'number' === typeof v && this.options[v]) {\r\n              v = this.options[v].dataset.value\r\n            }\r\n            if ('string' === typeof v && v in this.display) v = this.options[this.display[v]].dataset.value\r\n            if (this.settings.strict && !(v in this.values)) v = this.default\r\n            i = this.source.indexOf(v)\r\n            if (-1 === i) {\r\n              update = true\r\n              if (-1 === v || '' === v) {\r\n                this.source = []\r\n              } else {\r\n                if (this.settings.multi) {\r\n                  this.source.push(v)\r\n                } else this.source[0] = v\r\n              }\r\n              if (v in this.values) {\r\n                if (!this.settings.multi) {\r\n                  const selected = this.listbox.querySelector('.selected')\r\n                  if (selected) {\r\n                    selected.classList.remove('selected')\r\n                    selected.setAttribute('aria-selected', 'false')\r\n                  }\r\n                }\r\n                this.set_selected(v)\r\n              }\r\n            } else if (toggle) {\r\n              update = true\r\n              this.source.splice(i, 1)\r\n              if (v in this.values) {\r\n                const selection = this.options[this.values[v]]\r\n                selection.classList.remove('selected')\r\n                selection.setAttribute('aria-selected', 'false')\r\n              }\r\n            }\r\n          }\r\n          if (!this.settings.multi && this.expanded) {\r\n            this.input_element.focus()\r\n            this.close()\r\n            this.filter_reset()\r\n          }\r\n          const display = this.source.length\r\n            ? this.settings.multi\r\n              ? this.source.length + ' of ' + this.options.length + ' selected'\r\n              : this.source[0] in this.values\r\n              ? this.options[this.values[this.source[0]]].firstChild.textContent\r\n              : this.settings.strict || -1 === this.source[0]\r\n              ? ''\r\n              : this.source[0]\r\n            : ''\r\n          if (this.settings.use_display) {\r\n            this.selection.innerText = display\r\n          } else {\r\n            this.input_element.value = display\r\n          }\r\n          if (this.onchange) this.onchange()\r\n          if (update) request_queue(this.id)\r\n        },\r\n        adder: function (value, display, noadd, meta) {\r\n          const e = document.createElement('div')\r\n          e.id = this.id + '_' + value\r\n          e.role = 'option'\r\n          e.setAttribute('aria-selected', 'false')\r\n          e.tabindex = '0'\r\n          e.className = 'combobox-option combobox-component'\r\n          e.dataset.value = value\r\n          e.innerText = display || site.data.format_label(value)\r\n          if (meta && meta.info) {\r\n            e.appendChild(document.createElement('p'))\r\n            e.lastElementChild.className = 'combobox-option-description combobox-component'\r\n            e.lastElementChild.innerText = meta.info.description || meta.info.short_description || ''\r\n          }\r\n          if (!noadd) this.listbox.appendChild(e)\r\n          return e\r\n        },\r\n      },\r\n      plotly: {\r\n        init: function (o) {\r\n          o.previous_span = 1\r\n          if (o.id in site.plotly) {\r\n            o.x = o.e.getAttribute('data-x')\r\n            o.y = o.e.getAttribute('data-y')\r\n            o.color = o.e.getAttribute('data-color')\r\n            o.time = o.e.getAttribute('data-colorTime')\r\n            o.click = o.e.getAttribute('data-click')\r\n            if (o.click in _u) o.clickto = _u[o.click]\r\n            o.parsed = {}\r\n            o.traces = {}\r\n            o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n            if (o.tab) {\r\n              document.getElementById(o.e.parentElement.getAttribute('aria-labelledby')).addEventListener(\r\n                'click',\r\n                function () {\r\n                  if (!this.e.parentElement.classList.contains('active')) {\r\n                    setTimeout(this.update, 155)\r\n                    setTimeout(trigger_resize, 155)\r\n                  }\r\n                }.bind(o)\r\n              )\r\n            }\r\n            o.show = function (e) {\r\n              o.revert()\r\n              let trace = make_data_entry(\r\n                this,\r\n                e,\r\n                0,\r\n                0,\r\n                'hover_line',\r\n                defaults['border_highlight_' + site.settings.theme_dark]\r\n              )\r\n              if (trace) {\r\n                trace.line.width = 4\r\n                trace.marker.size = 12\r\n                Plotly.addTraces(this.e, trace, this.e.data.length)\r\n              }\r\n            }\r\n            o.revert = function () {\r\n              if (this.e.data.length && 'hover_line' === this.e.data[this.e.data.length - 1].name)\r\n                Plotly.deleteTraces(this.e, this.e.data.length - 1)\r\n            }\r\n            if (o.options) site.plotly[o.id].u = o\r\n            site.plotly[o.id].data.forEach((p, i) => {\r\n              Object.keys(p).forEach(k => {\r\n                if (patterns.period.test(k)) {\r\n                  const es = k.split('.'),\r\n                    n = es.length - 1\r\n                  let pl = null\r\n                  es.forEach((e, ei) => {\r\n                    pl = pl ? (pl[e] = ei === n ? p[k] : {}) : (p[e] = {})\r\n                  })\r\n                }\r\n              })\r\n              if (!('textfont' in p)) p.textfont = {}\r\n              if (!('color' in p.textfont)) p.textfont.color = defaults.background_highlight\r\n              if (!('line' in p)) p.line = {}\r\n              if (!('color' in p.line)) p.line.color = defaults.background_highlight\r\n              if (!('marker' in p)) p.marker = {}\r\n              p.marker.size = 8\r\n              if (!('color' in p.marker)) p.marker.color = defaults.background_highlight\r\n              if (!('line' in p.marker)) p.marker.line = {}\r\n              if (!('color' in p.marker.line)) p.marker.line.color = defaults.background_highlight\r\n              if (!('text' in p)) p.text = []\r\n              if (!('x' in p)) p.x = []\r\n              if ('box' === p.type) {\r\n                p.hoverinfo = 'none'\r\n              } else if (!('y' in p)) p.y = []\r\n              o.traces[p.type] = JSON.stringify(p)\r\n              if (!i) {\r\n                o.base_trace = p.type\r\n                if (o.base_trace in _u) add_dependency(o.base_trace, {type: 'update', id: o.id})\r\n              }\r\n            })\r\n            if (o.x && !(o.x in site.data.variables)) {\r\n              add_dependency(o.x, {type: 'update', id: o.id})\r\n            }\r\n            if (o.y && !(o.y in site.data.variables)) {\r\n              add_dependency(o.y, {type: 'update', id: o.id})\r\n            }\r\n            if (o.color && !(o.color in site.data.variables)) {\r\n              add_dependency(o.color, {type: 'update', id: o.id})\r\n            }\r\n            if (o.time in _u) {\r\n              add_dependency(o.time, {type: 'update', id: o.id})\r\n            }\r\n            if (o.view) {\r\n              add_dependency(o.view, {type: 'update', id: o.id})\r\n              add_dependency(o.view + '_filter', {type: 'update', id: o.id})\r\n              if (_u[o.view].time_agg in _u) add_dependency(_u[o.view].time_agg, {type: 'update', id: o.id})\r\n            } else o.view = defaults.dataview\r\n            o.queue = this.queue_init.bind(o)()\r\n          }\r\n        },\r\n        queue_init: function () {\r\n          const showing = this.deferred || !this.tab || this.tab.classList.contains('show')\r\n          if (showing && window.Plotly) {\r\n            Plotly.newPlot(this.e, this.options)\r\n            this.e\r\n              .on('plotly_hover', elements.plotly.mouseover.bind(this))\r\n              .on('plotly_unhover', elements.plotly.mouseout.bind(this))\r\n              .on('plotly_click', elements.plotly.click.bind(this))\r\n            update_plot_theme(this)\r\n            this.update()\r\n          } else {\r\n            this.deferred = true\r\n            setTimeout(this.queue, showing ? 0 : 2000)\r\n          }\r\n        },\r\n        mouseover: function (d) {\r\n          if (d.points && 1 === d.points.length && this.e.data[d.points[0].fullData.index]) {\r\n            Plotly.restyle(this.e, {'line.width': 5}, d.points[0].fullData.index)\r\n            update_subs(this.id, 'show', site.data.entities[d.points[0].data.id])\r\n          }\r\n        },\r\n        mouseout: function (d) {\r\n          if (d.points && 1 === d.points.length && this.e.data[d.points[0].fullData.index]) {\r\n            Plotly.restyle(this.e, {'line.width': 2}, d.points[0].fullData.index)\r\n            update_subs(this.id, 'revert', site.data.entities[d.points[0].data.id])\r\n          }\r\n        },\r\n        click: function (d) {\r\n          this.clickto && this.clickto.set(d.points[0].data.id)\r\n        },\r\n        update: async function (pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show')) this.queue = setTimeout(() => this.update(true), 50)\r\n          } else {\r\n            if (this.e.layout) {\r\n              const v = _u[this.view],\r\n                s = v.selection && v.selection.all,\r\n                d = v.get.dataset(),\r\n                y = _u[this.time || v.time_agg],\r\n                parsed = this.parsed\r\n              if (site.data.inited[d] && s && v.time_range.filtered.length) {\r\n                parsed.base_trace = valueOf(this.base_trace)\r\n                parsed.x = valueOf(this.x)\r\n                parsed.y = valueOf(this.y)\r\n                parsed.color = valueOf(this.color || v.y || parsed.y)\r\n                const varx = await site.data.get_variable(parsed.x, this.view),\r\n                  vary = await site.data.get_variable(parsed.y, this.view),\r\n                  varcol = await site.data.get_variable(parsed.color, this.view)\r\n                parsed.x_range = varx.time_range[d]\r\n                parsed.y_range = vary.time_range[d]\r\n                parsed.view = v\r\n                parsed.dataset = d\r\n                parsed.palette = valueOf(v.palette) || site.settings.palette\r\n                if (!(parsed.palette in palettes)) parsed.palette = defaults.palette\r\n                parsed.time = (y ? y.value() - site.data.meta.times[d].range[0] : 0) - varcol.time_range[d][0]\r\n                parsed.summary = varcol.views[this.view].summaries[d]\r\n                const ns = parsed.summary.n,\r\n                  display_time = ns[parsed.time] ? parsed.time : 0,\r\n                  summary = vary.views[this.view].summaries[d],\r\n                  n = ns[display_time],\r\n                  subset = n !== v.n_selected.dataset,\r\n                  rank = subset ? 'subset_rank' : 'rank',\r\n                  order = subset ? varcol.views[this.view].order[d][display_time] : varcol.info[d].order[display_time],\r\n                  traces = []\r\n                let i = parsed.summary.missing[display_time],\r\n                  k,\r\n                  b,\r\n                  fn = order ? order.length : 0,\r\n                  lim = site.settings.trace_limit || 0,\r\n                  jump,\r\n                  state =\r\n                    v.value() +\r\n                    v.get.time_filters() +\r\n                    d +\r\n                    parsed.x +\r\n                    parsed.y +\r\n                    parsed.time +\r\n                    parsed.palette +\r\n                    parsed.color +\r\n                    site.settings.summary_selection +\r\n                    site.settings.color_scale_center +\r\n                    site.settings.color_by_order +\r\n                    site.settings.trace_limit +\r\n                    site.settings.show_empty_times\r\n                lim = jump = lim && lim < n ? Math.ceil(Math.min(lim / 2, n / 2)) : 0\r\n                Object.keys(this.reference_options).forEach(k => (this.options[k] = valueOf(this.reference_options[k])))\r\n                for (; i < fn; i++) {\r\n                  if (order[i][0] in s) {\r\n                    k = order[i][0]\r\n                    const e = s[k]\r\n                    state += k\r\n                    traces.push(make_data_entry(this, e, e.views[this.view][rank][parsed.color][parsed.time], n))\r\n                    if (lim && !--jump) break\r\n                  }\r\n                }\r\n                if (lim && i < fn) {\r\n                  for (jump = i, i = fn - 1; i > jump; i--) {\r\n                    if (order[i][0] in s) {\r\n                      k = order[i][0]\r\n                      const e = s[k]\r\n                      state += k\r\n                      traces.push(make_data_entry(this, e, e.views[this.view][rank][parsed.color][parsed.time], n))\r\n                      if (!--lim) break\r\n                    }\r\n                  }\r\n                }\r\n                state += traces.length && traces[0].type\r\n                if (site.settings.boxplots && 'box' in this.traces && s[k]) {\r\n                  state += 'box' + site.settings.iqr_box\r\n                  b = JSON.parse(this.traces.box)\r\n                  traces.push(b)\r\n                  b.line.color = defaults.border\r\n                  b.median = summary.median\r\n                  b.q3 = summary.q3\r\n                  b.q1 = summary.q1\r\n                  if (site.settings.iqr_box) {\r\n                    b.upperfence = []\r\n                    b.lowerfence = []\r\n                    b.q1.forEach((q1, i) => {\r\n                      if (isNaN(b.median[i])) b.median[i] = 0\r\n                      const n = (b.q3[i] - q1) * 1.5,\r\n                        med = b.median[i]\r\n                      b.q3[i] = isNaN(b.q3[i]) ? med : Math.max(med, b.q3[i])\r\n                      b.upperfence[i] = b.q3[i] + n\r\n                      b.q1[i] = isNaN(b.q1[i]) ? med : Math.min(med, q1)\r\n                      b.lowerfence[i] = q1 - n\r\n                    })\r\n                  } else {\r\n                    b.upperfence = summary.max\r\n                    b.lowerfence = summary.min\r\n                  }\r\n                  if (site.settings.show_empty_times) {\r\n                    b.x = b.q1.map((_, i) => s[k].get_value(parsed.x, i + parsed.y_range[0]))\r\n                  } else {\r\n                    b.x = []\r\n                    for (i = b.q1.length; i--; ) {\r\n                      if (ns[i]) {\r\n                        b.x[i] = s[k].get_value(parsed.x, i + parsed.y_range[0])\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (state !== this.state) {\r\n                  if ('boolean' !== typeof this.e.layout.yaxis.title)\r\n                    this.e.layout.yaxis.title =\r\n                      site.data.format_label(parsed.y) +\r\n                      (site.settings.trace_limit < v.n_selected.all\r\n                        ? ' (' + site.settings.trace_limit + ' extremes)'\r\n                        : '')\r\n                  if ('boolean' !== typeof this.e.layout.xaxis.title)\r\n                    this.e.layout.xaxis.title = site.data.format_label(parsed.x)\r\n                  this.e.layout.yaxis.autorange = false\r\n                  this.e.layout.yaxis.range = [Infinity, -Infinity]\r\n                  if (!b) b = {upperfence: summary.max, lowerfence: summary.min}\r\n                  let any_skipped = false\r\n                  summary.min.forEach((min, i) => {\r\n                    if (site.settings.show_empty_times || ns[i]) {\r\n                      const l = Math.min(b.lowerfence[i], min),\r\n                        u = Math.max(b.upperfence[i], summary.max[i])\r\n                      if (this.e.layout.yaxis.range[0] > l) this.e.layout.yaxis.range[0] = l\r\n                      if (this.e.layout.yaxis.range[1] < u) this.e.layout.yaxis.range[1] = u\r\n                    } else any_skipped = true\r\n                  })\r\n                  const r = (this.e.layout.yaxis.range[1] - this.e.layout.yaxis.range[0]) / 10\r\n                  this.e.layout.yaxis.range[0] -= r\r\n                  this.e.layout.yaxis.range[1] += r\r\n                  if (this.e.layout.yaxis.range[1] > 100) {\r\n                    const yinfo = vary.info[d].info\r\n                    if (yinfo && 'percent' === (yinfo.aggregation_method || yinfo.type))\r\n                      this.e.layout.yaxis.range[1] = 100\r\n                  }\r\n                  if (site.data.variables[parsed.x].is_time) {\r\n                    const start = v.time_range.filtered[0],\r\n                      end = v.time_range.filtered[1],\r\n                      adj = any_skipped && end > start ? Math.log(end - start) : 0.5\r\n                    if (this.e.layout.xaxis.autorange) {\r\n                      this.e.layout.xaxis.autorange = false\r\n                      this.e.layout.xaxis.type = 'linear'\r\n                      this.e.layout.xaxis.dtick = 1\r\n                      this.e.layout.xaxis.range = [start - adj, end + adj]\r\n                    } else {\r\n                      this.e.layout.xaxis.range[0] = start - adj\r\n                      this.e.layout.xaxis.range[1] = end + adj\r\n                    }\r\n                  }\r\n                  if (b.lowerfence.length < this.previous_span) {\r\n                    Plotly.newPlot(this.e, traces, this.e.layout, this.e.config)\r\n                    this.e\r\n                      .on('plotly_hover', elements.plotly.mouseover.bind(this))\r\n                      .on('plotly_unhover', elements.plotly.mouseout.bind(this))\r\n                      .on('plotly_click', elements.plotly.click.bind(this))\r\n                  } else {\r\n                    Plotly.react(this.e, traces, this.e.layout, this.e.config)\r\n                  }\r\n                  setTimeout(trigger_resize, 300)\r\n                  this.previous_span = b.lowerfence.length\r\n                  this.state = state\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n      },\r\n      map: {\r\n        init: function (o) {\r\n          o.color = o.e.getAttribute('data-color')\r\n          o.time = o.e.getAttribute('data-colorTime')\r\n          o.click = o.e.getAttribute('data-click')\r\n          if (o.click && o.click in _u) o.clickto = _u[o.click]\r\n          o.parsed = {}\r\n          o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n          o.show = function (e) {\r\n            if (e.layer && e.layer[this.id]) {\r\n              const highlight_style = {\r\n                color: 'var(--border-highlight)',\r\n                weight: site.settings.polygon_outline + 1,\r\n                fillOpacity: 1,\r\n              }\r\n              if (!site.data.inited[this.parsed.dataset + o.id]) {\r\n                const time = site.map[this.id].match_time(\r\n                  site.data.meta.overall.value[\r\n                    site.data.variables[this.parsed.color].time_range[this.parsed.dataset][0] + this.parsed.time\r\n                  ]\r\n                )\r\n                if (e.layer[this.id][time]) e.layer[this.id][time].setStyle(highlight_style)\r\n              } else if (e.layer[this.id].setStyle) {\r\n                e.layer[this.id].setStyle(highlight_style)\r\n              }\r\n            }\r\n          }\r\n          o.revert = function (e) {\r\n            if (e.layer && e.layer[this.id]) {\r\n              const default_style = {\r\n                color: 'var(--border)',\r\n                weight: site.settings.polygon_outline,\r\n                fillOpacity: 0.7,\r\n              }\r\n              if (!site.data.inited[this.parsed.dataset + this.id]) {\r\n                const time = site.map[this.id].match_time(\r\n                  site.data.meta.overall.value[\r\n                    site.data.variables[this.parsed.color].time_range[this.parsed.dataset][0] + this.parsed.time\r\n                  ]\r\n                )\r\n                if (e.layer[this.id][time]) e.layer[this.id][time].setStyle(default_style)\r\n              } else {\r\n                e.layer[this.id].setStyle(default_style)\r\n              }\r\n            }\r\n          }\r\n          const dep = {type: 'update', id: o.id}\r\n          if (o.view) {\r\n            if (_u[o.view].time_agg in _u) add_dependency(_u[o.view].time_agg, dep)\r\n            if (_u[o.view].y) add_dependency(_u[o.view].y, dep)\r\n          } else o.view = defaults.dataview\r\n          add_dependency(o.view, dep)\r\n          if (o.color in _u) add_dependency(o.color, dep)\r\n          if (o.time) add_dependency(o.time, dep)\r\n          if (!o.e.style.height) o.e.style.height = o.options.height ? o.options.height : '400px'\r\n          if (o.options.overlays_from_measures && site.data.variable_info) {\r\n            if (!Array.isArray(site.map[o.id].overlays)) site.map[o.id].overlays = []\r\n            const overlays = site.map[o.id].overlays\r\n            Object.keys(site.data.variable_info).forEach(variable => {\r\n              const info = site.data.variable_info[variable]\r\n              if (info.layer && info.layer.source) {\r\n                if ('string' === typeof info.layer.source && patterns.time_ref.test(info.layer.source)) {\r\n                  const temp = info.layer.source\r\n                  info.layer.source = []\r\n                  for (\r\n                    let range = site.data.meta.ranges[variable], y = range[0], max = range[1] + 1, time;\r\n                    y < max;\r\n                    y++\r\n                  ) {\r\n                    time = site.data.meta.overall.value[y]\r\n                    info.layer.source.push({url: temp.replace(patterns.time_ref, time), time: time})\r\n                  }\r\n                }\r\n                patterns.time_ref.lastIndex = 0\r\n                const layer = {variable: variable, source: info.layer.source}\r\n                if (info.layer.filter && (Array.isArray(info.layer.filter) || info.layer.filter.feature))\r\n                  layer.filter = info.layer.filter\r\n                overlays.push(layer)\r\n              }\r\n            })\r\n          }\r\n          o.queue = this.queue_init.bind(o)()\r\n        },\r\n        queue_init: function () {\r\n          const theme = site.settings.theme_dark ? 'dark' : 'light',\r\n            showing = this.deferred || !this.tab || this.tab.classList.contains('show')\r\n          if (showing && window.L) {\r\n            this.map = L.map(this.e, this.options)\r\n            this.options = this.map.options\r\n            this.overlay = L.featureGroup().addTo(this.map)\r\n            this.displaying = L.featureGroup().addTo(this.map)\r\n            this.overlay_control = L.control\r\n              .layers()\r\n              .setPosition('topleft')\r\n              .addOverlay(this.overlay, 'Overlay')\r\n              .addTo(this.map)\r\n            this.tiles = {}\r\n            if (this.id in site.map) {\r\n              const tiles = site.map[this.id].tiles\r\n              site.map[this.id].u = this\r\n              if (tiles) {\r\n                if (tiles.url) {\r\n                  this.tiles[theme] = L.tileLayer(tiles.url, tiles.options)\r\n                  this.tiles[theme].addTo(this.map)\r\n                } else {\r\n                  Object.keys(tiles).forEach(k => {\r\n                    this.tiles[k] = L.tileLayer(tiles[k].url, tiles[k].options)\r\n                    if (theme === k) this.tiles[k].addTo(this.map)\r\n                  })\r\n                }\r\n              }\r\n              if (!('_raw' in site.map)) site.map._raw = {}\r\n              if (!('_queue' in site.map)) site.map._queue = {}\r\n              if (!('_layers' in site.map[this.id])) site.map[this.id]._layers = {}\r\n              const time = site.data.meta.overall.value[_u[this.view].parsed.time_agg],\r\n                by_time = []\r\n              site.map[this.id].shapes.forEach((shape, i) => {\r\n                const has_time = 'time' in shape\r\n                if (has_time) {\r\n                  if (!site.map[this.id].has_time) {\r\n                    site.map[this.id].has_time = true\r\n                    add_dependency(this.view, {type: 'update', id: this.id})\r\n                  }\r\n                  by_time.push(Number(shape.time))\r\n                }\r\n                let k = shape.name\r\n                if (!k) shape.name = k = site.metadata.datasets[i < site.metadata.datasets.length ? i : 0]\r\n                const mapId = k + (has_time ? shape.time : '')\r\n                if (!(mapId in site.map._queue)) site.map._queue[mapId] = shape\r\n                site.data.inited[mapId + this.id] = false\r\n                if (\r\n                  (site.data.loaded[k] || k === this.options.background_shapes) &&\r\n                  (k === mapId ||\r\n                    (time && site.map[this.id].match_time && shape.time == site.map[this.id].match_time(time)))\r\n                )\r\n                  retrieve_layer(this, shape)\r\n              })\r\n              if (site.map[this.id].has_time) {\r\n                by_time.sort()\r\n                site.map[this.id].match_time = function (time) {\r\n                  let i = by_time.length\r\n                  for (; i--; ) if (!i || by_time[i] <= time) break\r\n                  return by_time[i]\r\n                }.bind(by_time)\r\n              }\r\n              site.map[this.id].triggers = {}\r\n              site.map[this.id].overlay_summaries = {}\r\n              if (Array.isArray(site.map[this.id].overlays)) {\r\n                site.map[this.id].overlays.forEach(l => {\r\n                  if ('string' === typeof l.source) l.source = [{url: l.source}]\r\n                  const source = l.source\r\n                  source.forEach(s => {\r\n                    s.processed = false\r\n                    s.property_summaries = {}\r\n                    site.map._queue[s.url] = s\r\n                  })\r\n                  site.map[this.id].triggers[l.variable] = {source}\r\n                  const fs = l.filter\r\n                  if (fs) {\r\n                    const fa = Array.isArray(fs) ? fs : [fs]\r\n                    site.map[this.id].triggers[l.variable].filter = fa\r\n                    fa.forEach(f => {\r\n                      f.check = DataHandler.checks[f.operator]\r\n                    })\r\n                  }\r\n                })\r\n              }\r\n            }\r\n          } else {\r\n            this.deferred = true\r\n            setTimeout(this.queue, showing ? 0 : 2000)\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          e.target.setStyle({\r\n            color: 'var(--border-highlight)',\r\n          })\r\n          update_subs(this.id, 'show', site.data.entities[e.target.feature.properties[e.target.source.id_property]])\r\n        },\r\n        mouseout: function (e) {\r\n          update_subs(this.id, 'revert', site.data.entities[e.target.feature.properties[e.target.source.id_property]])\r\n          e.target.setStyle({\r\n            color: 'var(--border)',\r\n          })\r\n        },\r\n        click: function (e) {\r\n          if (this.clickto) this.clickto.set(e.target.feature.properties[e.target.source.id_property])\r\n        },\r\n        update: async function (entity, caller, pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show'))\r\n              this.queue = setTimeout(() => this.update(void 0, void 0, true), 50)\r\n          } else {\r\n            if (this.view && this.displaying) {\r\n              const parsed = this.parsed,\r\n                view = site.dataviews[this.view],\r\n                d = view.get.dataset(),\r\n                time = valueOf(view.time_agg),\r\n                map_time = site.map[this.id].has_time ? site.map[this.id].match_time(time) : '',\r\n                inited = d + map_time + this.id in site.data.inited,\r\n                mapId = inited ? d + map_time : d\r\n              if (site.map._queue && mapId in site.map._queue && !site.data.inited[mapId + this.id]) {\r\n                if (!inited || null !== time)\r\n                  retrieve_layer(this, site.map._queue[mapId], () => this.update(void 0, void 0, true))\r\n                return\r\n              }\r\n              if (!view.valid && site.data.inited[d]) {\r\n                view.state = ''\r\n                conditionals.dataview(view, void 0, true)\r\n              }\r\n              parsed.view = view\r\n              parsed.dataset = d\r\n              const vstate =\r\n                  view.value() +\r\n                  mapId +\r\n                  site.settings.background_shapes +\r\n                  site.settings.background_top +\r\n                  site.settings.background_polygon_outline +\r\n                  site.data.inited[this.options.background_shapes],\r\n                a = view.selection.all,\r\n                s = view.selection[site.settings.background_shapes && this.options.background_shapes ? 'ids' : 'all'],\r\n                c = valueOf(this.color || view.y)\r\n              if (site.settings.map_overlay && c in site.map[this.id].triggers) {\r\n                show_overlay(this, site.map[this.id].triggers[c], site.data.meta.overall.value[view.parsed.time_agg])\r\n              } else {\r\n                this.overlay_control.remove()\r\n                this.overlay.clearLayers()\r\n              }\r\n              if (site.data.inited[mapId + this.id] && s && view.valid) {\r\n                const ys = this.time\r\n                  ? _u[this.time]\r\n                  : view.time_agg\r\n                  ? view.time_agg in _u\r\n                    ? _u[view.time_agg]\r\n                    : parseInt(view.time_agg)\r\n                  : 0\r\n                parsed.palette = valueOf(view.palette) || site.settings.palette\r\n                if (!(parsed.palette in palettes)) parsed.palette = defaults.palette\r\n                const varc = await site.data.get_variable(c, this.view),\r\n                  summary = varc.views[this.view].summaries[d],\r\n                  time = (ys.parsed ? ys.value() - site.data.meta.times[d].range[0] : 0) - varc.time_range[d][0]\r\n                parsed.summary = summary\r\n                parsed.time = time\r\n                parsed.color = c\r\n                const subset = summary.n[ys] === view.n_selected.dataset ? 'rank' : 'subset_rank'\r\n                if (vstate !== this.vstate) {\r\n                  this.map._zoomAnimated = 'none' !== site.settings.map_animations\r\n                  Object.keys(this.reference_options).forEach(k => {\r\n                    this.options[k] = valueOf(this.reference_options[k])\r\n                    if ('zoomAnimation' === k) this.map._zoomAnimated = this.options[k]\r\n                  })\r\n                  this.displaying.clearLayers()\r\n                  this.fresh_shapes = true\r\n                  this.vstate = false\r\n                  let n = 0\r\n                  Object.keys(s).forEach(k => {\r\n                    const skl = s[k].layer\r\n                    if (skl && skl[this.id]) {\r\n                      const fg = k in a,\r\n                        cl = skl[this.id].has_time ? skl[this.id][map_time] : skl[this.id]\r\n                      if (cl && (fg || this.options.background_shapes === site.data.entities[k].group)) {\r\n                        n++\r\n                        cl.options.interactive = fg\r\n                        cl.addTo(this.displaying)\r\n                        if (fg) {\r\n                          if (site.settings.background_top) cl.bringToBack()\r\n                        } else {\r\n                          if (!site.settings.background_top) cl.bringToBack()\r\n                          cl.setStyle({\r\n                            fillOpacity: 0,\r\n                            color: 'var(--border-highlight)',\r\n                            weight: site.settings.background_polygon_outline,\r\n                          })\r\n                        }\r\n                        if (!this.vstate) this.vstate = vstate\r\n                      }\r\n                    }\r\n                  })\r\n                  this.overlay.bringToFront()\r\n                  if (n)\r\n                    if ('fly' === site.settings.map_animations) {\r\n                      setTimeout(() => this.map.flyToBounds(this.displaying.getBounds()), 400)\r\n                    } else {\r\n                      this.map.fitBounds(this.displaying.getBounds())\r\n                    }\r\n                }\r\n\r\n                // coloring\r\n                const k =\r\n                  c +\r\n                  this.vstate +\r\n                  parsed.palette +\r\n                  time +\r\n                  site.settings.polygon_outline +\r\n                  site.settings.color_by_order +\r\n                  site.settings.color_scale_center\r\n                if (k !== this.cstate) {\r\n                  this.cstate = k\r\n                  if (site.map[this.id]) {\r\n                    const ls = this.displaying._layers\r\n                    const n = summary.n[time]\r\n                    Object.keys(ls).forEach(id => {\r\n                      const lsi = ls[id]\r\n                      if (d === lsi.entity.group) {\r\n                        const e = a[lsi.entity.features.id],\r\n                          es = e && e.views[this.view][subset]\r\n                        lsi.setStyle({\r\n                          fillOpacity: 0.7,\r\n                          color: 'var(--border)',\r\n                          fillColor:\r\n                            e && c in es\r\n                              ? pal(e.get_value(c, time), parsed.palette, summary, time, es[c][time], n)\r\n                              : defaults.missing,\r\n                          weight: site.settings.polygon_outline,\r\n                        })\r\n                      }\r\n                    })\r\n                  } else {\r\n                    if (!('_waiting' in site.map)) site.map._waiting = {}\r\n                    if (!(d in site.map._waiting)) site.map._waiting[d] = []\r\n                    if (-1 === site.map._waiting[d].indexOf(this.id)) site.map._waiting[d].push(this.id)\r\n                    if (-1 === site.map._waiting[d].indexOf(this.view)) site.map._waiting[d].push(this.view)\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n      },\r\n      info: {\r\n        init: function (o) {\r\n          o.depends = {}\r\n          o.has_default = o.options.default && (o.options.default.title || o.options.default.body)\r\n          add_subs(o.view, o)\r\n          if (o.options.floating) {\r\n            document.body.appendChild(o.e)\r\n            o.e.classList.add('hidden')\r\n            document.addEventListener('mousemove', function (e) {\r\n              if (o.showing) {\r\n                const f = page.content.getBoundingClientRect()\r\n                o.e.style.top = (e.y > f.height / 2 ? e.y - o.e.getBoundingClientRect().height - 10 : e.y + 10) + 'px'\r\n                o.e.style.left = (e.x > f.width / 2 ? e.x - o.e.getBoundingClientRect().width - 10 : e.x + 10) + 'px'\r\n              }\r\n            })\r\n          }\r\n          o.show = function (e, u) {\r\n            this.update(e, u)\r\n            this.showing = true\r\n            if (this.options.floating) this.e.classList.remove('hidden')\r\n            if (this.parts.title) {\r\n              if (this.selection) {\r\n                this.parts.title.base.classList.add('hidden')\r\n              } else this.parts.title.default.classList.add('hidden')\r\n              this.parts.title.temp.classList.remove('hidden')\r\n            }\r\n            if (this.parts.body) {\r\n              if (this.selection) {\r\n                this.parts.body.base.classList.add('hidden')\r\n              } else this.parts.body.default.classList.add('hidden')\r\n              this.parts.body.temp.classList.remove('hidden')\r\n            }\r\n          }\r\n          o.revert = function () {\r\n            this.showing = false\r\n            if (this.options.floating) {\r\n              this.e.classList.add('hidden')\r\n            } else {\r\n              if (this.parts.title) {\r\n                if (this.selection) {\r\n                  this.parts.title.base.classList.remove('hidden')\r\n                } else if (this.has_default) this.parts.title.default.classList.remove('hidden')\r\n                this.parts.title.temp.classList.add('hidden')\r\n              }\r\n              if (this.parts.body) {\r\n                if (this.selection) {\r\n                  this.parts.body.base.classList.remove('hidden')\r\n                } else if (this.has_default) this.parts.body.default.classList.remove('hidden')\r\n                this.parts.body.temp.classList.add('hidden')\r\n              }\r\n            }\r\n          }\r\n          o.parts = {}\r\n          function parse_part(o, t) {\r\n            const p = {\r\n              parent: o,\r\n              text: t,\r\n              parsed: {},\r\n              ref: true,\r\n              selection: false,\r\n              get: function (entity, caller) {\r\n                if (this.ref) {\r\n                  if (entity)\r\n                    if ('features' in this.parsed) {\r\n                      return entity.features[this.parsed.features]\r\n                    } else if ('data' in this.parsed) {\r\n                      if ('value' === this.text) {\r\n                        this.parsed.data = valueOf(o.options.variable || caller.color || caller.y || _u[o.view].y)\r\n                      } else if (this.text in _u) this.parsed.data = valueOf(this.text)\r\n                      if (!(this.parsed.data in site.data.variables)) return this.parsed.data\r\n                      const info = site.data.variables[this.parsed.data],\r\n                        v = site.data.format_value(\r\n                          entity.get_value(this.parsed.data, this.parent.time),\r\n                          info && info.info[entity.group] && 'integer' === info.info[entity.group].type\r\n                        )\r\n                      let type = info.meta.unit || info.meta.type\r\n                      if (info.meta.aggregation_method && !(type in value_types)) type = info.meta.aggregation_method\r\n                      return NaN !== v && type in value_types ? value_types[type](v) : v\r\n                    }\r\n                  if ('data' in this.parsed) {\r\n                    return site.data.meta.times[this.parent.dataset].value[this.parent.time_agg]\r\n                  } else if (\r\n                    'variables' in this.parsed &&\r\n                    (this.value_source || this.parent.v in site.data.variable_info)\r\n                  ) {\r\n                    return site.data.variable_info[valueOf(this.value_source || this.parent.v)][this.parsed.variables]\r\n                  }\r\n                  return this.text\r\n                } else return this.text\r\n              },\r\n            }\r\n            if ('value' === t) {\r\n              p.parsed.data = o.options.variable\r\n            } else if ('summary' === t) {\r\n              o.options.show_summary = true\r\n              p.parsed.summary = make_summary_table(o.e)\r\n            } else if ('filter' === t) {\r\n              const e = document.createElement('table')\r\n              e.className = 'info-filter'\r\n              p.parsed.filter = e\r\n            }\r\n            if (patterns.features.test(t)) {\r\n              p.parsed.features = t.replace(patterns.features, '')\r\n            } else if (patterns.data.test(t)) {\r\n              p.parsed.data = t.replace(patterns.data, '')\r\n            } else if (patterns.variables.test(t)) {\r\n              p.parsed.variables = t.replace(patterns.variables, '')\r\n            } else p.ref = false\r\n            return p\r\n          }\r\n          if (o.options.title) {\r\n            o.parts.title = parse_part(o, o.options.title)\r\n            if (\r\n              o.options.variable_info &&\r\n              'variables' in o.parts.title.parsed &&\r\n              patterns.measure_name.test(o.parts.title.parsed.variables)\r\n            ) {\r\n              o.parts.title.base = document.createElement('button')\r\n              o.parts.title.base.type = 'button'\r\n              o.parts.title.base.setAttribute('data-bs-toggle', 'modal')\r\n              o.parts.title.base.setAttribute('data-bs-target', '#variable_info_display')\r\n              o.parts.title.base.addEventListener('click', show_variable_info.bind(o))\r\n            } else o.parts.title.base = document.createElement('p')\r\n            o.parts.title.base.appendChild(document.createElement('span'))\r\n            o.parts.title.temp = document.createElement('p')\r\n            o.parts.title.default = document.createElement('p')\r\n            o.parts.title.temp.className =\r\n              o.parts.title.base.className =\r\n              o.parts.title.default.className =\r\n                'info-title hidden'\r\n            if (o.has_default && o.options.default.title) {\r\n              o.e.appendChild(o.parts.title.default)\r\n              o.parts.title.default.innerText = o.options.default.title\r\n            }\r\n            if (!o.parts.title.ref) o.parts.title.base.firstElementChild.innerText = o.parts.title.get()\r\n            o.e.appendChild(o.parts.title.base)\r\n            o.e.appendChild(o.parts.title.temp)\r\n            o.parts.title.base.classList.add('hidden')\r\n            o.parts.title.temp.classList.add('hidden')\r\n          }\r\n          if (o.options.body || (o.has_default && o.options.default.body)) {\r\n            o.parts.body = {\r\n              base: document.createElement('div'),\r\n              temp: document.createElement('div'),\r\n              default: document.createElement('div'),\r\n              rows: [],\r\n            }\r\n            o.parts.body.temp.className =\r\n              o.parts.body.base.className =\r\n              o.parts.body.default.className =\r\n                'info-body hidden'\r\n            if (o.has_default && o.options.default.body) o.parts.body.default.innerText = o.options.default.body\r\n            let h = 0\r\n            o.options.body &&\r\n              o.options.body.forEach((op, i) => {\r\n                const p = {\r\n                  name: parse_part(o, op.name),\r\n                  value: parse_part(o, op.value),\r\n                }\r\n                o.parts.body.rows[i] = p\r\n                p.base = document.createElement('div')\r\n                o.parts.body.base.appendChild(p.base)\r\n                p.temp = document.createElement('div')\r\n                o.parts.body.temp.appendChild(p.temp)\r\n                p.temp.className = p.base.className = 'info-body-row-' + op.style\r\n                h += 24 + ('stack' === op.style ? 24 : 0)\r\n                if (p.name) {\r\n                  if (\r\n                    o.options.variable_info &&\r\n                    'variables' in p.name.parsed &&\r\n                    patterns.measure_name.test(p.name.parsed.variables)\r\n                  ) {\r\n                    p.base.appendChild(document.createElement('button'))\r\n                    p.base.lastElementChild.type = 'button'\r\n                    p.base.lastElementChild.setAttribute('data-bs-toggle', 'modal')\r\n                    p.base.lastElementChild.setAttribute('data-bs-target', '#variable_info_display')\r\n                    p.base.lastElementChild.addEventListener('click', show_variable_info.bind(o))\r\n                  } else p.base.appendChild(document.createElement('div'))\r\n                  p.temp.appendChild(document.createElement('div'))\r\n                  p.temp.lastElementChild.className = p.base.lastElementChild.className = 'info-body-row-name'\r\n                  p.temp.lastElementChild.innerText = p.base.lastElementChild.innerText = p.name.get()\r\n                }\r\n                if (p.value) {\r\n                  p.base.appendChild(document.createElement('div'))\r\n                  p.temp.appendChild(document.createElement('div'))\r\n                  if ('summary' in p.value.parsed) {\r\n                    p.base.lastElementChild.appendChild(p.value.parsed.summary)\r\n                  } else if ('filter' in p.value.parsed) {\r\n                    p.base.lastElementChild.appendChild(p.value.parsed.filter)\r\n                  } else {\r\n                    p.temp.lastElementChild.className = p.base.lastElementChild.className =\r\n                      'info-body-row-value' + ('statement' === p.value.parsed.variables ? ' statement' : '')\r\n                    if (p.name.ref && 'value' === p.value.text) p.value.ref = true\r\n                    if (!p.value.ref)\r\n                      p.temp.lastElementChild.innerText = p.base.lastElementChild.innerText = p.value.get()\r\n                  }\r\n                }\r\n              })\r\n            o.e.style.minHeight = h + 'px'\r\n            o.e.appendChild(o.parts.body.base)\r\n            o.e.appendChild(o.parts.body.default)\r\n            o.e.appendChild(o.parts.body.temp)\r\n          }\r\n          o.update()\r\n        },\r\n        update: async function (entity, caller, pass) {\r\n          const v = site.dataviews[this.view]\r\n          const y = _u[v.time_agg]\r\n          this.v = valueOf(this.options.variable || (caller && (caller.color || caller.y)) || v.y)\r\n          this.dataset = v.get.dataset()\r\n          if (y && !(this.dataset in site.data.meta.times)) {\r\n            if (!(this.id in site.data.data_queue[this.dataset]))\r\n              site.data.data_queue[this.dataset][this.id] = this.update\r\n            return\r\n          }\r\n          this.time_agg = y ? y.value() - site.data.meta.times[this.dataset].range[0] : 0\r\n          const time_range = this.v in site.data.variables && site.data.variables[this.v].time_range[this.dataset]\r\n          this.time = time_range ? this.time_agg - time_range[0] : 0\r\n          if (this.options.show_summary) {\r\n            this.var = this.v && (await site.data.get_variable(this.v, this.view))\r\n            this.summary = this.view in this.var.views && this.var.views[this.view].summaries[this.dataset]\r\n          }\r\n          if (!this.processed) {\r\n            this.processed = true\r\n            if (!this.options.floating) {\r\n              add_dependency(this.view, {type: 'update', id: this.id})\r\n              if (v.y in _u) add_dependency(v.y, {type: 'update', id: this.id})\r\n              if (y) add_dependency(v.time_agg, {type: 'update', id: this.id})\r\n              if (this.options.variable in _u) add_dependency(this.options.variable, {type: 'update', id: this.id})\r\n            }\r\n            if (this.parts.body)\r\n              this.parts.body.rows.forEach(p => {\r\n                if (!p.value.ref && p.value.text in _u && 'variables' in p.name.parsed) {\r\n                  p.name.value_source = p.value.value_source = p.value.text\r\n                  p.value.ref = true\r\n                  p.value.parsed.data = ''\r\n                }\r\n              })\r\n          }\r\n          if (entity) {\r\n            // hover information\r\n            if (this.parts.title) {\r\n              this.parts.title.temp.innerText = this.parts.title.get(entity, caller)\r\n            }\r\n            if (this.parts.body) {\r\n              this.parts.body.rows.forEach(p => {\r\n                if (p.name.ref) {\r\n                  if (p.name.value_source) p.name.value_source = p.value.text\r\n                  e = p.name.get(entity, caller)\r\n                  if ('object' !== typeof e) {\r\n                    p.temp.firstElementChild.innerText = parse_variables(e, p.value.parsed.variables, this, entity)\r\n                  }\r\n                }\r\n                if (p.value.ref) {\r\n                  if (p.value.value_source) p.value.value_source = p.value.text\r\n                  e = p.value.get(entity, caller)\r\n                  if ('object' !== typeof e) {\r\n                    p.temp.lastElementChild.innerText = parse_variables(e, p.value.parsed.variables, this, entity)\r\n                  }\r\n                }\r\n              })\r\n            }\r\n          } else if (!this.options.floating) {\r\n            if (this.queue > 0) clearTimeout(this.queue)\r\n            this.queue = -1\r\n            if (!pass) {\r\n              if (!this.tab || this.tab.classList.contains('show'))\r\n                this.queue = setTimeout(() => this.update(void 0, void 0, true), 50)\r\n            } else {\r\n              // base information\r\n              entity = site.data.entities[v.get.ids(true)]\r\n              if (entity) {\r\n                // when showing a selected region\r\n                this.selection = true\r\n                if (this.parts.title) {\r\n                  if (this.parts.title.value_source) p.title.value_source = p.value.text\r\n                  this.parts.title.base.classList.remove('hidden')\r\n                  this.parts.title.default.classList.add('hidden')\r\n                }\r\n                if (this.parts.body && this.has_default) this.parts.body.default.classList.add('hidden')\r\n              } else {\r\n                // when no ID is selected\r\n                this.selection = false\r\n                if (this.parts.title) {\r\n                  if (this.has_default) {\r\n                    this.parts.title.base.classList.add('hidden')\r\n                    this.parts.title.default.classList.remove('hidden')\r\n                  } else if (!this.parts.title.ref || !('features' in this.parts.title.parsed))\r\n                    this.parts.title.base.classList.remove('hidden')\r\n                }\r\n                if (this.parts.body) {\r\n                  this.parts.body.base.classList.add('hidden')\r\n                  if (this.has_default) this.parts.body.default.classList.remove('hidden')\r\n                }\r\n              }\r\n              if (this.parts.title) {\r\n                this.parts.title.base.firstElementChild.innerText = this.parts.title.get(entity, caller)\r\n              }\r\n              if (this.parts.body) {\r\n                if (!this.options.subto) this.parts.body.base.classList.remove('hidden')\r\n                this.parts.body.rows.forEach(p => {\r\n                  if ('summary' in p.value.parsed) {\r\n                    fill_summary_table(p.value.parsed.summary, this.summary, this.time)\r\n                  } else if ('filter' in p.value.parsed) {\r\n                    const e = p.value.parsed.filter\r\n                    let n = 0\r\n                    e.innerHTML = ''\r\n                    if (_u._entity_filter.selected.length) {\r\n                      n++\r\n                      const s = document.createElement('tr')\r\n                      s.className = 'filter-display'\r\n                      let ss = document.createElement('td')\r\n                      s.appendChild(ss)\r\n                      ss.appendChild(document.createElement('span'))\r\n                      ss.lastElementChild.className = 'syntax-variable'\r\n                      ss.lastElementChild.innerText = 'Select Entities'\r\n                      ss = document.createElement('td')\r\n                      s.appendChild(ss)\r\n                      ss.appendChild(document.createElement('span'))\r\n                      ss.lastElementChild.className = 'syntax-operator'\r\n                      ss.lastElementChild.innerText = ':'\r\n                      ss = document.createElement('td')\r\n                      s.appendChild(ss)\r\n                      ss.setAttribute('colspan', 2)\r\n                      ss.appendChild(document.createElement('span'))\r\n                      ss.lastElementChild.className = 'syntax-value'\r\n                      let ids = ''\r\n                      _u._entity_filter.selected.forEach(id => {\r\n                        const entity = site.data.entities[id]\r\n                        ids += (ids ? ', ' : '') + (entity && entity.features ? entity.features.name : id)\r\n                      })\r\n                      ss.lastElementChild.innerText = ids\r\n                      e.appendChild(s)\r\n                    }\r\n                    _u._base_filter.c.forEach(f => {\r\n                      const checked = f.passed + f.failed\r\n                      if (f.active && checked) {\r\n                        const result = f.passed + '/' + checked\r\n                        f.e.children[1].lastElementChild.innerText = result\r\n                        n++\r\n                        const s = document.createElement('tr'),\r\n                          info = site.data.variable_info[f.variable]\r\n                        s.className = 'filter-display'\r\n                        let ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-variable'\r\n                        ss.lastElementChild.title = f.variable\r\n                        ss.lastElementChild.innerText = info.short_name\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.innerText = ' ('\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-component'\r\n                        ss.lastElementChild.innerText = f.component\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.innerText = ')'\r\n                        ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-operator'\r\n                        ss.lastElementChild.innerText = f.operator\r\n                        ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-value'\r\n                        ss.lastElementChild.innerText =\r\n                          'number' === typeof f.value ? site.data.format_value(f.value) : f.value\r\n                        ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.innerText =\r\n                          '(' + (f.value_source ? f.value_source + '; ' : '') + result + ')'\r\n                        e.appendChild(s)\r\n                      }\r\n                    })\r\n                    this.e.classList[n ? 'remove' : 'add']('hidden')\r\n                  }\r\n                  if (('variables' in p.value.parsed || 'summary' in p.value.parsed) && !(v.y in this.depends)) {\r\n                    this.depends[v.y] = true\r\n                    add_dependency(v.y, {type: 'update', id: this.id})\r\n                  } else if ('filter' in p.value.parsed && !('_base_filter' in this.depends)) {\r\n                    this.depends._base_filter = true\r\n                    add_dependency('_base_filter', {type: 'update', id: this.id})\r\n                  }\r\n                  if (p.name.ref) {\r\n                    if (p.name.value_source) p.name.value_source = p.value.text\r\n                    const e = p.name.get(entity, caller)\r\n                    if ('object' !== typeof e) {\r\n                      p.base.firstElementChild.innerText = e\r\n                    }\r\n                  }\r\n                  if (p.value.ref) {\r\n                    const e = p.value.get(entity, caller)\r\n                    if ('object' === typeof e) {\r\n                      if (Array.isArray(e) && 'sources' === p.value.parsed.variables) {\r\n                        p.base.innerHTML = ''\r\n                        p.base.appendChild(document.createElement('table'))\r\n                        p.base.lastElementChild.className = 'source-table'\r\n                        p.base.firstElementChild.appendChild(document.createElement('thead'))\r\n                        p.base.firstElementChild.firstElementChild.appendChild(document.createElement('tr'))\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.appendChild(\r\n                          document.createElement('th')\r\n                        )\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.appendChild(\r\n                          document.createElement('th')\r\n                        )\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.firstElementChild.innerText =\r\n                          'Source'\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.lastElementChild.innerText =\r\n                          'Accessed'\r\n                        p.base.firstElementChild.appendChild(document.createElement('tbody'))\r\n                        e.forEach(ei => {\r\n                          p.base.firstElementChild.lastElementChild.appendChild(make_variable_source(ei, true))\r\n                        })\r\n                      }\r\n                    } else {\r\n                      p.base.lastElementChild.innerText = parse_variables(e, p.value.parsed.variables, this, entity)\r\n                    }\r\n                  }\r\n                })\r\n              }\r\n            }\r\n          }\r\n          this.revert()\r\n        },\r\n      },\r\n      datatable: {\r\n        init: function (o) {\r\n          o.e.appendChild(document.createElement('thead'))\r\n          o.e.appendChild(document.createElement('tbody'))\r\n          o.click = o.e.getAttribute('data-click')\r\n          o.features = o.options.features\r\n          o.parsed = {summary: {}, order: [], time: -1, color: '', dataset: _u[o.view].get.dataset(), time_index: {}}\r\n          o.header = []\r\n          o.rows = {}\r\n          o.rowIds = {}\r\n          o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n          const time = site.data.meta.times[o.parsed.dataset]\r\n          o.style = document.head.appendChild(document.createElement('style'))\r\n          if (o.tab) {\r\n            document.getElementById(o.e.parentElement.getAttribute('aria-labelledby')).addEventListener(\r\n              'click',\r\n              function () {\r\n                if (!this.e.parentElement.classList.contains('active')) {\r\n                  setTimeout(this.update, 155)\r\n                  setTimeout(trigger_resize, 155)\r\n                }\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.e.addEventListener('mouseover', elements.datatable.mouseover.bind(o))\r\n          o.e.addEventListener('mouseout', elements.datatable.mouseout.bind(o))\r\n          if (o.click) {\r\n            if (o.click in _u) o.clickto = _u[o.click]\r\n            o.e.addEventListener('click', elements.datatable.click.bind(o))\r\n          }\r\n          o.show = function (e) {\r\n            if (e.features && e.features.id in this.rows) {\r\n              if (site.settings.table_autoscroll) {\r\n                this.rows[e.features.id].scrollTo('smooth' === site.settings.table_scroll_behavior)\r\n              }\r\n              if (this.pending > 0) clearTimeout(this.pending)\r\n              this.pending = -1\r\n              const row = this.rows[e.features.id].node()\r\n              if (row) {\r\n                row.classList.add('highlighted')\r\n              } else {\r\n                this.pending = setTimeout(\r\n                  function () {\r\n                    const row = this.node()\r\n                    if (row) row.classList.add('highlighted')\r\n                  }.bind(this.rows[e.features.id]),\r\n                  0\r\n                )\r\n              }\r\n            }\r\n          }\r\n          o.revert = function () {\r\n            if (this.pending > 0) clearTimeout(this.pending)\r\n            this.e.querySelectorAll('tr.highlighted').forEach(e => e.classList.remove('highlighted'))\r\n          }\r\n          o.options.variable_source = o.options.variables\r\n          if (o.options.variables) {\r\n            if ('string' === typeof o.options.variables) {\r\n              if (o.options.variables in _u) {\r\n                add_dependency(o.options.variables, {type: 'update', id: o.id})\r\n                o.options.variables = valueOf(o.options.variables)\r\n                o.options.single_variable = 'string' === typeof o.options.variables\r\n              } else if (!o.options.single_variable) {\r\n                o.options.single_variable = [{name: o.options.single_variable}]\r\n              }\r\n            }\r\n          } else o.options.variables = Object.keys(site.data.variables)\r\n          if (\r\n            'string' !== typeof o.options.variables &&\r\n            o.options.variables.length &&\r\n            'string' === o.options.variables[0]\r\n          ) {\r\n            o.options.variables = o.options.variables.map(v => {\r\n              name: v\r\n            })\r\n          }\r\n          if (o.options.single_variable) {\r\n            const c = o.options.variables,\r\n              k = c.name || c\r\n            o.header.push({title: 'Name', data: 'entity.features.name'})\r\n            if (time && time.is_single) o.variable_header = true\r\n            const t = k in site.data.variables && site.data.variables[k].time_range[o.parsed.dataset]\r\n            if (t)\r\n              for (let n = t[1] - t[0] + 1; n--; ) {\r\n                o.header[n + 1] = {\r\n                  title: o.variable_header ? c.title || site.data.format_label(k) : time.value[n + t[0]] + '',\r\n                  data: site.data.get_value,\r\n                  render: DataHandler.retrievers.row_time.bind({\r\n                    i: n,\r\n                    o: t[0],\r\n                    format_value: site.data.format_value.bind(site.data),\r\n                  }),\r\n                }\r\n              }\r\n            o.options.order = [[o.header.length - 1, 'dsc']]\r\n          } else if (o.options.wide) {\r\n            if (o.features) {\r\n              if ('string' === typeof o.features) o.features = [{name: o.features}]\r\n              o.features.forEach(f => {\r\n                o.header.push({\r\n                  title: f.title || f.name,\r\n                  data: 'entity.features.' + f.name.replace(patterns.all_periods, '\\\\.'),\r\n                })\r\n              })\r\n            }\r\n            for (let i = o.options.variables.length; i--; ) {\r\n              if ('string' === typeof o.options.variables[i]) o.options.variables[i] = {name: o.options.variables[i]}\r\n              const c = o.options.variables[i]\r\n              if (!c.source) c.source = c.name in site.data.variables ? 'data' : 'features'\r\n              o.header.push(\r\n                'features' === c.source\r\n                  ? {\r\n                      title: c.title || site.data.format_label(c.name),\r\n                      data: 'entity.features.' + c.name.toLowerCase().replace(patterns.all_periods, '\\\\.'),\r\n                    }\r\n                  : {\r\n                      title: c.title || site.data.format_label(c.name),\r\n                      render: async function (d, type, row) {\r\n                        if ('data' === this.c.source) {\r\n                          if (this.c.name in site.data.variables) {\r\n                            const v = await site.data.get_variable(this.c.name, this.o.view)\r\n                            const i = row.time - v.time_range[this.o.parsed.dataset][0]\r\n                            return i < 0 ? NaN : row.entity.get_value(this.c.name, i)\r\n                          } else return NaN\r\n                        } else\r\n                          return this.c.source in row.entity && this.c.name in row.entity[this.c.source]\r\n                            ? row.entity[this.c.source][this.c.name]\r\n                            : NaN\r\n                      }.bind({o, c}),\r\n                    }\r\n              )\r\n            }\r\n          } else {\r\n            o.filters = o.options.filters\r\n            o.current_filter = {}\r\n            if (!time.is_single) {\r\n              o.header.push({\r\n                title: 'Year',\r\n                data: 'entity.time.value',\r\n                render: function (d, type, row) {\r\n                  const t = row.time + row.offset\r\n                  return d && t >= 0 && t < d.length ? d[t] : NaN\r\n                },\r\n              })\r\n            }\r\n            if (o.features) {\r\n              if ('string' === typeof o.features) o.features = [{name: o.features}]\r\n              o.features.forEach(f => {\r\n                o.header.splice(0, 0, {\r\n                  title: f.title || f.name,\r\n                  data: 'entity.features.' + f.name.replace(patterns.all_periods, '\\\\.'),\r\n                })\r\n              })\r\n            }\r\n            o.header.push({\r\n              title: 'Variable',\r\n              data: function (row) {\r\n                return row.variable in row.entity.variables\r\n                  ? row.entity.variables[row.variable].meta.short_name\r\n                  : row.variable\r\n              },\r\n            })\r\n            o.header.push({\r\n              title: 'Value',\r\n              data: site.data.get_value,\r\n              render: function (d, type, row) {\r\n                return d\r\n                  ? 'number' === typeof d[row.time]\r\n                    ? site.data.format_value(d[row.time], row.int)\r\n                    : d[row.time]\r\n                  : ''\r\n              },\r\n            })\r\n          }\r\n          if (o.view) {\r\n            add_dependency(o.view, {type: 'update', id: o.id})\r\n            add_dependency(o.view + '_filter', {type: 'update', id: o.id})\r\n            add_dependency(_u[o.view].time_agg, {type: 'update', id: o.id})\r\n          } else o.view = defaults.dataview\r\n          o.queue = this.queue_init.bind(o)()\r\n        },\r\n        queue_init: function () {\r\n          const showing = this.deferred || !this.tab || this.tab.classList.contains('show')\r\n          if (showing && window.jQuery && window.DataTable && 'get' in site.dataviews[this.view]) {\r\n            this.options.columns = this.header\r\n            this.table = $(this.e).DataTable(this.options)\r\n            this.update()\r\n          } else {\r\n            this.deferred = true\r\n            setTimeout(this.queue, showing ? 0 : 2000)\r\n          }\r\n        },\r\n        update: async function (pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show')) this.queue = setTimeout(() => this.update(true), 50)\r\n          } else {\r\n            if (this.table) {\r\n              let vn =\r\n                this.options.variable_source &&\r\n                valueOf(this.options.variable_source).replace(patterns.all_periods, '\\\\.')\r\n              const v = _u[this.view],\r\n                d = v.get.dataset()\r\n              if (!site.data.inited[d]) return\r\n              const times = site.data.meta.times[d],\r\n                state =\r\n                  d +\r\n                  v.value() +\r\n                  v.get.time_filters() +\r\n                  site.settings.digits +\r\n                  vn +\r\n                  site.settings.theme_dark +\r\n                  site.settings.show_empty_times,\r\n                update = state !== this.state,\r\n                time = valueOf(v.time_agg),\r\n                variable = await site.data.get_variable(vn, this.view)\r\n              this.parsed.time_range = variable ? variable.time_range[d] : times.info.time_range[d]\r\n              this.parsed.time = ('number' === typeof time ? time - times.range[0] : 0) - this.parsed.time_range[0]\r\n              if (update) {\r\n                this.rows = {}\r\n                this.rowIds = {}\r\n                this.table.clear()\r\n                let redraw = true\r\n                if (v.valid) {\r\n                  this.state = state\r\n                  Object.keys(this.reference_options).forEach(\r\n                    k => (this.options[k] = valueOf(this.reference_options[k]))\r\n                  )\r\n                  if (this.options.single_variable) {\r\n                    this.parsed.time_index = {}\r\n                    this.parsed.dataset = d\r\n                    this.parsed.color = vn\r\n                    this.parsed.summary = this.view in variable.views ? variable.views[this.view].summaries[d] : false\r\n                    this.parsed.order =\r\n                      this.view in variable.views ? variable.views[this.view].order[d][this.parsed.time] : false\r\n                    if (this.header.length < 2 || d !== this.header[1].dataset || vn !== this.header[1].variable) {\r\n                      this.table.destroy()\r\n                      $(this.e).empty()\r\n                      this.header = [{title: 'Name', data: 'entity.features.name', type: 'string'}]\r\n                      if (-1 !== this.parsed.time_range[0]) {\r\n                        for (let n = this.parsed.time_range[2]; n--; ) {\r\n                          this.header[n + 1] = {\r\n                            dataset: d,\r\n                            variable: vn,\r\n                            type: 'string' === variable.type ? 'string' : 'num',\r\n                            title: this.variable_header\r\n                              ? this.options.variables.title || site.data.format_label(vn)\r\n                              : times.value[n + this.parsed.time_range[0]] + '',\r\n                            data: site.data.get_value,\r\n                            render: DataHandler.retrievers.row_time.bind({\r\n                              i: n,\r\n                              o: this.parsed.time_range[0],\r\n                              format_value: site.data.format_value.bind(site.data),\r\n                            }),\r\n                          }\r\n                        }\r\n                      } else this.state = ''\r\n                      this.options.order[0][0] = this.header.length - 1\r\n                      this.options.columns = this.header\r\n                      this.table = $(this.e).DataTable(this.options)\r\n                    }\r\n                    const n = this.header.length,\r\n                      ns = this.parsed.summary.n\r\n                    let reset\r\n                    for (let i = 1, show = false, nshowing = 0; i < n; i++) {\r\n                      show = v.times[i - 1 + this.parsed.time_range[0]] && (site.settings.show_empty_times || ns[i - 1])\r\n                      this.table.column(i).visible(show, false)\r\n                      if (show) {\r\n                        this.parsed.time_index[times.value[i - 1 + this.parsed.time_range[0]]] = ++nshowing\r\n                        reset = false\r\n                      }\r\n                    }\r\n                    if (reset) this.state = ''\r\n                  }\r\n                  if (this.options.wide) {\r\n                    Object.keys(v.selection.all).forEach(k => {\r\n                      if (vn) {\r\n                        if (vn in v.selection.all[k].views[this.view].summary) {\r\n                          this.rows[k] = this.table.row.add({\r\n                            dataset: d,\r\n                            variable: vn,\r\n                            offset: this.parsed.time_range[0],\r\n                            entity: v.selection.all[k],\r\n                            int:\r\n                              d in site.data.variables[vn].info && 'integer' === site.data.variables[vn].info[d].type,\r\n                          })\r\n                          this.rowIds[this.rows[k].selector.rows] = k\r\n                        }\r\n                      } else {\r\n                        for (let i = times.n; i--; ) {\r\n                          this.rows[k] = this.table.row.add({\r\n                            time: i,\r\n                            entity: v.selection.all[k],\r\n                          })\r\n                          this.rowIds[this.rows[k].selector.rows] = k\r\n                        }\r\n                      }\r\n                    })\r\n                  } else {\r\n                    if (this.filters)\r\n                      Object.keys(this.filters).forEach(f => {\r\n                        this.current_filter[c] = valueOf(f)\r\n                      })\r\n                    const va = []\r\n                    let varstate = '' + this.parsed.dataset + v.get.ids(true) + v.get.features() + site.settings.digits\r\n                    for (let i = this.options.variables.length; i--; ) {\r\n                      vn = this.options.variables[i].name || this.options.variables[i]\r\n                      pass = !this.filters\r\n                      const variable = await site.data.get_variable(vn, this.view)\r\n                      if (vn in site.data.variables && 'meta' in variable) {\r\n                        if (this.options.filters) {\r\n                          for (const c in this.current_filter)\r\n                            if (c in variable.meta) {\r\n                              pass = variable.meta[c] === this.current_filter[c]\r\n                              if (!pass) break\r\n                            }\r\n                        } else pass = true\r\n                      }\r\n                      if (pass) {\r\n                        varstate += vn\r\n                        va.push({\r\n                          variable: vn,\r\n                          int: patterns.int_types.test(site.data.variables[vn].type),\r\n                          time_range: variable.time_range[d],\r\n                          renderer: function (o, s) {\r\n                            const k = s.features.id,\r\n                              r = this.time_range,\r\n                              n = r[1]\r\n                            for (let i = r[0]; i <= n; i++) {\r\n                              o.rows[k] = o.table.row.add({\r\n                                offset: this.time_range[0],\r\n                                time: i - this.time_range[0],\r\n                                dataset: d,\r\n                                variable: this.variable,\r\n                                entity: s,\r\n                                int: this.int,\r\n                              })\r\n                              o.rowIds[o.rows[k].selector.rows] = k\r\n                            }\r\n                          },\r\n                        })\r\n                      }\r\n                    }\r\n                    if (varstate === this.varstate) return void 0\r\n                    this.varstate = varstate\r\n                    Object.keys(v.selection.all).forEach(k => {\r\n                      const e = v.selection.all[k]\r\n                      if (this.options.single_variable) {\r\n                        if (vn in e[v].summary && variable.code in e.data) {\r\n                          this.rows[k] = this.table.row.add({\r\n                            offset: this.parsed.time_range[0],\r\n                            dataset: d,\r\n                            variable: vn,\r\n                            entity: e,\r\n                            int: patterns.int_types.test(site.data.variables[vn].type),\r\n                          })\r\n                          this.rowIds[this.rows[k].selector.rows] = k\r\n                        }\r\n                      } else {\r\n                        va.forEach(v => {\r\n                          if (site.data.variables[v.variable].code in e.data) v.renderer(this, e)\r\n                        })\r\n                      }\r\n                    })\r\n                  }\r\n                }\r\n                redraw ? this.table.draw() : this.table.columns.adjust().draw(false)\r\n              }\r\n              if (this.parsed.time > -1 && this.header.length > 1 && v.time_range.filtered_index) {\r\n                this.dark_highlight = site.settings.theme_dark\r\n                if (this.style.sheet.rules.length) this.style.sheet.removeRule(0)\r\n                if (this.parsed.time_index[time])\r\n                  this.style.sheet.insertRule(\r\n                    '#' +\r\n                      this.id +\r\n                      ' td:nth-child(' +\r\n                      (this.parsed.time_index[time] + 1) +\r\n                      '){background-color: var(--background-highlight)}',\r\n                    0\r\n                  )\r\n                if (!update && site.settings.table_autosort) {\r\n                  this.table.order([this.parsed.time + 1, 'dsc']).draw()\r\n                }\r\n                if (site.settings.table_autoscroll) {\r\n                  const w = this.e.parentElement.getBoundingClientRect().width,\r\n                    col = this.table.column(this.parsed.time + 1),\r\n                    h = col.header().getBoundingClientRect()\r\n                  if (h)\r\n                    this.e.parentElement.scroll({\r\n                      left: h.x - this.e.getBoundingClientRect().x + h.width + 16 - w,\r\n                      behavior: site.settings.table_scroll_behavior || 'smooth',\r\n                    })\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          if (e.target._DT_CellIndex && e.target._DT_CellIndex.row in this.rowIds) {\r\n            const id = this.rowIds[e.target._DT_CellIndex.row],\r\n              row = this.rows[id].node()\r\n            if (row) row.classList.add('highlighted')\r\n            if (id in site.data.entities) {\r\n              update_subs(this.id, 'show', site.data.entities[id])\r\n            }\r\n          }\r\n        },\r\n        mouseout: function (e) {\r\n          if (e.target._DT_CellIndex && e.target._DT_CellIndex.row in this.rowIds) {\r\n            const id = this.rowIds[e.target._DT_CellIndex.row],\r\n              row = this.rows[id].node()\r\n            if (row) row.classList.remove('highlighted')\r\n            if (id in site.data.entities) {\r\n              update_subs(this.id, 'revert', site.data.entities[id])\r\n            }\r\n          }\r\n        },\r\n        click: function (e) {\r\n          if (this.clickto && e.target._DT_CellIndex && e.target._DT_CellIndex.row in this.rowIds) {\r\n            const id = this.rowIds[e.target._DT_CellIndex.row]\r\n            if (id in site.data.entities) this.clickto.set(id)\r\n          }\r\n        },\r\n      },\r\n      table: {\r\n        init: function (o) {\r\n          o.click = o.e.getAttribute('data-click')\r\n          o.features = o.options.features\r\n          o.parsed = {summary: {}, order: [], time: 0, color: '', dataset: defaults.dataview, time_index: {}}\r\n          o.header = []\r\n          o.rows = {}\r\n          o.parts = {\r\n            head: document.createElement('thead'),\r\n            body: document.createElement('tbody'),\r\n          }\r\n          o.parts.head.appendChild(document.createElement('tr'))\r\n          o.e.appendChild(o.parts.head)\r\n          o.e.appendChild(o.parts.body)\r\n          if (o.click) o.e.classList.add('interactive')\r\n          o.options.variable_source = o.options.variables\r\n          if (o.options.variables in _u) add_dependency(o.options.variables, {type: 'update', id: o.id})\r\n          o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n          if (o.tab) {\r\n            document.getElementById(o.e.parentElement.getAttribute('aria-labelledby')).addEventListener(\r\n              'click',\r\n              function () {\r\n                if (!this.e.parentElement.classList.contains('active')) {\r\n                  setTimeout(this.update, 155)\r\n                  setTimeout(trigger_resize, 155)\r\n                }\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.e.addEventListener('mouseover', elements.table.mouseover.bind(o))\r\n          o.e.addEventListener('mouseout', elements.table.mouseout.bind(o))\r\n          if (o.click) {\r\n            if (o.click in _u) o.clickto = _u[o.click]\r\n            o.e.addEventListener('click', elements.table.click.bind(o))\r\n          }\r\n          o.show = function (e) {\r\n            if (e.features) {\r\n              const row = this.rows[e.features.id]\r\n              if (row && row.parentElement) {\r\n                row.classList.add('highlighted')\r\n                if (site.settings.table_autoscroll) {\r\n                  const h = this.e.parentElement.getBoundingClientRect().height,\r\n                    top = row.getBoundingClientRect().y - row.parentElement.getBoundingClientRect().y\r\n                  this.e.parentElement.scroll({\r\n                    top: h > this.e.scrollHeight - top ? this.e.parentElement.scrollHeight : top,\r\n                    behavior: site.settings.table_scroll_behavior || 'smooth',\r\n                  })\r\n                }\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.revert = function (e) {\r\n            if (e.features && e.features.id in this.rows) {\r\n              this.rows[e.features.id].classList.remove('highlighted')\r\n            }\r\n          }.bind(o)\r\n          o.createHeader = function (v) {\r\n            const dataset = this.parsed.dataset,\r\n              time = site.data.meta.times[dataset],\r\n              tr = this.parts.head.firstElementChild,\r\n              range = this.parsed.variable.time_range[dataset],\r\n              start = range[0],\r\n              end = range[1] + 1,\r\n              ns = this.parsed.summary.n\r\n            this.parsed.time_index = {}\r\n            tr.innerHTML = ''\r\n            tr.appendChild(document.createElement('th'))\r\n            tr.lastElementChild.appendChild(document.createElement('span'))\r\n            tr.firstElementChild.lastElementChild.innerText = 'Name'\r\n            for (let i = start, nshowing = 0; i < end; i++) {\r\n              if (v.times[i] && (site.settings.show_empty_times || ns[i - start])) {\r\n                this.parsed.time_index[time.value[i]] = nshowing++\r\n                tr.appendChild(document.createElement('th'))\r\n                tr.lastElementChild.appendChild(document.createElement('span'))\r\n                tr.lastElementChild.lastElementChild.innerText = time.value[i]\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.appendRows = function (v) {\r\n            const es = this.parsed.order,\r\n              variable = this.parsed.variable,\r\n              times = site.data.meta.times[this.parsed.dataset].value,\r\n              range = variable.time_range[this.parsed.dataset],\r\n              start = range[0],\r\n              dn = range[1] - start + 1,\r\n              selection = v.selection.all\r\n            this.current_variable = variable.code + this.parsed.dataset\r\n            this.parts.body.innerHTML = ''\r\n            for (let n = es.length; n--; ) {\r\n              const id = es[n][0]\r\n              if (id in selection) {\r\n                const e = site.data.entities[id],\r\n                  d = e.data[variable.code],\r\n                  tr = document.createElement('tr')\r\n                this.rows[id] = tr\r\n                tr.setAttribute('data-entityId', id)\r\n                let td = document.createElement('td')\r\n                td.innerText = e.features.name\r\n                tr.appendChild(td)\r\n                if (1 === dn) {\r\n                  tr.appendChild((td = document.createElement('td')))\r\n                  td.innerText = site.data.format_value(d)\r\n                  td.setAttribute('data-entityId', id)\r\n                  td.classList.add('highlighted')\r\n                } else {\r\n                  for (let i = 0; i < dn; i++) {\r\n                    if (v.times[i + start] && times[i + start] in this.parsed.time_index) {\r\n                      tr.appendChild((td = document.createElement('td')))\r\n                      td.innerText = site.data.format_value(d[i])\r\n                      if (i === this.parsed.time) td.classList.add('highlighted')\r\n                    }\r\n                  }\r\n                }\r\n                this.parts.body.appendChild(tr)\r\n              }\r\n            }\r\n            if (\r\n              site.settings.table_autoscroll &&\r\n              this.parts.head.firstElementChild.childElementCount > 2 &&\r\n              this.parts.head.firstElementChild.childElementCount > this.parsed.time + 1\r\n            ) {\r\n              const w = this.e.parentElement.getBoundingClientRect().width,\r\n                col = this.parts.head.firstElementChild.children[this.parsed.time + 1].getBoundingClientRect()\r\n              this.e.parentElement.scroll({\r\n                left: col.x - this.e.getBoundingClientRect().x + col.width + 16 - w,\r\n                behavior: site.settings.table_scroll_behavior || 'smooth',\r\n              })\r\n            }\r\n          }.bind(o)\r\n          if (o.view) {\r\n            add_dependency(o.view, {type: 'update', id: o.id})\r\n            add_dependency(o.view + '_filter', {type: 'update', id: o.id})\r\n            add_dependency(_u[o.view].time_agg, {type: 'update', id: o.id})\r\n          } else o.view = defaults.dataview\r\n          o.update()\r\n        },\r\n        update: async function (pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show')) this.queue = setTimeout(() => this.update(true), 50)\r\n          } else {\r\n            let vn =\r\n              this.options.variable_source && valueOf(this.options.variable_source).replace(patterns.all_periods, '\\\\.')\r\n            const v = _u[this.view],\r\n              d = v.get.dataset(),\r\n              time = valueOf(v.time_agg),\r\n              state =\r\n                d + v.value() + v.get.time_filters() + site.settings.digits + vn + time + site.settings.show_empty_times\r\n            if (!site.data.inited[d]) return void 0\r\n            if (state !== this.state) {\r\n              this.state = state\r\n              Object.keys(this.reference_options).forEach(k => (this.options[k] = valueOf(this.reference_options[k])))\r\n              const variable = await site.data.get_variable(vn, this.view)\r\n              this.parsed.dataset = d\r\n              this.parsed.color = vn\r\n              this.parsed.variable = variable\r\n              this.parsed.time_range = variable.time_range[d]\r\n              this.parsed.time =\r\n                ('number' === typeof time ? time - site.data.meta.times[d].range[0] : 0) - this.parsed.time_range[0]\r\n              this.parsed.summary = variable.views[this.view].summaries[d]\r\n              this.parsed.order = variable.views[this.view].order[d][this.parsed.time]\r\n              this.createHeader(v)\r\n              this.appendRows(v)\r\n            }\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          const row = 'TD' === e.target.tagName ? e.target.parentElement : e.target,\r\n            id = row.getAttribute('data-entityId')\r\n          if (id) {\r\n            row.classList.add('highlighted')\r\n            update_subs(this.id, 'show', site.data.entities[id])\r\n          }\r\n        },\r\n        mouseout: function (e) {\r\n          const row = 'TD' === e.target.tagName ? e.target.parentElement : e.target,\r\n            id = row.getAttribute('data-entityId')\r\n          if (id) {\r\n            row.classList.remove('highlighted')\r\n            update_subs(this.id, 'revert', site.data.entities[id])\r\n          }\r\n        },\r\n        click: function (e) {\r\n          const row = 'TD' === e.target.tagName ? e.target.parentElement : e.target,\r\n            id = row.getAttribute('data-entityId')\r\n          if (this.clickto && id) this.clickto.set(id)\r\n        },\r\n      },\r\n      legend: {\r\n        init: function (o) {\r\n          add_dependency(o.view, {type: 'update', id: o.id})\r\n          const view = _u[o.view]\r\n          if (view.time_agg in _u) add_dependency(view.time_agg, {type: 'update', id: o.id})\r\n          if (!o.palette) {\r\n            if (view.palette) {\r\n              o.palette = view.palette\r\n              if (view.palette in _u) add_dependency(view.palette, {type: 'update', id: o.id})\r\n            } else {\r\n              o.palette = 'settings.palette' in _u ? 'settings.palette' : site.settings.palette\r\n            }\r\n          }\r\n          o.variable = o.e.getAttribute('data-variable')\r\n          if (o.variable) {\r\n            if (o.variable in _u) add_dependency(o.variable, {type: 'update', id: o.id})\r\n          } else if (view.y in _u) add_dependency(view.y, {type: 'update', id: o.id})\r\n          if (o.palette in _u) {\r\n            const palette = _u[o.palette]\r\n            if (palette.e) {\r\n              palette.e.addEventListener('change', o.update)\r\n            }\r\n          }\r\n          o.parsed = {summary: {}, order: [], selection: {}, time: 0, color: '', bins: 0, rank: false}\r\n          o.state = ''\r\n          o.queue = {\r\n            lock: false,\r\n            cooldown: -1,\r\n            trigger: function () {\r\n              this.mouseover(this.queue.e)\r\n            }.bind(o),\r\n          }\r\n          o.queue.reset = function () {\r\n            this.lock = false\r\n          }.bind(o.queue)\r\n          o.parts = {\r\n            ticks: o.e.querySelector('.legend-ticks'),\r\n            scale: o.e.querySelector('.legend-scale'),\r\n            summary: o.e.querySelector('.legend-summary'),\r\n          }\r\n          o.parts.ticks.setAttribute('data-of', o.id)\r\n          o.parts.scale.setAttribute('data-of', o.id)\r\n          o.parts.summary.setAttribute('data-of', o.id)\r\n          o.mouseover = elements.legend.mouseover.bind(o)\r\n          o.e.addEventListener('mousemove', o.mouseover)\r\n          o.e.addEventListener('mouseout', elements.legend.mouseout.bind(o))\r\n          o.e.addEventListener('click', elements.legend.click.bind(o))\r\n          o.click = o.e.getAttribute('data-click')\r\n          if (o.click in _u) o.clickto = _u[o.click]\r\n          o.ticks = {\r\n            center: o.parts.summary.appendChild(document.createElement('div')),\r\n            min: o.parts.summary.appendChild(document.createElement('div')),\r\n            max: o.parts.summary.appendChild(document.createElement('div')),\r\n            entity: o.parts.ticks.appendChild(document.createElement('div')),\r\n          }\r\n          Object.keys(o.ticks).forEach(t => {\r\n            o.ticks[t].setAttribute('data-of', o.id)\r\n            o.ticks[t].className = 'legend-tick'\r\n            o.ticks[t].appendChild((e = document.createElement('div')))\r\n            e.setAttribute('data-of', o.id)\r\n            e.appendChild(document.createElement('p'))\r\n            e.lastElementChild.setAttribute('data-of', o.id)\r\n            if ('m' !== t.substring(0, 1)) {\r\n              e.appendChild(document.createElement('p'))\r\n              e.lastElementChild.setAttribute('data-of', o.id)\r\n              e.appendChild(document.createElement('p'))\r\n              e.lastElementChild.setAttribute('data-of', o.id)\r\n              if ('entity' === t) {\r\n                o.ticks[t].firstElementChild.lastElementChild.classList.add('entity')\r\n              } else {\r\n                o.ticks[t].firstElementChild.firstElementChild.classList.add('summary')\r\n              }\r\n            }\r\n          })\r\n          o.ticks.entity.firstElementChild.classList.add('hidden')\r\n          o.ticks.max.className = 'legend-tick-end max'\r\n          o.ticks.min.className = 'legend-tick-end min'\r\n          o.ticks.center.style.left = '50%'\r\n          o.show = function (e, c) {\r\n            if (e && 'parsed' in c && e.features.name) {\r\n              const view = _u[this.view],\r\n                summary = c.parsed.summary,\r\n                string = summary && 'string' === summary.type,\r\n                min = summary && !string ? summary.min[c.parsed.time] : 0,\r\n                range = summary ? (string ? summary.levels.length - min : summary.range[c.parsed.time]) : 1,\r\n                n = summary.n[c.parsed.time],\r\n                subset = n === view.n_selected.dataset ? 'rank' : 'subset_rank',\r\n                es = site.data.entities[e.features.id].views[this.view],\r\n                value = e.get_value(c.parsed.color, c.parsed.time),\r\n                p =\r\n                  ((string ? value in summary.level_ids : 'number' === typeof value)\r\n                    ? site.settings.color_by_order\r\n                      ? NaN\r\n                      : Math.max(\r\n                          0,\r\n                          Math.min(1, range ? ((string ? summary.level_ids[value] : value) - min) / range : 0.5)\r\n                        )\r\n                    : NaN) * 100,\r\n                container = this.ticks.entity,\r\n                t = container.firstElementChild.children[1]\r\n              if (isFinite(p)) {\r\n                t.parentElement.classList.remove('hidden')\r\n                t.innerText = site.data.format_value(value, this.integer)\r\n                container.style.left = p + '%'\r\n                container.firstElementChild.firstElementChild.innerText =\r\n                  (p > 96 || p < 4) && e.features.name.length > 13\r\n                    ? e.features.name.substring(0, 12) + '…'\r\n                    : e.features.name\r\n              } else if (site.settings.color_by_order && c.parsed.color in es[subset]) {\r\n                const i = es[subset][c.parsed.color][c.parsed.time],\r\n                  po = n > 1 ? (i / (n - 1)) * 100 : 0\r\n                container.firstElementChild.firstElementChild.innerText =\r\n                  i > -1 && (po > 96 || po < 4) && e.features.name.length > 13\r\n                    ? e.features.name.substring(0, 12) + '…'\r\n                    : e.features.name\r\n                if (i > -1) {\r\n                  t.parentElement.classList.remove('hidden')\r\n                  t.innerText = '# ' + (n - i)\r\n                  container.style.left = po + '%'\r\n                }\r\n              }\r\n              container.style.marginLeft = -container.getBoundingClientRect().width / 2 + 'px'\r\n            }\r\n          }\r\n          o.revert = function () {\r\n            this.ticks.entity.firstElementChild.classList.add('hidden')\r\n          }\r\n          o.update()\r\n        },\r\n        update: async function () {\r\n          const view = _u[this.view],\r\n            variable = valueOf(this.variable || view.y),\r\n            d = view.get.dataset(),\r\n            var_info = await site.data.get_variable(variable, this.view),\r\n            time = valueOf(view.time_agg)\r\n          if (null !== time && view.valid && var_info && this.view in var_info.views) {\r\n            const y =\r\n                ('number' === typeof time ? time - site.data.meta.times[d].range[0] : 0) - var_info.time_range[d][0],\r\n              summary = var_info.views[this.view].summaries[d],\r\n              ep = valueOf(this.palette).toLowerCase(),\r\n              pn = ep in palettes ? ep : site.settings.palette in palettes ? site.settings.palette : defaults.palette,\r\n              p = palettes[pn].colors,\r\n              s = this.parts.scale,\r\n              ticks = this.ticks\r\n            this.parsed.summary = summary\r\n            this.parsed.order = var_info.views[this.view].order[d][y]\r\n            this.parsed.time = y\r\n            this.parsed.color = variable\r\n            if (summary && y < summary.n.length) {\r\n              this.integer = d in var_info.info && 'integer' === var_info.info[d].type\r\n              const refresh = site.settings.color_by_order !== this.parsed.rank,\r\n                bins = s.querySelectorAll('span'),\r\n                odd = palettes[pn].odd,\r\n                remake =\r\n                  'discrete' === palettes[pn].type\r\n                    ? !bins.length || p.length !== this.parsed.bins\r\n                    : !s.firstElementChild || 'SPAN' !== s.firstElementChild.tagName\r\n              this.parsed.bins = p.length\r\n              if (pn + site.settings.color_scale_center !== this.current_palette || refresh) {\r\n                this.current_palette = pn + site.settings.color_scale_center\r\n                this.parsed.rank = site.settings.color_by_order\r\n                if (remake) s.innerHTML = ''\r\n                if ('discrete' === palettes[pn].type) {\r\n                  let i = 0,\r\n                    n = Math.ceil(p.length / 2),\r\n                    e\r\n                  if (remake) {\r\n                    s.appendChild((e = document.createElement('div')))\r\n                    e.dataset.of = this.id\r\n                    e.style.left = 0\r\n                    const prop = (1 / (n - odd / 2)) * 100 + '%'\r\n                    for (; i < n; i++) {\r\n                      e.appendChild(document.createElement('span'))\r\n                      e.lastElementChild.dataset.of = this.id\r\n                      e.lastElementChild.style.backgroundColor = p[i]\r\n                      e.lastElementChild.style.width = prop\r\n                    }\r\n                    if (odd) e.lastElementChild.style.width = ((1 / (n - odd / 2)) * 100) / 2 + '%'\r\n                    s.appendChild((e = document.createElement('div')))\r\n                    e.dataset.of = this.id\r\n                    e.style.right = 0\r\n                    for (i = Math.floor(p.length / 2), n = p.length; i < n; i++) {\r\n                      e.appendChild(document.createElement('span'))\r\n                      e.lastElementChild.dataset.of = this.id\r\n                      e.lastElementChild.style.backgroundColor = p[i]\r\n                      e.lastElementChild.style.width = prop\r\n                    }\r\n                    if (odd)\r\n                      e.firstElementChild.style.width = ((1 / (Math.ceil(p.length / 2) - odd / 2)) * 100) / 2 + '%'\r\n                  } else {\r\n                    for (; i < n; i++) {\r\n                      bins[i].style.backgroundColor = p[i]\r\n                    }\r\n                    for (i = Math.floor(p.length / 2), n = p.length; i < n; i++) {\r\n                      bins[i + odd].style.backgroundColor = p[i]\r\n                    }\r\n                  }\r\n                } else {\r\n                  if (remake) {\r\n                    s.appendChild(document.createElement('span'))\r\n                    s.appendChild(document.createElement('span'))\r\n                  }\r\n                  s.firstElementChild.style.background =\r\n                    'linear-gradient(0.25turn, rgb(' +\r\n                    p[2][0][0] +\r\n                    ', ' +\r\n                    p[2][0][1] +\r\n                    ', ' +\r\n                    p[2][0][2] +\r\n                    '), rgb(' +\r\n                    p[1][0] +\r\n                    ', ' +\r\n                    p[1][1] +\r\n                    ', ' +\r\n                    p[1][2] +\r\n                    '))'\r\n                  s.lastElementChild.style.background =\r\n                    'linear-gradient(0.25turn, rgb(' +\r\n                    p[1][0] +\r\n                    ', ' +\r\n                    p[1][1] +\r\n                    ', ' +\r\n                    p[1][2] +\r\n                    '), rgb(' +\r\n                    p[0][0][0] +\r\n                    ', ' +\r\n                    p[0][0][1] +\r\n                    ', ' +\r\n                    p[0][0][2] +\r\n                    '))'\r\n                }\r\n              }\r\n              if ('string' === var_info.type) {\r\n                ticks.center.classList.remove('hidden')\r\n                ticks.min.firstElementChild.firstElementChild.innerText = var_info.levels[0]\r\n                ticks.max.firstElementChild.firstElementChild.innerText = var_info.levels[var_info.levels.length - 1]\r\n              } else if (site.settings.color_by_order) {\r\n                ticks.center.classList.add('hidden')\r\n                ticks.min.firstElementChild.firstElementChild.innerText = '# ' + (summary.n[y] ? summary.n[y] : 0)\r\n                ticks.max.firstElementChild.firstElementChild.innerText = '# ' + (summary.n[y] ? 1 : 0)\r\n              } else {\r\n                const state =\r\n                  '' +\r\n                  summary.n[y] +\r\n                  summary.min[y] +\r\n                  summary.max[y] +\r\n                  site.settings.digits +\r\n                  site.settings.color_scale_center +\r\n                  site.settings.summary_selection\r\n                if (remake || refresh || state !== this.state) {\r\n                  this.state = state\r\n                  ticks.center.classList.remove('hidden')\r\n                  ticks.min.firstElementChild.firstElementChild.innerText = summary.n[y]\r\n                    ? isFinite(summary.min[y])\r\n                      ? site.data.format_value(summary.min[y], this.integer)\r\n                      : NaN\r\n                    : NaN\r\n                  ticks.max.firstElementChild.firstElementChild.innerText = summary.n[y]\r\n                    ? isFinite(summary.max[y])\r\n                      ? site.data.format_value(summary.max[y], this.integer)\r\n                      : NaN\r\n                    : NaN\r\n                  if ('none' === site.settings.color_scale_center) {\r\n                    ticks.center.firstElementChild.lastElementChild.innerText =\r\n                      summary_levels[site.settings.summary_selection] + ' median'\r\n                    ticks.center.firstElementChild.children[1].innerText = site.data.format_value(summary.median[y])\r\n                    ticks.center.style.left = summary.norm_median[y] * 100 + '%'\r\n                  } else {\r\n                    ticks.center.firstElementChild.lastElementChild.innerText =\r\n                      summary_levels[site.settings.summary_selection] + ' ' + site.settings.color_scale_center\r\n                    ticks.center.firstElementChild.children[1].innerText = site.data.format_value(\r\n                      summary[site.settings.color_scale_center][y]\r\n                    )\r\n                    ticks.center.style.left = summary['norm_' + site.settings.color_scale_center][y] * 100 + '%'\r\n                  }\r\n                  ticks.center.style.marginLeft = -ticks.center.getBoundingClientRect().width / 2 + 'px'\r\n                }\r\n              }\r\n              if (site.settings.color_by_order || 'none' === site.settings.color_scale_center) {\r\n                s.firstElementChild.style.width = '50%'\r\n                s.lastElementChild.style.width = '50%'\r\n              } else {\r\n                s.firstElementChild.style.width = summary['norm_' + site.settings.color_scale_center][y] * 100 + '%'\r\n                s.lastElementChild.style.width =\r\n                  100 - summary['norm_' + site.settings.color_scale_center][y] * 100 + '%'\r\n              }\r\n            }\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          if (!this.queue.lock) {\r\n            this.queue.lock = true\r\n            const s = this.parts.scale.getBoundingClientRect(),\r\n              p = (Math.max(s.x, Math.min(s.x + s.width, e.clientX)) - s.x) / s.width\r\n            let entity = false\r\n            if (site.settings.color_by_order) {\r\n              if (this.parsed.order && this.parsed.order.length)\r\n                entity =\r\n                  site.data.entities[\r\n                    this.parsed.order[\r\n                      Math.max(\r\n                        this.parsed.summary.missing[this.parsed.time],\r\n                        Math.min(this.parsed.order.length - 1, Math.floor((this.parsed.order.length - 1) * p))\r\n                      )\r\n                    ][0]\r\n                  ]\r\n            } else if ('min' in this.parsed.summary) {\r\n              const min = this.parsed.summary.min[this.parsed.time],\r\n                max = this.parsed.summary.max[this.parsed.time],\r\n                tv = min + p * (max - min)\r\n              let i, n\r\n              if (this.parsed.order && this.parsed.order.length) {\r\n                n = this.parsed.summary.missing[this.parsed.time]\r\n                if (n < this.parsed.order.length) {\r\n                  if (1 === this.parsed.order.length || !p) {\r\n                    entity = site.data.entities[this.parsed.order[n][0]]\r\n                  } else {\r\n                    for (i = this.parsed.order.length - 2; i >= n; --i) {\r\n                      if ((this.parsed.order[i][1] + this.parsed.order[i + 1][1]) / 2 <= tv) break\r\n                    }\r\n                    i++\r\n                    entity = site.data.entities[this.parsed.order[i][0]]\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (entity) {\r\n              this.show(entity, this)\r\n              if (!this.entity || entity.features.id !== this.entity.features.id) {\r\n                if (!this.entity) {\r\n                  this.entity = entity\r\n                } else update_subs(this.id, 'revert', this.entity)\r\n                update_subs(this.id, 'show', entity)\r\n                this.entity = entity\r\n              }\r\n            }\r\n            setTimeout(this.queue.reset, 200)\r\n          } else {\r\n            if (this.queue.cooldown > 0) clearTimeout(this.queue.cooldown)\r\n            this.queue.e = e\r\n            this.queue.cooldown = setTimeout(this.queue.trigger, 100)\r\n          }\r\n        },\r\n        mouseout: function (e) {\r\n          if (e.relatedTarget && this.id !== e.relatedTarget.getAttribute('data-of')) {\r\n            if (this.queue.cooldown > 0) clearTimeout(this.queue.cooldown)\r\n            this.queue.cooldown = -1\r\n            this.revert()\r\n            if (this.entity) {\r\n              update_subs(this.id, 'revert', this.entity)\r\n              this.entity = false\r\n            }\r\n          }\r\n        },\r\n        click: function () {\r\n          if (this.clickto && this.entity) {\r\n            this.revert()\r\n            this.clickto.set(this.entity.features.id)\r\n          }\r\n        },\r\n      },\r\n      credits: {\r\n        init: function (o) {\r\n          const s = site.credit_output && site.credit_output[o.id]\r\n          o.exclude = (s && s.exclude) || []\r\n          o.add = (s && s.add) || {}\r\n          o.e.appendChild(document.createElement('ul'))\r\n          o.credits = {...site.credits, ...o.add}\r\n          Object.keys(o.credits).forEach(k => {\r\n            if (-1 === o.exclude.indexOf(k)) {\r\n              const c = o.credits[k]\r\n              let e\r\n              o.e.lastElementChild.appendChild((e = document.createElement('li')))\r\n              if ('url' in c) {\r\n                e.appendChild((e = document.createElement('a')))\r\n                e.href = c.url\r\n                e.target = '_blank'\r\n                e.rel = 'noreferrer'\r\n              }\r\n              e.innerText = c.name\r\n              if ('version' in c) {\r\n                e.appendChild(document.createElement('span'))\r\n                e.lastElementChild.className = 'version-tag'\r\n                e.lastElementChild.innerText = c.version\r\n              }\r\n              if ('description' in c) {\r\n                e.parentElement.appendChild(document.createElement('p'))\r\n                e.parentElement.lastElementChild.innerText = c.description\r\n              }\r\n            }\r\n          })\r\n        },\r\n      },\r\n      init_input: function (e) {\r\n        const o = {\r\n          type: e.getAttribute('data-autoType'),\r\n          source: void 0,\r\n          value: function () {\r\n            const v = valueOf(this.source)\r\n            return 'undefined' === typeof v ? valueOf(this.default) : v\r\n          },\r\n          default: e.getAttribute('data-default'),\r\n          optionSource: e.getAttribute('data-optionSource'),\r\n          depends: e.getAttribute('data-depends'),\r\n          variable: e.getAttribute('data-variable'),\r\n          dataset: e.getAttribute('data-dataset'),\r\n          view: e.getAttribute('data-view'),\r\n          id: e.id || e.optionSource || 'ui' + page.elementCount++,\r\n          note: e.getAttribute('aria-description') || '',\r\n          current_index: -1,\r\n          previous: '',\r\n          e: e,\r\n          values: [],\r\n          display: [],\r\n          data: [],\r\n          input: true,\r\n        }\r\n        o.settings = o.type in site && o.id in site[o.type] ? site[o.type][o.id] : {}\r\n        o.wrapper = o.e.parentElement.classList.contains('wrapper')\r\n          ? o.e.parentElement\r\n          : o.e.parentElement.parentElement\r\n        if (o.wrapper) {\r\n          if (o.note) o.wrapper.classList.add('has-note')\r\n          o.wrapper.setAttribute('data-of', o.id)\r\n          ;['div', 'span', 'label', 'fieldset', 'legend', 'input', 'button'].forEach(type => {\r\n            const c = o.wrapper.querySelectorAll(type)\r\n            if (c.length) c.forEach(ci => ci.setAttribute('data-of', o.id))\r\n          })\r\n        }\r\n        if (o.note) {\r\n          o.wrapper.addEventListener('mouseover', tooltip_trigger.bind(o))\r\n          const p = 'DIV' !== o.e.tagName ? o.e : o.e.querySelector('input')\r\n          if (p) {\r\n            p.addEventListener('focus', tooltip_trigger.bind(o))\r\n            p.addEventListener('blur', tooltip_clear)\r\n          }\r\n        }\r\n        if (patterns.number.test(o.default)) o.default = Number(o.default)\r\n        if (o.type in elements) {\r\n          const p = elements[o.type]\r\n          if (p.setter) {\r\n            o.set = p.setter.bind(o)\r\n            o.reset = function () {\r\n              this.set(valueOf(this.default))\r\n            }.bind(o)\r\n          }\r\n          if (p.retrieve) o.get = p.retrieve.bind(o)\r\n          if (p.adder) o.add = p.adder.bind(o)\r\n          if (p.listener) o.listen = p.listener.bind(o)\r\n          if (p.init) p.init(o)\r\n          if (!o.options) o.options = o.e.querySelectorAll('select' === o.type ? 'option' : 'input')\r\n          if (o.optionSource && patterns.ids.test(o.optionSource)) {\r\n            o.loader = function () {\r\n              if (!this.e.classList.contains('locked')) {\r\n                this.deferred = false\r\n                this.e.removeEventListener('click', this.loader)\r\n                request_queue(this.id)\r\n              }\r\n            }.bind(o)\r\n            o.e.addEventListener('click', o.loader)\r\n            o.deferred = true\r\n          } else if (\r\n            'number' === typeof o.default &&\r\n            o.default > -1 &&\r\n            o.options &&\r\n            o.options.length &&\r\n            o.default < o.options.length\r\n          )\r\n            o.default = o.options[o.default].value || o.options[o.default].dataset.value\r\n          _u[o.id] = o\r\n        }\r\n      },\r\n      init_output: function (e, i) {\r\n        const o = {\r\n          type: e.getAttribute('data-autoType'),\r\n          view: e.getAttribute('data-view') || defaults.dataview,\r\n          id: e.id || 'out' + i,\r\n          note: e.getAttribute('aria-description') || '',\r\n          reference_options: {},\r\n          e: e,\r\n        }\r\n        if (o.note) o.e.addEventListener('mouseover', tooltip_trigger.bind(o))\r\n        o.options = o.type in site ? site[o.type][o.id] : void 0\r\n        if (o.options && o.options.dataview) o.view = o.options.dataview\r\n        if (o.type in elements && 'update' in elements[o.type]) o.update = elements[o.type].update.bind(o)\r\n        if (o.options) {\r\n          if ('options' in o.options) o.options = o.options.options\r\n          Object.keys(o.options).forEach(k => {\r\n            if (o.options[k] in _u) o.reference_options[k] = o.options[k]\r\n          })\r\n          if ('subto' in o.options) {\r\n            if ('string' === typeof o.options.subto) o.options.subto = [o.options.subto]\r\n            if (Array.isArray(o.options.subto)) o.options.subto.forEach(v => add_subs(v, o))\r\n          }\r\n        }\r\n        _u[o.id] = o\r\n        if (o.type in elements && 'init' in elements[o.type]) {\r\n          if (!o.view || _u[o.view].parsed.dataset in site.data.inited) {\r\n            elements[o.type].init(o)\r\n          } else {\r\n            site.data.data_queue[_u[o.view].parsed.dataset][o.id] = elements[o.type].init.bind(null, o)\r\n          }\r\n        }\r\n      },\r\n    },\r\n    storage = {\r\n      name: window.location.pathname || 'default',\r\n      perm: window.localStorage || {\r\n        setItem: function () {},\r\n        getItem: function () {},\r\n        removeItem: function () {},\r\n      },\r\n      set: function (opt, value) {\r\n        const s = JSON.parse(this.perm.getItem(this.name)) || {}\r\n        s[opt] = value\r\n        this.perm.setItem(this.name, JSON.stringify(s))\r\n      },\r\n      get: function (opt) {\r\n        const s = JSON.parse(this.perm.getItem(this.name))\r\n        return s ? (opt ? s[opt] : s) : undefined\r\n      },\r\n    },\r\n    keymap = {\r\n      Enter: 'select',\r\n      NumpadEnter: 'select',\r\n      ArrowUp: 'move',\r\n      Home: 'move',\r\n      ArrowDown: 'move',\r\n      End: 'move',\r\n      Escape: 'close',\r\n      Tab: 'close',\r\n    },\r\n    filter_components = {\r\n      Time: ['first', 'selected', 'last'],\r\n      summary: ['missing', 'min', 'q1', 'mean', 'median', 'q3', 'max'],\r\n    },\r\n    time_funs = {\r\n      number: function (v) {\r\n        return this - v.range[0]\r\n      },\r\n      first: function (v) {\r\n        return 0\r\n      },\r\n      selected: function (v, p) {\r\n        return p.time_agg - v.range[0]\r\n      },\r\n      last: function (v) {\r\n        return v.range[1] - v.range[0]\r\n      },\r\n    },\r\n    page = {\r\n      load_screen: document.getElementById('load_screen'),\r\n      wrap: document.getElementById('site_wrap'),\r\n      navbar: document.querySelector('.navbar'),\r\n      content: document.querySelector('.content'),\r\n      overlay: document.createElement('div'),\r\n      menus: document.getElementsByClassName('menu-wrapper'),\r\n      panels: document.getElementsByClassName('panel'),\r\n      elementCount: 0,\r\n    },\r\n    queue = {_timeout: 0},\r\n    meta = {\r\n      retain_state: true,\r\n    },\r\n    subs = {},\r\n    rule_conditions = {},\r\n    keys = {},\r\n    _u = {\r\n      _entity_filter: {\r\n        id: '_entity_filter',\r\n        registered: {},\r\n        entities: new Map(),\r\n        selected: [],\r\n        select_ids: {},\r\n        value: function (q, agg) {\r\n          return Object.keys(this.select_ids).join(',')\r\n        },\r\n      },\r\n      _base_filter: {\r\n        id: '_base_filter',\r\n        c: new Map(),\r\n        value: function (q, agg) {\r\n          const as_state = !q\r\n          if (as_state) q = []\r\n          _u._base_filter.c.forEach(f => {\r\n            const component =\r\n              'selected' === f.component\r\n                ? site.data.meta.overall.value['undefined' === typeof agg ? _u[defaults.dataview].parsed.time_agg : agg]\r\n                : f.time_component\r\n                ? site.data.meta.overall.value[f.component]\r\n                : f.component\r\n            if (f.value) q.push(f.variable + '[' + component + ']' + f.operator + f.value + (as_state ? f.active : ''))\r\n          })\r\n          return q.join('&')\r\n        },\r\n      },\r\n    },\r\n    _c = {},\r\n    tree = {}\r\n\r\n  page.overlay.className = 'content-overlay'\r\n  document.body.appendChild(page.overlay)\r\n  document.body.className = storage.get('theme_dark') || site.settings.theme_dark ? 'dark-theme' : 'light-theme'\r\n  if (page.content) {\r\n    let i = page.menus.length,\r\n      h = page.navbar ? page.navbar.getBoundingClientRect().height : 0\r\n    for (; i--; )\r\n      if (page.menus[i].classList.contains('menu-top')) {\r\n        h = page.menus[i].getBoundingClientRect().height\r\n        break\r\n      }\r\n    page.content.style.top = h + 'px'\r\n  }\r\n  if (!window.dataLayer) window.dataLayer = []\r\n\r\n  function pal(value, which, summary, index, rank, total) {\r\n    if (isNaN(value)) return defaults.missing\r\n    const centered = 'none' !== site.settings.color_scale_center && !site.settings.color_by_order,\r\n      fixed = 'discrete' === palettes[which].type,\r\n      colors = palettes[which].colors,\r\n      odd = palettes[which].odd,\r\n      string = 'string' === summary.type,\r\n      min = !string ? summary.min[index] : 0,\r\n      range = string ? summary.levels.length - min : summary.range[index],\r\n      center_source =\r\n        'none' === site.settings.color_scale_center || patterns.median.test(site.settings.color_scale_center)\r\n          ? 'median'\r\n          : 'mean',\r\n      center = site.settings.color_by_order\r\n        ? centered\r\n          ? summary['break_' + center_source][index] / total\r\n          : 0.5\r\n        : isNaN(summary['norm_' + center_source][index])\r\n        ? 0.5\r\n        : summary['norm_' + center_source][index],\r\n      r = fixed\r\n        ? centered && !site.settings.color_by_order\r\n          ? Math.ceil(colors.length / 2) - odd / 2\r\n          : colors.length\r\n        : 1,\r\n      p = site.settings.color_by_order\r\n        ? (rank + 0.5) / total\r\n        : range\r\n        ? ((string ? summary.level_ids[value] : value) - min) / range\r\n        : 0.5,\r\n      upper = p > (centered ? center : 0.5)\r\n    let v = centered\r\n      ? range\r\n        ? upper\r\n          ? (p - center - summary['upper_' + center_source + '_min'][index]) /\r\n            summary['upper_' + center_source + '_range'][index]\r\n          : (p + center - summary['lower_' + center_source + '_min'][index]) /\r\n            summary['lower_' + center_source + '_range'][index]\r\n        : 1\r\n      : p\r\n    if (!fixed) {\r\n      v = Math.max(0, Math.min(1, v))\r\n      if (upper) v = 1 - v\r\n      if (!centered) v *= 2\r\n    }\r\n    return (string ? value in summary.level_ids : 'number' === typeof value)\r\n      ? fixed\r\n        ? colors[Math.max(0, Math.min(colors.length - 1, Math.floor(centered ? (upper ? r + r * v : r * v) : r * v)))]\r\n        : 'rgb(' +\r\n          (upper\r\n            ? colors[0][0][0] +\r\n              v * colors[0][1][0] +\r\n              ', ' +\r\n              (colors[0][0][1] + v * colors[0][1][1]) +\r\n              ', ' +\r\n              (colors[0][0][2] + v * colors[0][1][2])\r\n            : colors[2][0][0] +\r\n              v * colors[2][1][0] +\r\n              ', ' +\r\n              (colors[2][0][1] + v * colors[2][1][1]) +\r\n              ', ' +\r\n              (colors[2][0][2] + v * colors[2][1][2])) +\r\n          ')'\r\n      : defaults.missing\r\n  }\r\n\r\n  function init_text(o, text) {\r\n    if (!('button' in text)) text.button = {}\r\n    if ('string' === typeof text.text) text.text = [text.text]\r\n    text.parts = document.createElement('span')\r\n    text.text.forEach(k => {\r\n      if (k in text.button) {\r\n        const p = text.button[k]\r\n        text.parts.appendChild(document.createElement('button'))\r\n        text.parts.lastElementChild.type = 'button'\r\n        p.trigger = tooltip_trigger.bind({id: o.id + p.text, note: p.target, wrapper: text.parts.lastElementChild})\r\n        if ('note' === p.type) {\r\n          text.parts.lastElementChild.setAttribute('aria-description', p.target)\r\n          text.parts.lastElementChild.setAttribute('data-of', o.id + p.text)\r\n          text.parts.lastElementChild.className = 'has-note'\r\n          text.parts.lastElementChild.addEventListener('mouseover', p.trigger)\r\n          text.parts.lastElementChild.addEventListener('focus', p.trigger)\r\n          text.parts.lastElementChild.addEventListener('blur', tooltip_clear)\r\n        } else {\r\n          text.parts.lastElementChild.className = 'btn btn-link'\r\n          if (!Array.isArray(p.target)) p.target = [p.target]\r\n          const m = new Map()\r\n          p.target.forEach(t => {\r\n            const u = _u[t]\r\n            if (u && 'function' === typeof u[p.type]) m.set(t, u[p.type])\r\n          })\r\n          if (m.size) {\r\n            text.parts.lastElementChild.setAttribute('aria-label', p.text.join(''))\r\n            text.parts.lastElementChild.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.forEach(f => f())\r\n              }.bind(m)\r\n            )\r\n          }\r\n        }\r\n      } else {\r\n        text.parts.appendChild(document.createElement('span'))\r\n      }\r\n      if (k in _u) o.depends.set(k, {id: k, u: _u[k], parsed: ''})\r\n    })\r\n    if ('condition' in text) {\r\n      for (let i = text.condition.length; i--; ) {\r\n        const c = text.condition[i]\r\n        if (c.id) {\r\n          if ('default' === c.id) {\r\n            c.check = function () {\r\n              return true\r\n            }\r\n          } else {\r\n            o.depends.set(c.id, c)\r\n            c.check = function () {\r\n              return 'default' === this.id || DataHandler.checks[this.type](valueOf(this.id), valueOf(this.value))\r\n            }.bind(c)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function fill_ids_options(u, d, out, onend) {\r\n    if (!(d in site.data.sets)) {\r\n      site.data.data_queue[d][u.id] = function () {\r\n        u.e.removeEventListener('click', u.loader)\r\n        fill_ids_options(u, d, out, onend)\r\n        u.set_current()\r\n        u.current_set = d\r\n        return\r\n      }\r\n      return\r\n    }\r\n    out[d] = {options: [], values: {}, display: {}}\r\n    const current = u.values,\r\n      s = out[d].options,\r\n      values = out[d].values,\r\n      disp = out[d].display,\r\n      combobox = 'combobox' === u.type\r\n    let ck = !u.sensitive && !!u.current_set,\r\n      n = 0\r\n    if (u.settings.group) {\r\n      out[d].groups = {e: [], by_name: {}}\r\n      if (combobox && u.settings.accordion) {\r\n        u.listbox.classList.add('accordion')\r\n        u.listbox.id = u.id + '-listbox'\r\n      }\r\n    }\r\n    const ugroup = out[d].groups\r\n    Object.keys(site.data.entities).forEach(k => {\r\n      const entity = site.data.entities[k]\r\n      if (d === entity.group) {\r\n        if (ck && !(k in current)) {\r\n          u.sensitive = true\r\n          ck = false\r\n        }\r\n        if (ugroup) {\r\n          let groups = entity.features[u.settings.group] || ['No Group']\r\n          if (!Array.isArray(groups)) groups = [groups]\r\n          for (let g = groups.length; g--; ) {\r\n            const group = groups[g]\r\n            if (!(group in ugroup.by_name)) {\r\n              const e = document.createElement(combobox ? 'div' : 'optgroup')\r\n              if (combobox) {\r\n                const id = u.id + '_' + group.replace(patterns.seps, '-')\r\n                let ee\r\n                if (u.settings.accordion) {\r\n                  e.setAttribute('data-group', group)\r\n                  e.className = 'combobox-group accordion-item combobox-component'\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.className = 'accordion-header combobox-component'\r\n                  ee.appendChild((ee = document.createElement('button')))\r\n                  ee.id = id + '-label'\r\n                  ee.innerText = group\r\n                  ee.type = 'button'\r\n                  ee.className = 'accordion-button combobox-component collapsed'\r\n                  ee.setAttribute('data-bs-toggle', 'collapse')\r\n                  ee.setAttribute('data-bs-target', '#' + id)\r\n                  ee.setAttribute('aria-expanded', 'false')\r\n                  ee.setAttribute('aria-controls', id)\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.id = id\r\n                  ee.className = 'combobox-component accordion-collapse collapse'\r\n                  ee.setAttribute('data-bs-parent', '#' + u.id + '-listbox')\r\n                  ee.appendChild((ee = document.createElement('div')))\r\n                  ee.className = 'accordion-body combobox-component'\r\n                  ee.role = 'group'\r\n                  ee.setAttribute('aria-labelledby', id + '-label')\r\n                } else {\r\n                  e.className = 'combobox-group combobox-component'\r\n                  e.id = id\r\n                  e.role = 'group'\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.appendChild((ee = document.createElement('label')))\r\n                  ee.for = id\r\n                  ee.innerText = group\r\n                  ee.id = id + '-label'\r\n                  ee.for = id\r\n                  ee.className = 'combobox-group-label combobox-component'\r\n                }\r\n              } else {\r\n                e.label = group\r\n              }\r\n              ugroup.by_name[group] = e\r\n              ugroup.e.push(e)\r\n            }\r\n            const o = u.add(k, entity.features.name, true)\r\n            o.setAttribute('data-group', group)\r\n            if (combobox && u.settings.accordion) {\r\n              ugroup.by_name[group].lastElementChild.lastElementChild.appendChild(o)\r\n            } else {\r\n              ugroup.by_name[group].appendChild(o)\r\n            }\r\n          }\r\n        } else {\r\n          s.push(u.add(k, entity.features.name))\r\n          values[k] = n\r\n          disp[entity.features.name] = n++\r\n        }\r\n      }\r\n    })\r\n    if (u.settings.group) {\r\n      n = 0\r\n      Object.keys(ugroup.by_name).forEach(g => {\r\n        ugroup.by_name[g].querySelectorAll(combobox ? '.combobox-option' : 'option').forEach(c => {\r\n          s.push(c)\r\n          values[combobox ? c.dataset.value : c.value] = n\r\n          disp[c.innerText] = n++\r\n        })\r\n      })\r\n    }\r\n    onend && onend()\r\n  }\r\n\r\n  function fill_variables_options(u, d, out) {\r\n    out[d] = {options: [], values: {}, display: {}}\r\n    const current = u.values,\r\n      s = out[d].options,\r\n      values = out[d].values,\r\n      disp = out[d].display,\r\n      combobox = 'combobox' === u.type\r\n    let ck = !u.sensitive && !!u.current_set,\r\n      n = 0\r\n    if (u.settings.group) {\r\n      out[d].groups = {e: [], by_name: {}}\r\n      if (combobox && u.settings.accordion) {\r\n        u.listbox.classList.add('accordion')\r\n        u.listbox.id = u.id + '-listbox'\r\n      }\r\n    }\r\n    const url_set = site.url_options[u.id],\r\n      ugroup = out[d].groups\r\n    let ck_suffix = false\r\n    if (url_set && !(url_set in site.data.variables)) {\r\n      site.url_options[u.id] = url_set.replace(patterns.pre_colon, '')\r\n      if (!(site.url_options[u.id] in site.data.variables)) ck_suffix = true\r\n    }\r\n    site.data.info[d].schema.fields.forEach(m => {\r\n      const v = site.data.variables[m.name]\r\n      if (v && !v.is_time) {\r\n        const l = site.data.format_label(m.name)\r\n        if (ck && !(m.name in current)) {\r\n          u.sensitive = true\r\n          ck = false\r\n        }\r\n        if (ugroup) {\r\n          let groups = (m.info && m.info[u.settings.group]) || ['No Group']\r\n          if (!Array.isArray(groups)) groups = [groups]\r\n          for (let g = groups.length; g--; ) {\r\n            const group = groups[g]\r\n            if (!(group in ugroup.by_name)) {\r\n              const e = document.createElement(combobox ? 'div' : 'optgroup')\r\n              if (combobox) {\r\n                const id = u.id + '_' + group.replace(patterns.seps, '-')\r\n                let ee\r\n                if (u.settings.accordion) {\r\n                  e.setAttribute('data-group', group)\r\n                  e.className = 'combobox-group accordion-item combobox-component'\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.className = 'accordion-header combobox-component'\r\n                  ee.appendChild((ee = document.createElement('button')))\r\n                  ee.id = id + '-label'\r\n                  ee.innerText = group\r\n                  ee.type = 'button'\r\n                  ee.className = 'accordion-button combobox-component collapsed'\r\n                  ee.setAttribute('data-bs-toggle', 'collapse')\r\n                  ee.setAttribute('data-bs-target', '#' + id)\r\n                  ee.setAttribute('aria-expanded', 'false')\r\n                  ee.setAttribute('aria-controls', id)\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.id = id\r\n                  ee.className = 'combobox-component accordion-collapse collapse'\r\n                  ee.setAttribute('data-bs-parent', '#' + u.id + '-listbox')\r\n                  ee.appendChild((ee = document.createElement('div')))\r\n                  ee.className = 'accordion-body combobox-component'\r\n                  ee.role = 'group'\r\n                  ee.setAttribute('aria-labelledby', id + '-label')\r\n                } else {\r\n                  e.className = 'combobox-group combobox-component'\r\n                  e.role = 'group'\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.appendChild((ee = document.createElement('label')))\r\n                  ee.for = id\r\n                  ee.innerText = group\r\n                  ee.id = id\r\n                  ee.className = 'combobox-group-label combobox-component'\r\n                }\r\n              } else {\r\n                e.label = group\r\n              }\r\n              ugroup.by_name[group] = e\r\n              ugroup.e.push(e)\r\n            }\r\n            const o = u.add(m.name, l, true, m)\r\n            o.setAttribute('data-group', group)\r\n            if (combobox && u.settings.accordion) {\r\n              ugroup.by_name[group].lastElementChild.lastElementChild.appendChild(o)\r\n            } else {\r\n              ugroup.by_name[group].appendChild(o)\r\n            }\r\n          }\r\n        } else {\r\n          s.push(u.add(m.name, l, true, m))\r\n          s[n].id = u.id + '-option' + n\r\n          values[m.name] = n\r\n          disp[l] = n++\r\n        }\r\n        if (ck_suffix && url_set === m.name.replace(patterns.pre_colon, '')) {\r\n          site.url_options[u.id] = m.name\r\n          ck_suffix = false\r\n        }\r\n      }\r\n    })\r\n    if (u.settings.group) {\r\n      n = 0\r\n      Object.keys(ugroup.by_name).forEach(g => {\r\n        ugroup.by_name[g].querySelectorAll(combobox ? '.combobox-option' : 'option').forEach(c => {\r\n          s.push(c)\r\n          s[n].id = u.id + '-option' + n\r\n          values[combobox ? c.dataset.value : c.value] = n\r\n          disp[(c.firstChild && c.firstChild.textContent) || c.innerText] = n++\r\n        })\r\n      })\r\n    }\r\n    if (!u.settings.clearable && !(u.default in site.data.variables)) u.default = defaults.variable\r\n  }\r\n\r\n  function fill_overlay_properties_options(u, source, out) {\r\n    out[source] = {options: [], values: {}, display: {}}\r\n    const current = u.values,\r\n      s = out[source].options,\r\n      values = out[source].values,\r\n      disp = out[source].display,\r\n      combobox = 'combobox' === u.type\r\n    let ck = !u.sensitive && !!u.current_set,\r\n      n = 0\r\n    if (u.settings.group) {\r\n      out[source].groups = {e: [], by_name: {}}\r\n    }\r\n    Object.keys(site.map._queue[source].property_summaries).forEach(v => {\r\n      const l = site.data.format_label(v)\r\n      if (ck && !(v.name in current)) {\r\n        u.sensitive = true\r\n        ck = false\r\n      }\r\n      s.push(u.add(v, l))\r\n      s[n].id = u.id + '-option' + n\r\n      values[v] = n\r\n      disp[l] = n++\r\n    })\r\n  }\r\n\r\n  function fill_levels_options(u, d, v, out) {\r\n    const m = site.data.variables[v].info[d],\r\n      t = 'string' === m.type ? 'levels' : 'ids',\r\n      l = m[t]\r\n    if (l) {\r\n      const k = d + v\r\n      out[k] = {options: [], values: {}, display: {}}\r\n      const current = u.values,\r\n        s = out[k].options,\r\n        values = out[k].values,\r\n        disp = out[k].display\r\n      let ck = !u.sensitive && !!u.current_set,\r\n        n = 0\r\n      Object.keys(l).forEach(k => {\r\n        const lk = l[k]\r\n        if (ck && !(k in current)) {\r\n          u.sensitive = true\r\n          ck = false\r\n        }\r\n        s.push(u.add(lk.id, lk.name, true))\r\n        values[lk.id] = n\r\n        disp[lk.name] = n++\r\n      })\r\n    } else if ('ids' === t) {\r\n      site.data.data_queue[d][u.id] = function () {\r\n        return fill_levels_options(u, d, v, out)\r\n      }\r\n    }\r\n  }\r\n\r\n  function toggle_input(u, enable) {\r\n    if (enable && !u.e.classList.contains('locked')) {\r\n      u.e.removeAttribute('disabled')\r\n      u.e.classList.remove('disabled')\r\n      if (u.input_element) u.input_element.removeAttribute('disabled')\r\n    } else {\r\n      u.e.setAttribute('disabled', 'true')\r\n      u.e.classList.add('disabled')\r\n      if (u.input_element) u.input_element.setAttribute('disabled', 'true')\r\n    }\r\n  }\r\n\r\n  function sort_tree_children(a, b) {\r\n    return !(a.id in tree) || !(b.id in tree) ? -Infinity : tree[a.id]._n.children - tree[b.id]._n.children\r\n  }\r\n\r\n  function add_dependency(id, o) {\r\n    if (!(id in _c)) _c[id] = []\r\n    if (!o.uid) o.uid = JSON.stringify(o)\r\n    const c = _c[id]\r\n    for (let i = c.length; i--; ) if (o.uid === c[i].uid) return void 0\r\n    c.push(o)\r\n    if (!(id in tree)) tree[id] = {_n: {children: 0, parents: 0}, children: {}, parents: {}}\r\n    if (!(o.id in tree)) tree[o.id] = {_n: {children: 0, parents: 0}, children: {}, parents: {}}\r\n    tree[id].children[o.id] = tree[o.id]\r\n    tree[id]._n.children++\r\n    tree[o.id].parents[id] = tree[id]\r\n    tree[o.id]._n.parents++\r\n    c.sort(sort_tree_children)\r\n    request_queue(id)\r\n  }\r\n\r\n  function add_subs(id, o) {\r\n    if (!(id in subs)) subs[id] = []\r\n    subs[id].push(o)\r\n  }\r\n\r\n  function update_subs(id, fun, e) {\r\n    if (id in subs) {\r\n      for (let i = subs[id].length; i--; ) {\r\n        if (fun in subs[id][i]) subs[id][i][fun](e, _u[id])\r\n      }\r\n    }\r\n  }\r\n\r\n  function update_plot_theme(u) {\r\n    if (u.dark_theme !== site.settings.theme_dark) {\r\n      u.dark_theme = site.settings.theme_dark\r\n      const s = getComputedStyle(document.body)\r\n      if (!('style' in u)) {\r\n        u.style = u.options.layout\r\n        if (!('font' in u.style)) u.style.font = {}\r\n        if (!('modebar' in u.style)) u.style.modebar = {}\r\n        if (!('font' in u.style.xaxis)) u.style.xaxis.font = {}\r\n        if (!('font' in u.style.yaxis)) u.style.yaxis.font = {}\r\n      }\r\n      u.style.paper_bgcolor = s.backgroundColor\r\n      u.style.plot_bgcolor = s.backgroundColor\r\n      u.style.font.color = s.color\r\n      u.style.modebar.bgcolor = s.backgroundColor\r\n      u.style.modebar.color = s.color\r\n      if (u.e._fullLayout.xaxis.showgrid) u.style.xaxis.gridcolor = s.borderColor\r\n      if (u.e._fullLayout.yaxis.showgrid) u.style.yaxis.gridcolor = s.borderColor\r\n      u.style.xaxis.font.color = s.color\r\n      u.style.yaxis.font.color = s.color\r\n      Plotly.relayout(u.e, u.options.layout)\r\n    }\r\n  }\r\n\r\n  function make_data_entry(u, e, rank, total, name, color) {\r\n    if (e.data && u.parsed.x in site.data.variables) {\r\n      const x = site.data.get_value({variable: u.parsed.x, entity: e}),\r\n        y = site.data.get_value({variable: u.parsed.y, entity: e}),\r\n        t = JSON.parse(u.traces[u.base_trace]),\r\n        yr = site.data.variables[u.parsed.y].time_range[u.parsed.dataset],\r\n        xr = site.data.variables[u.parsed.x].time_range[u.parsed.dataset],\r\n        n = Math.min(yr[1], xr[1]) + 1,\r\n        ns = u.parsed.summary.n\r\n      for (let i = Math.max(yr[0], xr[0]); i < n; i++) {\r\n        if (site.settings.show_empty_times || ns[i - u.parsed.y_range[0]]) {\r\n          t.text.push(e.features.name)\r\n          t.x.push(u.parsed.x_range[0] <= i && i <= u.parsed.x_range[1] ? x[i - u.parsed.x_range[0]] : NaN)\r\n          t.y.push(u.parsed.y_range[0] <= i && i <= u.parsed.y_range[1] ? y[i - u.parsed.y_range[0]] : NaN)\r\n        }\r\n      }\r\n      t.type = u.parsed.base_trace\r\n      t.color =\r\n        t.line.color =\r\n        t.marker.color =\r\n        t.textfont.color =\r\n          color ||\r\n          pal(\r\n            e.get_value(u.parsed.color, u.parsed.time),\r\n            u.parsed.palette,\r\n            u.parsed.summary,\r\n            u.parsed.time,\r\n            rank,\r\n            total\r\n          ) ||\r\n          defaults.border\r\n      if ('bar' === t.type) t.marker.line.width = 0\r\n      t.name = name || e.features.name\r\n      t.id = e.features.id\r\n      return t\r\n    }\r\n  }\r\n\r\n  function make_summary_table(parent, summary, additional) {\r\n    parent.classList.add('info-summary-wrapper')\r\n    const e = document.createElement('table')\r\n    e.className = 'info-summary'\r\n    e.appendChild(document.createElement('tr'))\r\n    e.appendChild(document.createElement('tr'))\r\n    if (additional) {\r\n      Object.keys(additional).forEach(h => {\r\n        e.firstElementChild.appendChild(document.createElement('th'))\r\n        e.firstElementChild.lastElementChild.innerText = h\r\n        e.lastElementChild.appendChild(document.createElement('td'))\r\n        e.lastElementChild.lastElementChild.innerText = additional[h]\r\n      })\r\n    }\r\n    ;['NAs', 'Min', 'Q1', 'Mean', 'Median', 'Q3', 'Max'].forEach(h => {\r\n      const lower = h.toLowerCase()\r\n      if (!summary || lower in summary) {\r\n        e.firstElementChild.appendChild(document.createElement('th'))\r\n        e.firstElementChild.lastElementChild.innerText = h\r\n        e.lastElementChild.appendChild(document.createElement('td'))\r\n        e.lastElementChild.lastElementChild.innerText = summary ? site.data.format_value(summary[lower]) : 'NA'\r\n      }\r\n    })\r\n    parent.appendChild(e)\r\n    return e\r\n  }\r\n\r\n  function fill_summary_table(table, summary, time) {\r\n    const e = table.lastElementChild.children\r\n    filter_components.summary.forEach((c, i) => {\r\n      e[i].innerText = site.data.format_value(summary[c][time], 0 === i)\r\n    })\r\n  }\r\n\r\n  function make_variable_reference(c) {\r\n    if (!Array.isArray(c.author)) c.author = [c.author]\r\n    const e = document.createElement('li'),\r\n      n = c.author.length\r\n    let s = '',\r\n      j = 1 === n ? '' : 2 === n ? ' & ' : ', & '\r\n    for (let i = n; i--; ) {\r\n      const a = c.author[i]\r\n      s =\r\n        (i ? j : '') +\r\n        ('string' === typeof a ? a : a.family) +\r\n        (a.given ? ', ' + a.given.substring(0, 1) + '.' : '') +\r\n        s\r\n      j = ', '\r\n    }\r\n    e.innerHTML =\r\n      s +\r\n      ' (' +\r\n      c.year +\r\n      '). ' +\r\n      c.title +\r\n      '.' +\r\n      (c.journal\r\n        ? ' <em>' + c.journal + (c.volume ? ', ' + c.volume : '') + '</em>' + (c.page ? ', ' + c.page : '') + '.'\r\n        : '') +\r\n      (c.version ? ' Version ' + c.version + '.' : '') +\r\n      (c.doi || c.url\r\n        ? (c.doi ? ' doi: ' : ' url: ') +\r\n          (c.doi || c.url\r\n            ? '<a rel=\"noreferrer\" target=\"_blank\" href=\"' +\r\n              (c.doi ? 'https://doi.org/' + c.doi : c.url) +\r\n              '\">' +\r\n              (c.doi || c.url.replace(patterns.http, '')) +\r\n              '</a>'\r\n            : '')\r\n        : '')\r\n    return e\r\n  }\r\n\r\n  function make_variable_source(s, table) {\r\n    const e = document.createElement(table ? 'tr' : 'div')\r\n    let ee\r\n    if (table) {\r\n      if (s.name) {\r\n        e.appendChild((ee = document.createElement('td')))\r\n        if (s.url) {\r\n          ee.appendChild((ee = document.createElement('a')))\r\n          ee.target = '_blank'\r\n          ee.rel = 'noreferrer'\r\n          ee.href = s.url\r\n        } else {\r\n          ee.appendChild(document.createElement('span'))\r\n        }\r\n        e.firstElementChild.firstElementChild.innerText = s.name\r\n      }\r\n      if (s.date_accessed) {\r\n        e.appendChild((ee = document.createElement('td')))\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.firstElementChild.innerText = s.date_accessed\r\n      }\r\n    } else {\r\n      e.className = 'card'\r\n      if (s.name) {\r\n        e.appendChild((ee = document.createElement('div')))\r\n        ee.className = 'card-header'\r\n        if (s.url) {\r\n          ee.appendChild((ee = document.createElement('a')))\r\n          ee.target = '_blank'\r\n          ee.rel = 'noreferrer'\r\n          ee.href = s.url\r\n        } else {\r\n          ee.appendChild(document.createElement('span'))\r\n        }\r\n        e.firstElementChild.firstElementChild.innerText = s.name\r\n      }\r\n      e.appendChild(document.createElement('div'))\r\n      e.lastElementChild.className = 'card-body'\r\n      if (s.location) {\r\n        e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.lastElementChild.innerText = 'Location: '\r\n        ee.appendChild(document.createElement('span'))\r\n        if (s.location_url) {\r\n          ee.lastElementChild.appendChild((ee = document.createElement('a')))\r\n          ee.target = '_blank'\r\n          ee.rel = 'noreferrer'\r\n          ee.href = s.location_url\r\n          ee.innerText = s.location\r\n        } else {\r\n          ee.lastElementChild.innerText = s.location\r\n        }\r\n      }\r\n      if (s.date_accessed) {\r\n        e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.lastElementChild.innerText = 'Date Accessed: '\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.lastElementChild.innerText = s.date_accessed\r\n      }\r\n    }\r\n    return e\r\n  }\r\n\r\n  function show_variable_info() {\r\n    const v = _u[this.view],\r\n      name = valueOf(this.v || v.y),\r\n      info = site.data.variable_info[name]\r\n    page.modal.info.header.firstElementChild.innerText = info.short_name\r\n    page.modal.info.title.innerText = info.long_name\r\n    set_description(page.modal.info.description, info)\r\n    page.modal.info.name.lastElementChild.innerText = name\r\n    page.modal.info.type.lastElementChild.innerText = info.unit || info.aggregation_method || info.type || ''\r\n    if (info.sources && info.sources.length) {\r\n      page.modal.info.sources.lastElementChild.innerHTML = ''\r\n      page.modal.info.sources.classList.remove('hidden')\r\n      info.sources.forEach(s => {\r\n        page.modal.info.sources.lastElementChild.appendChild(make_variable_source(s))\r\n      })\r\n    } else page.modal.info.sources.classList.add('hidden')\r\n    if (info.citations && info.citations.length) {\r\n      page.modal.info.references.lastElementChild.innerHTML = ''\r\n      page.modal.info.references.classList.remove('hidden')\r\n      if ('string' === typeof info.citations) info.citations = [info.citations]\r\n      if ('references' in site.data) {\r\n        delete site.data.variable_info._references\r\n        delete site.data.references\r\n      }\r\n      if (!('_references' in site.data.variable_info)) {\r\n        const r = {}\r\n        site.data.variable_info._references = r\r\n        Object.keys(site.data.info).forEach(d => {\r\n          const m = site.data.info[d]\r\n          if ('_references' in m) {\r\n            Object.keys(m._references).forEach(t => {\r\n              if (!(t in r))\r\n                r[t] = {\r\n                  reference: m._references[t],\r\n                  element: make_variable_reference(m._references[t]),\r\n                }\r\n            })\r\n          }\r\n        })\r\n      }\r\n      const r = site.data.variable_info._references\r\n      info.citations.forEach(c => {\r\n        if (c in r) page.modal.info.references.lastElementChild.appendChild(r[c].element)\r\n      })\r\n    } else page.modal.info.references.classList.add('hidden')\r\n    if ('origin' in info) {\r\n      page.modal.info.origin.classList.remove('hidden')\r\n      const l = page.modal.info.origin.lastElementChild\r\n      l.innerHTML = ''\r\n      if ('string' === typeof info.origin) info.origin = [info.origin]\r\n      info.origin.forEach(url => {\r\n        const c = document.createElement('li'),\r\n          repo = patterns.repo.exec(url)[1]\r\n        let link = document.createElement('a')\r\n        link.href = 'https://github.com/' + repo\r\n        link.target = '_blank'\r\n        link.rel = 'noreferrer'\r\n        link.innerText = repo\r\n        c.appendChild(link)\r\n        c.appendChild(document.createElement('span'))\r\n        c.lastElementChild.innerText = ' / '\r\n        link = document.createElement('a')\r\n        link.href = url\r\n        link.target = '_blank'\r\n        link.rel = 'noreferrer'\r\n        link.innerText = url.replace(patterns.basename, '')\r\n        c.appendChild(link)\r\n        l.appendChild(c)\r\n      })\r\n    } else page.modal.info.origin.classList.add('hidden')\r\n    if (info.source_file) {\r\n      page.modal.info.source_file.classList.remove('hidden')\r\n      page.modal.info.source_file.firstElementChild.href = info.source_file\r\n    } else page.modal.info.source_file.classList.add('hidden')\r\n  }\r\n\r\n  function parse_variables(s, type, e, entity) {\r\n    if ('statement' === type) {\r\n      for (let m, v; (m = patterns.mustache.exec(s)); ) {\r\n        if ('value' === m[1]) {\r\n          v = entity\r\n            ? site.data.format_value(\r\n                entity.get_value(e.v, e.time),\r\n                e.dataset in site.data.variables[e.v] && 'integer' === site.data.variables[e.v][e.dataset].type\r\n              )\r\n            : NaN\r\n          const info = site.data.variable_info[e.v]\r\n          let type = info.unit || info.type\r\n          if (info.aggregation_method && !(type in value_types)) type = info.aggregation_method\r\n          s = s.replace(m[0], NaN !== v && type in value_types ? value_types[type](v) : v)\r\n          patterns.mustache.lastIndex = 0\r\n        } else if (entity) {\r\n          if ('region_name' === m[1]) {\r\n            s = s.replace(m[0], entity.features.name)\r\n            patterns.mustache.lastIndex = 0\r\n          } else if (patterns.features.test(m[1])) {\r\n            s = s.replace(m[0], entity.features[m[1].replace(patterns.features, '')])\r\n            patterns.mustache.lastIndex = 0\r\n          } else if (patterns.variables.test(m[1])) {\r\n            s = s.replace(m[0], entity.variables[e.v][m[1].replace(patterns.variables, '')])\r\n            patterns.mustache.lastIndex = 0\r\n          } else if (patterns.data.test(m[1])) {\r\n            s = s.replace(m[0], entity.get_value(m[1].replace(patterns.data, ''), e.time))\r\n            patterns.mustache.lastIndex = 0\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return s\r\n  }\r\n\r\n  let k, i, e, ee, c\r\n  // get options from url\r\n  site.query = k = window.location.search.replace('?', '')\r\n  site.url_options = {}\r\n  if (k) {\r\n    e = k.split('&')\r\n    for (i = e.length; i--; ) {\r\n      c = e[i].split('=')\r\n      if (c.length < 2) c.push('true')\r\n      c[1] = patterns.bool.test(c[1]) ? !!c[1] || 'true' === c[1] : c[1].replace(patterns.url_spaces, ' ')\r\n      site.url_options[c[0]] = c[1]\r\n      if (patterns.settings.test(c[0])) storage.set(c[0].replace(patterns.settings, ''), c[1])\r\n    }\r\n  }\r\n\r\n  // prepare embedded view\r\n  if ('embedded' in site.url_options || 'hide_navbar' in site.url_options) {\r\n    if (!('hide_logo' in site.url_options)) site.url_options.hide_logo = true\r\n    if (!('hide_title' in site.url_options)) site.url_options.hide_title = true\r\n    if (!('hide_navcontent' in site.url_options)) site.url_options.hide_navcontent = true\r\n    if (!('hide_panels' in site.url_options)) site.url_options.hide_panels = true\r\n    if ('embedded' in site.url_options && !('close_menus' in site.url_options)) site.url_options.close_menus = true\r\n  }\r\n  e = page.navbar\r\n  if (e) {\r\n    e.querySelectorAll('button').forEach(b => {\r\n      const panel = document.querySelector(b.getAttribute('data-bs-target'))\r\n      if (panel && 'false' === panel.getAttribute('data-bs-backdrop')) {\r\n        panel.addEventListener('show.bs.offcanvas', function () {\r\n          page.content_bounds.outer_right = panel.getBoundingClientRect().width\r\n          content_resize(void 0, true)\r\n          setTimeout(trigger_resize, 200)\r\n        })\r\n        panel.addEventListener('hide.bs.offcanvas', function () {\r\n          page.content_bounds.outer_right = 0\r\n          content_resize(void 0, true)\r\n          setTimeout(trigger_resize, 200)\r\n        })\r\n      }\r\n    })\r\n    if ('navcolor' in site.url_options) {\r\n      if ('' === site.url_options.navcolor) site.url_options.navcolor = window.location.hash\r\n      e.style.backgroundColor = site.url_options.navcolor.replace('%23', '#')\r\n    }\r\n    if (site.url_options.hide_logo && site.url_options.hide_title && site.url_options.hide_navcontent) {\r\n      e.classList.add('hidden')\r\n    } else {\r\n      e = document.querySelector('.navbar-brand')\r\n      if (e) {\r\n        if (site.url_options.hide_logo && 'IMG' === e.firstElementChild.tagName)\r\n          e.firstElementChild.classList.add('hidden')\r\n        if (site.url_options.hide_title && 'IMG' !== e.lastElementChild.tagName)\r\n          e.lastElementChild.classList.add('hidden')\r\n      }\r\n      if (site.url_options.hide_navcontent) {\r\n        document.querySelector('.navbar-toggler').classList.add('hidden')\r\n        e = document.querySelector('.navbar-nav')\r\n        if (e) e.classList.add('hidden')\r\n      }\r\n    }\r\n    if (site.url_options.hide_panels && page.panels.length) {\r\n      for (i = page.panels.length; i--; ) {\r\n        page.panels[i].classList.add('hidden')\r\n      }\r\n    }\r\n  }\r\n\r\n  // check for stored settings\r\n  storage.copy = storage.get()\r\n  if (storage.copy)\r\n    for (const k in site.settings) {\r\n      if (k in storage.copy) {\r\n        let c = storage.copy[k]\r\n        if (patterns.bool.test(c)) {\r\n          c = !!c || 'true' === c\r\n        } else if (patterns.number.test(c)) c = parseFloat(c)\r\n        site.settings[k] = c\r\n      }\r\n    }\r\n\r\n  // preprocess polynomial palettes\r\n  function poly_channel(ch, pos, coefs) {\r\n    const n = coefs.length\r\n    let v = coefs[0][ch] + pos * coefs[1][ch],\r\n      i = 2\r\n    for (; i < n; i++) {\r\n      v += Math.pow(pos, i) * coefs[i][ch]\r\n    }\r\n    return Math.max(0, Math.min(255, v))\r\n  }\r\n  Object.keys(palettes).forEach(k => {\r\n    const n = 255,\r\n      p = palettes[k]\r\n    if ('continuous-polynomial' === p.type) {\r\n      const c = p.colors\r\n      p.type = 'discrete'\r\n      p.colors = []\r\n      for (let i = 0; i < n; i++) {\r\n        const v = i / n\r\n        p.colors.push(\r\n          'rgb(' + poly_channel(0, v, c) + ', ' + poly_channel(1, v, c) + ', ' + poly_channel(2, v, c) + ')'\r\n        )\r\n      }\r\n    }\r\n    p.odd = p.colors.length % 2\r\n  })\r\n\r\n  window.onload = function () {\r\n    page.navbar = document.querySelector('.navbar')\r\n    page.navbar = page.navbar ? page.navbar.getBoundingClientRect() : {height: 0}\r\n    page.content = document.querySelector('.content')\r\n    page.menus = document.querySelectorAll('.menu-wrapper')\r\n    page.panels = document.querySelectorAll('.panel')\r\n    page.content_bounds = {\r\n      top: page.navbar.height,\r\n      right: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      outer_right: 0,\r\n    }\r\n    page.script_style = document.head.appendChild(document.createElement('style'))\r\n    if (site.settings.hide_tooltips) page.script_style.sheet.insertRule(tooltip_icon_rule, 0)\r\n    page.menu_toggler = {\r\n      hide: function () {\r\n        page.menu_toggler.timeout = -1\r\n        this.classList.add('hidden')\r\n        content_resize()\r\n      },\r\n      toggle: function (type) {\r\n        if (page.menu_toggler.timeout > 0) clearTimeout(page.menu_toggler.timeout)\r\n        page.menu_toggler.timeout = -1\r\n        if ('closed' === this.parentElement.state) {\r\n          this.parentElement.state = 'open'\r\n          this.parentElement.firstElementChild.classList.remove('hidden')\r\n          this.parentElement.style[type] = '0px'\r\n          page.content.style[type] =\r\n            this.parentElement.getBoundingClientRect()['left' === type || 'right' === type ? 'width' : 'height'] + 'px'\r\n          if ('top' === type || 'bottom' === type) this.style[type] = page.content_bounds[type] + 'px'\r\n          setTimeout(trigger_resize, 300)\r\n        } else {\r\n          this.parentElement.state = 'closed'\r\n          if ('left' === type || 'right' === type) {\r\n            this.parentElement.style[type] = -this.parentElement.getBoundingClientRect().width + 'px'\r\n            page.content.style[type] = page.content_bounds[type] + 'px'\r\n          } else {\r\n            const b = this.parentElement.getBoundingClientRect()\r\n            page.content.style[type] = page.content_bounds[type] + ('top' === type ? 40 : 0) + 'px'\r\n            this.parentElement.style[type] = -b.height + ('top' === type ? page.content_bounds.top : 0) + 'px'\r\n            if ('top' === type || 'bottom' === type) this.style[type] = b.height + 'px'\r\n          }\r\n          page.menu_toggler.timeout = setTimeout(page.menu_toggler.hide.bind(this.parentElement.firstElementChild), 300)\r\n        }\r\n      },\r\n      timeout: -1,\r\n    }\r\n    page.modal = {\r\n      info: {\r\n        init: false,\r\n        e: document.createElement('div'),\r\n      },\r\n      filter: {\r\n        init: false,\r\n        e: document.createElement('div'),\r\n      },\r\n    }\r\n    page.load_screen = document.getElementById('load_screen')\r\n\r\n    // initialize tags\r\n    if (site.settings.tracking && site.tag_id) {\r\n      gtag('js', new Date())\r\n      gtag('config', site.tag_id)\r\n    }\r\n\r\n    // make variable info popup\r\n    e = page.modal.info.e\r\n    document.body.appendChild(e)\r\n    page.modal.info.init = true\r\n    e.id = 'variable_info_display'\r\n    e.className = 'modal fade'\r\n    e.setAttribute('tabindex', '-1')\r\n    e.setAttribute('aria-labelledby', 'variable_info_title')\r\n    e.ariaHidden = 'true'\r\n    e.appendChild(document.createElement('div'))\r\n    e.firstElementChild.className = 'modal-dialog modal-dialog-scrollable'\r\n    e.firstElementChild.appendChild(document.createElement('div'))\r\n    e.firstElementChild.firstElementChild.className = 'modal-content'\r\n    e.firstElementChild.firstElementChild.appendChild((page.modal.info.header = document.createElement('div')))\r\n    e = page.modal.info\r\n    e.header.className = 'modal-header'\r\n    e.header.appendChild(document.createElement('p'))\r\n    e.header.firstElementChild.className = 'h5 modal-title'\r\n    e.header.firstElementChild.id = 'variable_info_title'\r\n    e.header.appendChild(document.createElement('button'))\r\n    e.header.lastElementChild.type = 'button'\r\n    e.header.lastElementChild.className = 'btn-close'\r\n    e.header.lastElementChild.setAttribute('data-bs-dismiss', 'modal')\r\n    e.header.lastElementChild.title = 'close'\r\n    e.header.insertAdjacentElement('afterEnd', (e.body = document.createElement('div')))\r\n    e.body.className = 'modal-body'\r\n    e.body.appendChild((e.title = document.createElement('p')))\r\n    e.title.className = 'h4'\r\n    e.body.appendChild((e.description = document.createElement('p')))\r\n\r\n    e.body.appendChild(document.createElement('table'))\r\n    e.body.lastElementChild.className = 'info-feature-table'\r\n\r\n    e.body.lastElementChild.appendChild((e.name = document.createElement('tr')))\r\n    e.name.appendChild(document.createElement('th'))\r\n    e.name.firstElementChild.innerText = 'Name'\r\n    e.name.appendChild(document.createElement('td'))\r\n\r\n    e.body.lastElementChild.appendChild((e.type = document.createElement('tr')))\r\n    e.type.appendChild(document.createElement('th'))\r\n    e.type.firstElementChild.innerText = 'Type'\r\n    e.type.appendChild(document.createElement('td'))\r\n\r\n    e.body.appendChild((e.sources = document.createElement('div')))\r\n    e.sources.appendChild(document.createElement('p'))\r\n    e.sources.lastElementChild.innerText = 'Sources'\r\n    e.sources.lastElementChild.className = 'h3'\r\n    e.sources.appendChild(document.createElement('div'))\r\n    e.sources.lastElementChild.className = 'sources-cards'\r\n\r\n    e.body.appendChild((e.references = document.createElement('div')))\r\n    e.references.appendChild(document.createElement('p'))\r\n    e.references.firstElementChild.className = 'h3'\r\n    e.references.firstElementChild.innerText = 'References'\r\n    e.references.appendChild((e = document.createElement('ul')))\r\n    e.className = 'reference-list'\r\n\r\n    e = page.modal.info\r\n    e.body.appendChild((e.origin = document.createElement('div')))\r\n    e.origin.appendChild(document.createElement('p'))\r\n    e.origin.firstElementChild.className = 'h3'\r\n    e.origin.firstElementChild.innerText = 'Origin'\r\n    e.origin.appendChild((e = document.createElement('ul')))\r\n    e.className = 'origin-list'\r\n\r\n    e = page.modal.info\r\n    e.body.appendChild((e.source_file = document.createElement('div')))\r\n    e.source_file.className = 'info-source-file'\r\n    e.source_file.appendChild((e = document.createElement('a')))\r\n    e.innerText = 'source'\r\n    e.target = '_blank'\r\n    e.rel = 'noreferrer'\r\n\r\n    // set up filter's time range\r\n    document.body.appendChild((e = page.modal.filter.e))\r\n    page.modal.filter.init = true\r\n    e.id = 'filter_display'\r\n    e.className = 'modal fade'\r\n    e.setAttribute('aria-labelledby', 'filter_title')\r\n    e.ariaHidden = 'true'\r\n    e.appendChild(document.createElement('div'))\r\n    e.firstElementChild.className = 'modal-dialog'\r\n    e.firstElementChild.appendChild(document.createElement('div'))\r\n    e.firstElementChild.firstElementChild.className = 'modal-content'\r\n    e.firstElementChild.firstElementChild.appendChild((page.modal.filter.header = document.createElement('div')))\r\n    e = page.modal.filter\r\n    e.header.className = 'modal-header'\r\n    e.header.appendChild(document.createElement('p'))\r\n    e.header.firstElementChild.className = 'h5 modal-title'\r\n    e.header.firstElementChild.id = 'filter_title'\r\n    e.header.firstElementChild.innerText = 'Filter'\r\n    e.header.appendChild(document.createElement('button'))\r\n    e.header.lastElementChild.type = 'button'\r\n    e.header.lastElementChild.className = 'btn-close'\r\n    e.header.lastElementChild.setAttribute('data-bs-dismiss', 'modal')\r\n    e.header.lastElementChild.title = 'close'\r\n    e.header.insertAdjacentElement('afterEnd', (e.body = document.createElement('div')))\r\n    e.body.className = 'modal-body'\r\n    e.body.appendChild(document.createElement('p'))\r\n    e.body.lastElementChild.className = 'h6'\r\n    e.body.lastElementChild.innerText = 'Time Range'\r\n\r\n    e.body.appendChild((e.time_range = document.createElement('div')))\r\n    e.time_range.className = 'row'\r\n\r\n    e.time_range.appendChild(document.createElement('div'))\r\n    e.time_range.lastElementChild.className = 'col'\r\n    e.time_range.lastElementChild.appendChild((ee = document.createElement('div')))\r\n    ee.className = 'form-floating text-wrapper wrapper'\r\n    ee.appendChild(document.createElement('input'))\r\n    ee.lastElementChild.className = 'form-control auto-input'\r\n    ee.lastElementChild.setAttribute('data-autoType', 'number')\r\n    ee.lastElementChild.setAttribute('data-default', 'min')\r\n    ee.lastElementChild.max = 'filter.time_max'\r\n    ee.lastElementChild.type = 'number'\r\n    ee.lastElementChild.autoType = 'number'\r\n    ee.lastElementChild.id = 'filter.time_min'\r\n    ee.appendChild(document.createElement('label'))\r\n    ee.lastElementChild.innerText = 'First Time'\r\n    ee.lastElementChild.setAttribute('for', 'filter.time_min')\r\n    e.time_range.appendChild(document.createElement('div'))\r\n    e.time_range.lastElementChild.className = 'col'\r\n    e.time_range.lastElementChild.appendChild((ee = document.createElement('div')))\r\n    ee.className = 'form-floating text-wrapper wrapper'\r\n    ee.appendChild(document.createElement('input'))\r\n    ee.lastElementChild.className = 'form-control auto-input'\r\n    ee.lastElementChild.setAttribute('data-autoType', 'number')\r\n    ee.lastElementChild.setAttribute('data-default', 'max')\r\n    ee.lastElementChild.min = 'filter.time_min'\r\n    ee.lastElementChild.type = 'number'\r\n    ee.lastElementChild.autoType = 'number'\r\n    ee.lastElementChild.id = 'filter.time_max'\r\n    ee.appendChild(document.createElement('label'))\r\n    ee.lastElementChild.innerText = 'Last Time'\r\n    ee.lastElementChild.setAttribute('for', 'filter.time_max')\r\n\r\n    page.panels.length &&\r\n      page.panels.forEach(p => {\r\n        const side = p.classList.contains('panel-left') ? 'left' : 'right'\r\n        page.content_bounds[side] = p.getBoundingClientRect().width\r\n        p.style.marginTop = page.content_bounds.top + 'px'\r\n        p.lastElementChild.addEventListener(\r\n          'click',\r\n          function () {\r\n            const w = p.getBoundingClientRect().width,\r\n              bw = p.lastElementChild.getBoundingClientRect().width\r\n            if ('true' === p.lastElementChild.getAttribute('aria-expanded')) {\r\n              page.content_bounds[side] = bw\r\n              if (page.top_menu) page.top_menu.style[side] = bw + 'px'\r\n              if (page.bottom_menu) page.bottom_menu.style[side] = bw + 'px'\r\n              p.style[side] = -w + bw + 'px'\r\n              p.lastElementChild.setAttribute('aria-expanded', 'false')\r\n            } else {\r\n              page.content_bounds[side] = w\r\n              if (page.top_menu) page.top_menu.style[side] = w + 'px'\r\n              if (page.bottom_menu) page.bottom_menu.style[side] = w + 'px'\r\n              p.style[side] = '0px'\r\n              p.lastElementChild.setAttribute('aria-expanded', 'true')\r\n            }\r\n            content_resize()\r\n            setTimeout(trigger_resize, 200)\r\n          }.bind(p)\r\n        )\r\n      })\r\n    page.menus.length &&\r\n      page.menus.forEach(m => {\r\n        const has_toggler = m.lastElementChild.tagName === 'BUTTON'\r\n        m.state = m.getAttribute('data-state')\r\n        if (m.classList.contains('menu-top')) {\r\n          page.top_menu = m\r\n          page.top_menu.style.left = page.content_bounds.left + 'px'\r\n          page.top_menu.style.right = page.content_bounds.right + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'top'))\r\n            m.lastElementChild.style.top = page.content_bounds.top + 'px'\r\n          }\r\n        } else if (m.classList.contains('menu-right')) {\r\n          page.right_menu = m\r\n          page.right_menu.style.right = page.content_bounds.right + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'right'))\r\n            m.lastElementChild.style.top = page.content_bounds.top + 'px'\r\n          }\r\n        } else if (m.classList.contains('menu-bottom')) {\r\n          page.bottom_menu = m\r\n          page.content_bounds.bottom = 40\r\n          page.bottom_menu.style.left = page.content_bounds.left + 'px'\r\n          page.bottom_menu.style.right = page.content_bounds.right + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'bottom'))\r\n          }\r\n        } else if (m.classList.contains('menu-left')) {\r\n          page.left_menu = m\r\n          page.left_menu.style.left = page.content_bounds.left + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'left'))\r\n            m.lastElementChild.style.top = page.content_bounds.top + 'px'\r\n          }\r\n        }\r\n        if (site.url_options.close_menus && 'open' === m.state) m.lastElementChild.click()\r\n      })\r\n\r\n    // initialize global tooltip\r\n    page.tooltip = {\r\n      e: document.createElement('div'),\r\n      showing: '',\r\n    }\r\n    page.tooltip.e.className = 'tooltip hidden'\r\n    page.tooltip.e.appendChild(document.createElement('p'))\r\n    document.body.appendChild(page.tooltip.e)\r\n    document.body.addEventListener('mouseover', tooltip_clear)\r\n\r\n    // initialize tutorial selection dialog\r\n    if (site.tutorials) {\r\n      page.tutorials = new TutorialManager(site.tutorials, _u, global_reset)\r\n      page.overlay.appendChild(page.tutorials.container)\r\n    }\r\n\r\n    // initialize inputs\r\n    if (site.dataviews) {\r\n      for (const k in site.dataviews)\r\n        if (k in site.dataviews) {\r\n          defaults.dataview = k\r\n          break\r\n        }\r\n    } else {\r\n      site.dataviews = {}\r\n      site.dataviews[defaults.dataview] = {}\r\n    }\r\n    document.querySelectorAll('.auto-input').forEach(elements.init_input)\r\n\r\n    // initialize variables\r\n    if (site.variables && site.variables.length) {\r\n      site.variables.forEach(v => {\r\n        const k = v.id,\r\n          u = {\r\n            id: k,\r\n            type: 'virtual',\r\n            source: v.default,\r\n            previous: void 0,\r\n            default: v.default,\r\n            display: v.display,\r\n            current_index: -1,\r\n            values: [],\r\n            states: v.states,\r\n            update: function () {\r\n              this.source = void 0\r\n              for (let p, i = this.states.length; i--; ) {\r\n                p = true\r\n                for (let c = this.states[i].condition.length; c--; ) {\r\n                  const r = this.states[i].condition[c]\r\n                  if (DataHandler.checks[r.type](valueOf(r.id), valueOf(r.value))) {\r\n                    if (r.any) {\r\n                      p = true\r\n                      break\r\n                    }\r\n                  } else p = false\r\n                }\r\n                if (p) {\r\n                  this.source = this.states[i].value\r\n                  break\r\n                }\r\n              }\r\n              if (!this.source) this.source = this.default\r\n              if (this.source !== this.previous) {\r\n                this.previous = this.source\r\n                request_queue(this.id)\r\n              } else if (this.source in _u) {\r\n                const r = _u[this.source].value()\r\n                if (r !== this.previous) {\r\n                  this.previous = r\r\n                  request_queue(this.id)\r\n                }\r\n              }\r\n            },\r\n            value: function () {\r\n              return valueOf(this.source)\r\n            },\r\n            set: function (v) {\r\n              if (-1 !== this.values.indexOf(v)) {\r\n                this.previous = this.source\r\n                this.source = v\r\n              } else if (this.source) {\r\n                const c = _u[this.source]\r\n                if (\r\n                  'select' === c.type || 'combobox' === c.type\r\n                    ? v in c.values || v in c.display\r\n                    : -1 !== c.values.indexOf(v)\r\n                ) {\r\n                  c.set(v)\r\n                }\r\n              }\r\n              request_queue(this.id)\r\n            },\r\n          }\r\n        _u[k] = u\r\n        if (u.source) u.values.push(u.source)\r\n        const p = {}\r\n        u.states.forEach(si => {\r\n          u.values.push(si.value)\r\n          si.condition.forEach(c => {\r\n            p[c.id] = {type: 'update', id: k}\r\n            add_dependency(c.id, {type: 'update', id: k})\r\n          })\r\n        })\r\n        u.values.forEach(id => {\r\n          if (id in _u) add_dependency(id, {type: 'update', id: k})\r\n        })\r\n      })\r\n    }\r\n\r\n    // initialize rules\r\n    if (site.rules && site.rules.length) {\r\n      site.rules.forEach((r, i) => {\r\n        if ('display' in r.effects) {\r\n          r.effects.display = {e: document.getElementById(r.effects.display)}\r\n          e = r.effects.display.e.querySelector('.auto-input')\r\n          if (e) {\r\n            const u = _u[e.id]\r\n            u.rule = r\r\n            r.effects.display.u = u\r\n          }\r\n        }\r\n        if ('lock' in r.effects) {\r\n          const us = new Map()\r\n          document.querySelectorAll('#' + r.effects.lock + ' .auto-input').forEach(e => us.set(e.id, _u[e.id]))\r\n          r.effects.lock = us\r\n        }\r\n        r.condition.forEach(c => {\r\n          if (c.type in DataHandler.checks) {\r\n            c.check = function () {\r\n              return DataHandler.checks[this.type](valueOf(this.id), valueOf(this.value))\r\n            }.bind(c)\r\n            if (c.id in _u) {\r\n              add_dependency(c.id, {type: 'rule', id: c.id, condition: c, rule: i})\r\n              if (!(c.id in rule_conditions)) rule_conditions[c.id] = {}\r\n              rule_conditions[c.id][i] = r\r\n            }\r\n            if (c.check()) {\r\n              Object.keys(r.effects).forEach(k => {\r\n                if (k in _u) _u[k].set(valueOf(r.effects[k]))\r\n              })\r\n            } else if (c.default) {\r\n              Object.keys(r.effects).forEach(k => {\r\n                if (k in _u) _u[k].set(valueOf(c.default))\r\n              })\r\n            }\r\n          }\r\n        })\r\n      })\r\n    }\r\n\r\n    keys._u = Object.keys(_u)\r\n    window.addEventListener('resize', content_resize)\r\n\r\n    if (!site.metadata.datasets) drop_load_screen()\r\n\r\n    if (!site.dataviews[defaults.dataview].dataset) {\r\n      if (1 === site.metadata.datasets.length) {\r\n        defaults.dataset = site.metadata.datasets[0]\r\n      } else if (site.data) {\r\n        const info = site.data.info\r\n        for (let i = keys._u.length; i--; ) {\r\n          const u = _u[keys._u[i]]\r\n          if (u.dataset in info) {\r\n            defaults.dataset = u.dataset\r\n            break\r\n          } else if (u.default in info) {\r\n            defaults.dataset = u.default\r\n            break\r\n          } else if ('select' === u.type && u.options[u.default] && u.options[u.default].value in info) {\r\n            defaults.dataset = u.options[u.default].value\r\n            break\r\n          } else if (Array.isArray(u.values) && u.values[u.default] && u.values[u.default] in info) {\r\n            defaults.dataset = u.values[u.default]\r\n            break\r\n          }\r\n        }\r\n        if (!defaults.dataset) defaults.dataset = site.metadata.datasets[site.metadata.datasets.length - 1]\r\n      }\r\n      keys._u.forEach(k => {\r\n        const u = _u[k]\r\n        if (!u.dataset) u.dataset = defaults.dataset\r\n      })\r\n      site.dataviews[defaults.dataview].dataset = defaults.dataset\r\n    }\r\n    if ('undefined' === typeof DataHandler) {\r\n      site.data = {}\r\n    } else {\r\n      defaults.dataset = valueOf(site.dataviews[defaults.dataview].dataset)\r\n      if ('number' === typeof defaults.dataset) defaults.dataset = site.metadata.datasets[defaults.dataset]\r\n      site.data = new DataHandler(site, defaults, site.data, {\r\n        init: init,\r\n        onload: function () {\r\n          if (site.data.inited) clearTimeout(site.data.inited.load_screen)\r\n          setTimeout(drop_load_screen, 600)\r\n          delete this.onload\r\n        },\r\n        data_load: function () {\r\n          Object.keys(_c).forEach(request_queue)\r\n        },\r\n      })\r\n    }\r\n\r\n    if (page.load_screen && site.data.inited) {\r\n      site.data.inited.load_screen = setTimeout(drop_load_screen, 3000)\r\n    } else {\r\n      page.wrap.style.visibility = 'visible'\r\n    }\r\n  }\r\n\r\n  function drop_load_screen() {\r\n    if (!site.data || site.data.inited) clearTimeout(site.data.inited.load_screen)\r\n    page.wrap.style.visibility = 'visible'\r\n    page.load_screen.style.display = 'none'\r\n    if (site.tutorials && 'tutorial' in site.url_options) {\r\n      setTimeout(\r\n        page.tutorials.start_tutorial.bind(page.tutorials, {target: {dataset: {name: site.url_options.tutorial}}}),\r\n        0\r\n      )\r\n    }\r\n  }\r\n\r\n  function clear_storage() {\r\n    if (window.localStorage) storage.perm.removeItem(storage.name)\r\n    window.location.reload()\r\n  }\r\n\r\n  function content_resize(e, full) {\r\n    const f = page[full ? 'wrap' : 'content']\r\n    if (!full) {\r\n      f.style.top =\r\n        (page.top_menu && 'open' === page.top_menu.state\r\n          ? page.top_menu.getBoundingClientRect().height\r\n          : page.content_bounds.top +\r\n            ((!page.top_menu && !page.left_menu && !page.right_menu) ||\r\n            (page.right_menu && 'open' === page.right_menu.state) ||\r\n            (page.left_menu && 'open' === page.left_menu.state)\r\n              ? 0\r\n              : 40)) + 'px'\r\n      f.style.bottom =\r\n        page.content_bounds.bottom +\r\n        (!page.bottom_menu || 'closed' === page.bottom_menu.state\r\n          ? 0\r\n          : page.bottom_menu.getBoundingClientRect().height) +\r\n        'px'\r\n      f.style.left =\r\n        page.content_bounds.left +\r\n        (!page.left_menu || 'closed' === page.left_menu.state ? 0 : page.left_menu.getBoundingClientRect().width) +\r\n        'px'\r\n    }\r\n    f.style.right =\r\n      page.content_bounds[full ? 'outer_right' : 'right'] +\r\n      (!page.right_menu || 'closed' === page.right_menu.state ? 0 : page.right_menu.getBoundingClientRect().width) +\r\n      'px'\r\n  }\r\n\r\n  function trigger_resize() {\r\n    'undefined' === typeof module && window.dispatchEvent(new Event('resize'))\r\n  }\r\n\r\n  function get_options_url() {\r\n    let s = ''\r\n    keys._u.forEach(k => {\r\n      const u = _u[k]\r\n      if (u.input && !patterns.settings.test(k)) {\r\n        if (!u.range || u.range[0] !== u.range[1]) {\r\n          let v = u.value()\r\n          if ('off_default' in u ? u.off_default : v !== u.default) {\r\n            if (Array.isArray(v)) v = v.join(',')\r\n            if ('' !== v && null != v && '-1' != v) s += (s ? '&' : '?') + k + '=' + v\r\n          }\r\n        }\r\n      }\r\n    })\r\n    if (site.data && _u._base_filter.c.size) s += (s ? '&' : '?') + _u._base_filter.value([])\r\n    return window.location.protocol + '//' + window.location.host + window.location.pathname + s\r\n  }\r\n\r\n  function init() {\r\n    if (site.data.variables) {\r\n      defaults.variable = Object.keys(site.data.variables)\r\n      defaults.variable = defaults.variable[defaults.variable.length - 1]\r\n    }\r\n    if (!site.map) site.map = {}\r\n    if (!site.map._overlay_property_selectors) site.map._overlay_property_selectors = []\r\n    // initialize inputs\r\n    keys._u.forEach(async k => {\r\n      if (_u[k].type in elements) {\r\n        const o = _u[k],\r\n          combobox = 'combobox' === o.type\r\n        if (o.optionSource) {\r\n          if (patterns.palette.test(o.optionSource)) {\r\n            o.options = []\r\n            Object.keys(palettes).forEach(v => o.options.push(o.add(v, palettes[v].name)))\r\n            if (-1 === o.default) o.default = defaults.palette\r\n          } else if (patterns.datasets.test(o.optionSource)) {\r\n            if (-1 === o.default) o.default = defaults.dataset\r\n            o.options = []\r\n            site.metadata.datasets.forEach(d => o.options.push(o.add(d)))\r\n          } else {\r\n            o.sensitive = false\r\n            o.option_sets = {}\r\n            if (patterns.properties.test(o.optionSource)) {\r\n              site.map._overlay_property_selectors.push(o)\r\n            }\r\n            if (o.depends) add_dependency(o.depends, {type: 'options', id: o.id})\r\n            if (o.dataset in _u) add_dependency(o.dataset, {type: 'options', id: o.id})\r\n            if (o.view) add_dependency(o.view, {type: 'options', id: o.id})\r\n            const v = valueOf(o.dataset) || defaults.dataset\r\n            if (!o.dataset) o.dataset = v\r\n            if (v in site.data.info) conditionals.options(o)\r\n          }\r\n        }\r\n        if (combobox || 'select' === o.type) {\r\n          // resolve options\r\n          o.set_current = conditionals.set_current.bind(o)\r\n          if (Array.isArray(o.values)) {\r\n            o.values = {}\r\n            o.display = {}\r\n            let new_display = true\r\n            const select = 'select' === o.type\r\n            o.options.forEach(e => {\r\n              if (select) e.dataset.value = e.value\r\n              if (new_display) new_display = e.dataset.value === e.innerText\r\n            })\r\n            o.options.forEach((e, i) => {\r\n              o.values[e.dataset.value] = i\r\n              if (new_display) e.innerText = site.data.format_label(e.dataset.value)\r\n              o.display[e.innerText] = i\r\n            })\r\n            if (!(o.default in o.values) && !(o.default in _u)) {\r\n              o.default = Number(o.default)\r\n              if (isNaN(o.default)) o.default = -1\r\n              if (-1 !== o.default && o.default < o.options.length) {\r\n                o.default = o.options[o.default].dataset.value\r\n              } else {\r\n                o.default = -1\r\n              }\r\n            }\r\n            o.source = ''\r\n            o.id in site.url_options ? o.set(site.url_options[o.id]) : o.reset()\r\n          }\r\n          o.subset = o.e.getAttribute('data-subset') || 'all'\r\n          o.selection_subset = o.e.getAttribute('data-selectionSubset') || o.subset\r\n          if (o.type in site && o.id in site[o.type]) {\r\n            o.settings = site[o.type][o.id]\r\n            if (o.settings.filters) {\r\n              o.filters = o.settings.filters\r\n              o.current_filter = {}\r\n              Object.keys(o.filters).forEach(f => {\r\n                add_dependency(o.filters[f], {type: 'filter', id: o.id})\r\n              })\r\n              o.filter = function () {\r\n                Object.keys(this.filters).forEach(f => {\r\n                  this.current_filter[f] = valueOf(this.filters[f])\r\n                })\r\n                let first\r\n                Object.keys(this.values).forEach((v, i) => {\r\n                  let pass = false\r\n                  if (v in site.data.variables && 'meta' in site.data.variables[v]) {\r\n                    for (const k in this.current_filter)\r\n                      if (k in site.data.variables[v].meta) {\r\n                        pass = site.data.variables[v].meta[k] === this.current_filter[k]\r\n                        if (!pass) break\r\n                      }\r\n                  }\r\n                  if (pass && !first) first = v\r\n                  this.options[i].classList[pass ? 'remove' : 'add']('hidden')\r\n                })\r\n                this.current_index = this.values[this.value()]\r\n                if (\r\n                  first &&\r\n                  (-1 === this.current_index || this.options[this.current_index].classList.contains('hidden'))\r\n                ) {\r\n                  this.set(first)\r\n                }\r\n              }.bind(o)\r\n            }\r\n          }\r\n        } else if ('number' === o.type) {\r\n          // retrieve option values\r\n          o.min = o.e.getAttribute('min')\r\n          o.min_ref = parseFloat(o.min)\r\n          o.min_indicator = o.e.parentElement.parentElement.querySelector('.indicator-min')\r\n          if (o.min_indicator) {\r\n            o.min_indicator.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(this.parsed.min)\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.max = o.e.getAttribute('max')\r\n          o.max_ref = parseFloat(o.max)\r\n          o.max_indicator = o.e.parentElement.parentElement.querySelector('.indicator-max')\r\n          if (o.max_indicator) {\r\n            o.max_indicator.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(this.parsed.max)\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.ref = isNaN(o.min_ref) || isNaN(o.max_ref)\r\n          o.range = [o.min_ref, o.max_ref]\r\n          o.step = parseFloat(o.e.step) || 1\r\n          o.parsed = {min: undefined, max: undefined}\r\n          o.depends = {}\r\n          o.default_max = 'max' === o.default || 'last' === o.default\r\n          o.default_min = 'min' === o.default || 'first' === o.default\r\n          o.update = async function () {\r\n            const view = _u[this.view],\r\n              variable = valueOf(this.variable || view.y)\r\n            if (!view.time_range) view.time_range = {time: []}\r\n            let d = view.get ? view.get.dataset() : valueOf(this.dataset),\r\n              min = valueOf(this.min) || view.time,\r\n              max = valueOf(this.max) || view.time\r\n            if (patterns.minmax.test(min)) min = _u[this.min][min]\r\n            if (patterns.minmax.test(max)) max = _u[this.max][max]\r\n            this.parsed.min = isNaN(this.min_ref)\r\n              ? 'undefined' === typeof min\r\n                ? view.time_range.time[0]\r\n                : 'number' === typeof min\r\n                ? min\r\n                : min in site.data.variables\r\n                ? site.data.variables[min].info[d || site.data.variables[min].datasets[0]].min\r\n                : parseFloat(min)\r\n              : this.min_ref\r\n            this.parsed.max = isNaN(this.max_ref)\r\n              ? 'undefined' === typeof max\r\n                ? view.time_range.time[1]\r\n                : 'number' === typeof max\r\n                ? max\r\n                : max in site.data.variables\r\n                ? site.data.variables[max].info[d || site.data.variables[max].datasets[0]].max\r\n                : parseFloat(max)\r\n              : this.min_ref\r\n            if (this.default_min) {\r\n              this.current_default = this.parsed.min\r\n            } else if (this.default_max) {\r\n              this.current_default = this.parsed.max\r\n            }\r\n            if (this.ref && variable in site.data.variables) {\r\n              this.range[0] = this.e.min = isNaN(this.min_ref)\r\n                ? Math.max(view.time_range.time[0], this.parsed.min)\r\n                : this.min_ref\r\n              this.range[1] = this.e.max = isNaN(this.max_ref)\r\n                ? Math.min(view.time_range.time[1], this.parsed.max)\r\n                : this.max_ref\r\n              if (!this.depends[view.y]) {\r\n                this.depends[view.y] = true\r\n                add_dependency(view.y, {type: 'update', id: this.id})\r\n              }\r\n              if (this.source > this.parsed.max || this.source < this.parsed.min) this.reset()\r\n              this.variable = await site.data.get_variable(variable, this.view)\r\n            } else {\r\n              this.e.min = this.parsed.min\r\n              if (this.parsed.min > this.source || (!this.source && this.default_min)) this.set(this.parsed.min)\r\n              this.e.max = this.parsed.max\r\n              if (this.parsed.max < this.source || (!this.source && this.default_max)) this.set(this.parsed.max)\r\n            }\r\n          }.bind(o)\r\n          if (o.view) add_dependency(o.view, {type: 'update', id: o.id})\r\n          if (!(o.max in site.data.variables)) {\r\n            if (o.max in _u) {\r\n              add_dependency(o.max, {type: 'max', id: o.id})\r\n            } else o.e.max = parseFloat(o.max)\r\n          } else if (o.view) {\r\n            add_dependency(o.view + '_time', {type: 'max', id: o.id})\r\n          }\r\n          if (!(o.min in site.data.variables)) {\r\n            if (o.min in _u) {\r\n              add_dependency(o.min, {type: 'min', id: o.id})\r\n            } else o.e.min = parseFloat(o.min)\r\n          } else if (o.view) {\r\n            add_dependency(o.view + '_time', {type: 'min', id: o.id})\r\n          }\r\n          if ('undefined' !== typeof o.default) {\r\n            if (patterns.number.test(o.default)) {\r\n              o.default = Number(o.default)\r\n            } else\r\n              o.reset = o.default_max\r\n                ? function () {\r\n                    if (this.range) {\r\n                      this.current_default = valueOf(this.range[1])\r\n                      this.set(this.current_default)\r\n                    }\r\n                  }.bind(o)\r\n                : o.default_max\r\n                ? function () {\r\n                    if (this.range) {\r\n                      this.current_default = valueOf(this.range[0])\r\n                      this.set(this.current_default)\r\n                    }\r\n                  }.bind(o)\r\n                : this.default in _u\r\n                ? function () {\r\n                    this.current_default = valueOf(this.default)\r\n                    this.set(this.current_default)\r\n                  }.bind(o)\r\n                : function () {}\r\n          }\r\n          if (o.variable) {\r\n            const d = -1 === site.metadata.datasets.indexOf(o.dataset) ? defaults.dataset : o.dataset\r\n            if (o.variable in _u) {\r\n              add_dependency(o.variable, {type: 'update', id: o.id})\r\n            } else if (o.variable in site.data.variables) {\r\n              o.e.min = o.min = o.parsed.min = o.range[0] = site.data.variables[o.variable].info[d].min\r\n              o.e.max = o.max = o.parsed.max = o.range[1] = site.data.variables[o.variable].info[d].max\r\n            }\r\n          }\r\n        } else if ('checkbox' === o.type) {\r\n          o.source = []\r\n          o.current_index = []\r\n          o.default = o.default.split(',')\r\n        }\r\n        if (Array.isArray(o.values)) {\r\n          if (!o.values.length) {\r\n            o.values = []\r\n            if (o.options.length) o.options.forEach(e => o.values.push(e.value || e.dataset.value))\r\n          }\r\n          if (o.values.length && !(o.default in _u) && -1 === o.values.indexOf(o.default)) {\r\n            o.default = parseInt(o.default)\r\n            o.default = o.values.length > o.default ? o.values[o.default] : ''\r\n          }\r\n        }\r\n\r\n        // add listeners\r\n        if (combobox || 'select' === o.type || 'number' === o.type || 'intext' === o.type) {\r\n          o.e.addEventListener('change', o.listen)\r\n          if (\r\n            o.e.parentElement.lastElementChild &&\r\n            o.e.parentElement.lastElementChild.classList.contains('select-reset')\r\n          ) {\r\n            o.e.parentElement.lastElementChild.addEventListener('click', o.reset)\r\n          }\r\n        } else if ('switch' === o.type) {\r\n          if ('boolean' !== typeof o.default) o.default = o.e.checked\r\n          o.e.addEventListener('change', o.listen)\r\n        } else if (o.listen) {\r\n          o.options.forEach(oi => oi.addEventListener('click', o.listen))\r\n        }\r\n        // initialize settings inputs\r\n        if (patterns.settings.test(o.id)) {\r\n          o.setting = o.id.replace(patterns.settings, '')\r\n          if (null == o.default && o.setting in site.settings) o.default = site.settings[o.setting]\r\n          add_dependency(o.id, {type: 'setting', id: o.id})\r\n        }\r\n        if (!o.view) o.view = defaults.dataview\r\n        const v = site.url_options[o.id] || storage.get(o.id.replace(patterns.settings, ''))\r\n        if (v) {\r\n          o.set(patterns.bool.test(v) ? !!v || 'true' === v : v)\r\n        } else o.reset && o.reset()\r\n      }\r\n    })\r\n    // initialize dataviews\r\n    Object.keys(site.dataviews).forEach(k => {\r\n      const e = site.dataviews[k]\r\n      _u[k] = e\r\n      e.id = k\r\n      e.value = function () {\r\n        if (this.get) {\r\n          this.reparse()\r\n          return (\r\n            '' +\r\n            this.parsed.dataset +\r\n            _u._entity_filter.entities.size +\r\n            site.data.inited[this.parsed.dataset] +\r\n            this.parsed.id_source +\r\n            Object.keys(this.parsed.ids) +\r\n            this.parsed.features +\r\n            this.parsed.variables +\r\n            this.parsed.palette +\r\n            site.settings.summary_selection\r\n          )\r\n        }\r\n      }.bind(e)\r\n      if ('string' === typeof e.palette && e.palette in _u) {\r\n        add_dependency(e.palette, {type: 'dataview', id: k})\r\n      }\r\n      if ('string' === typeof e.dataset && e.dataset in _u) {\r\n        add_dependency(e.dataset, {type: 'dataview', id: k})\r\n      }\r\n      if ('string' === typeof e.ids && e.ids in _u) {\r\n        add_dependency(e.ids, {type: 'dataview', id: k})\r\n      }\r\n      e.time_range = {dataset: '', variable: '', index: [], time: [], filtered: []}\r\n      add_dependency(k, {type: 'time_range', id: k})\r\n      add_dependency('_base_filter', {type: 'dataview', id: k})\r\n      add_dependency('_entity_filter', {type: 'dataview', id: k})\r\n      if (e.x in _u) add_dependency(e.x, {type: 'time_range', id: k})\r\n      if (e.y in _u) add_dependency(e.y, {type: 'time_range', id: k})\r\n      if (e.features)\r\n        Object.keys(e.features).forEach(f => {\r\n          if ('string' === typeof e.features[f] && e.features[f] in _u) {\r\n            add_dependency(e.features[f], {type: 'dataview', id: k})\r\n          }\r\n        })\r\n      if (e.variables)\r\n        e.variables.forEach(v => {\r\n          if ('variable' in v) {\r\n            if (v.variable in _u) {\r\n              add_dependency(v.variable, {type: 'dataview', id: k})\r\n            }\r\n          } else e.variables.splice(i, 1)\r\n          if ('type' in v) {\r\n            if (v.type in _u) {\r\n              add_dependency(v.type, {type: 'dataview', id: k})\r\n            }\r\n          } else v.type = '='\r\n          if ('value' in v) {\r\n            if (v.value in _u) {\r\n              add_dependency(v.value, {type: 'dataview', id: k})\r\n            }\r\n          } else v.value = 0\r\n        })\r\n      compile_dataview(e)\r\n      conditionals.dataview(e)\r\n      e.reparse()\r\n    })\r\n    // initialize outputs\r\n    document.querySelectorAll('.auto-output').forEach(elements.init_output)\r\n\r\n    // make filter popup\r\n    e = page.modal.filter\r\n    e.body.className = 'filter-dialog'\r\n\r\n    // // entity filter\r\n    e.body.appendChild((e.entity_filters = document.createElement('div')))\r\n    e.entity_filters.appendChild(document.createElement('p'))\r\n    e.entity_filters.lastElementChild.className = 'h6'\r\n    e.entity_filters.lastElementChild.innerText = 'Select Entities'\r\n    e.entity_filters.lastElementChild.appendChild(document.createElement('span'))\r\n    e.entity_filters.lastElementChild.lastElementChild.className = 'note'\r\n    e.entity_filters.lastElementChild.lastElementChild.innerText = '(click disabled selectors to load)'\r\n    e.entity_filters.appendChild(document.createElement('div'))\r\n    e.entity_filters.lastElementChild.className = 'row'\r\n    e.entity_inputs = {}\r\n    Object.keys(site.data.loaded)\r\n      .reverse()\r\n      .forEach(d => {\r\n        const u = elements.combobox.create(d, void 0, {search: true, multi: true, clearable: true}, 'filter.' + d)\r\n        e.entity_inputs[d] = u\r\n        e.entity_filters.lastElementChild.appendChild(document.createElement('div'))\r\n        e.entity_filters.lastElementChild.lastElementChild.className = 'col-sm'\r\n        e.entity_filters.lastElementChild.lastElementChild.appendChild(u.e.parentElement)\r\n        u.e.parentElement.classList.add('form-floating')\r\n        u.listbox.classList.add('multi')\r\n        u.option_sets = {}\r\n        u.dataset = d\r\n        u.loader = function () {\r\n          site.data.retrieve(this.dataset, site.data.info[this.dataset].site_file)\r\n          this.e.removeEventListener('click', this.loader)\r\n        }.bind(u)\r\n        if (!site.data.loaded[d]) {\r\n          u.e.addEventListener('click', u.loader)\r\n        }\r\n        u.onchange = function () {\r\n          conditionals.id_filter()\r\n          request_queue('_entity_filter')\r\n        }.bind(u)\r\n        u.set_current = conditionals.set_current.bind(u)\r\n        fill_ids_options(\r\n          u,\r\n          d,\r\n          u.option_sets,\r\n          function () {\r\n            this.set_current()\r\n            toggle_input(this, !!this.options.length)\r\n            Object.keys(this.values).forEach(id => {\r\n              _u._entity_filter.entities.set(id, site.data.entities[id])\r\n            })\r\n            _u._entity_filter.registered[d] = true\r\n            this.set(this.id in site.url_options ? site.url_options[this.id].split(',') : -1)\r\n          }.bind(u)\r\n        )\r\n        toggle_input(u, !!u.options.length)\r\n      })\r\n\r\n    // // variable filter\r\n    e.body.appendChild((e.variable_filters = document.createElement('div')))\r\n    e.variable_filters.appendChild(document.createElement('p'))\r\n    e.variable_filters.lastElementChild.className = 'h6'\r\n    e.variable_filters.lastElementChild.innerText = 'Variable Conditions'\r\n\r\n    function add_filter_condition(variable, presets) {\r\n      presets = presets || {}\r\n      const e = document.createElement('tr'),\r\n        f = {\r\n          e,\r\n          variable: variable,\r\n          component: presets.component || 'last',\r\n          operator: presets.operator || '>=',\r\n          value: presets.value || 0,\r\n          active: true,\r\n          id: variable + '_' + Date.now(),\r\n          passed: 0,\r\n          failed: 0,\r\n          info: site.data.variables[variable].info,\r\n          view: _u[defaults.dataview],\r\n        },\r\n        d = f.view.get.dataset(),\r\n        range = f.info[d].time_range,\r\n        times = site.data.meta.overall.value\r\n      _u._base_filter.c.set(f.id, f)\r\n      if (presets.time_component) f.component = String(times[f.component])\r\n\r\n      let ee\r\n      // variable name\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n      ee.id = f.id\r\n      ee.className = 'cell-text'\r\n      ee.innerText = f.info[d].info.short_name\r\n      e.lastElementChild.appendChild(document.createElement('p'))\r\n      f.summary = {\r\n        f,\r\n        update: function () {\r\n          const d = this.f.view.get.dataset(),\r\n            range = this.f.info[d].time_range,\r\n            times = site.data.meta.overall.value\r\n          if (d !== this.add.Dataset) {\r\n            this.add.Dataset = d\r\n            this.add.First = times[range[0]] || 'NA'\r\n            this.add.Last = times[range[1]] || 'NA'\r\n            const s = this.f.info[d]\r\n            for (let i = this.table.firstElementChild.childElementCount; i--; ) {\r\n              const h = this.table.firstElementChild.children[i].innerText,\r\n                n = h.toLowerCase()\r\n              this.table.lastElementChild.children[i].innerText = n in s ? site.data.format_value(s[n]) : this.add[h]\r\n            }\r\n          }\r\n        },\r\n        add: {\r\n          Dataset: d,\r\n          First: times[range[0]] || 'NA',\r\n          Last: times[range[1]] || 'NA',\r\n        },\r\n      }\r\n      f.summary.table = make_summary_table(e.lastElementChild.lastElementChild, f.info[d], f.summary.add)\r\n\r\n      // filter result\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n      ee.setAttribute('aria-describedby', f.id)\r\n      ee.className = 'cell-text'\r\n      ee.innerText = '0/0'\r\n\r\n      // active switch\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n      ee.innerText = 'Active'\r\n      ee.className = 'filter-label'\r\n      ee.id = f.id + '_switch'\r\n      e.lastElementChild.appendChild((ee = document.createElement('div')))\r\n      ee.className = 'form-check form-switch filter-form-input'\r\n      ee.appendChild((ee = document.createElement('input')))\r\n      ee.className = 'form-check-input'\r\n      ee.type = 'checkbox'\r\n      ee.role = 'switch'\r\n      ee.setAttribute('aria-labelledby', f.id + '_switch')\r\n      ee.setAttribute('aria-describedby', f.id)\r\n      ee.checked = true\r\n      ee.addEventListener(\r\n        'change',\r\n        function () {\r\n          f.active = !f.active\r\n          request_queue('_base_filter')\r\n        }.bind(f)\r\n      )\r\n\r\n      // component combobox\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n      ee.innerText = 'Component'\r\n      ee.className = 'filter-label'\r\n      ee.id = f.id + '_component'\r\n      const comp_select = elements.combobox.create('component', filter_components.Time)\r\n      comp_select.default = f.component\r\n      comp_select.set(f.component)\r\n      e.lastElementChild.appendChild(comp_select.e.parentElement)\r\n      comp_select.e.parentElement.removeChild(comp_select.e.parentElement.lastElementChild)\r\n      comp_select.e.parentElement.classList.add('filter-form-input')\r\n      comp_select.e.setAttribute('aria-labelledby', f.id + '_component')\r\n      comp_select.input_element.setAttribute('aria-labelledby', f.id + '_component')\r\n      comp_select.input_element.setAttribute('aria-describedby', f.id)\r\n      comp_select.listbox.setAttribute('aria-labelledby', f.id + '_component')\r\n      comp_select.onchange = function () {\r\n        f.component = this.value()\r\n        request_queue('_base_filter')\r\n      }.bind(comp_select)\r\n\r\n      // operator select\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n      ee.innerText = 'Operator'\r\n      ee.className = 'filter-label'\r\n      ee.id = f.id + '_operator'\r\n      e.lastElementChild.appendChild((ee = document.createElement('select')))\r\n      ee.className = 'form-select filter-form-input'\r\n      ee.setAttribute('aria-labelledby', f.id + '_operator')\r\n      ee.setAttribute('aria-describedby', f.id)\r\n      ee.addEventListener('change', e => {\r\n        f.operator = e.target.selectedOptions[0].value\r\n        request_queue('_base_filter')\r\n      })\r\n      ;['>=', '=', '!=', '<='].forEach(k => {\r\n        ee.appendChild(document.createElement('option'))\r\n        ee.lastElementChild.value = ee.lastElementChild.innerText = k\r\n        if (k === f.operator) ee.lastElementChild.selected = true\r\n      })\r\n\r\n      // value input\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n      ee.innerText = 'Value'\r\n      ee.className = 'filter-label'\r\n      ee.id = f.id + '_value'\r\n      const value_select = elements.combobox.create('component', ['min', 'q1', 'median', 'mean', 'q3', 'max'])\r\n      value_select.value_type = 'number'\r\n      value_select.default = f.value\r\n      value_select.set(f.value)\r\n      e.lastElementChild.appendChild(value_select.e.parentElement)\r\n      value_select.e.parentElement.removeChild(value_select.e.parentElement.lastElementChild)\r\n      value_select.e.parentElement.classList.add('filter-form-input')\r\n      value_select.e.setAttribute('aria-labelledby', f.id + '_value')\r\n      value_select.input_element.setAttribute('aria-labelledby', f.id + '_value')\r\n      value_select.input_element.setAttribute('aria-describedby', f.id)\r\n      value_select.listbox.setAttribute('aria-labelledby', f.id + '_value')\r\n      value_select.onchange = async function (f) {\r\n        f.value = this.value()\r\n        if (patterns.number.test(f.value)) {\r\n          f.value = Number(f.value)\r\n          f.value_source = ''\r\n        } else {\r\n          f.view.reparse()\r\n          const v = await site.data.get_variable(f.variable, f.view.id),\r\n            s = v && v.views[f.view.id].summaries[f.view.parsed.dataset]\r\n          if (s && f.value in s) {\r\n            const a = f.view.parsed.variable_values.get(f.id)\r\n            f.value_source = f.value\r\n            f.value = s[f.value][a.comp_fun(a, f.view.parsed)]\r\n          }\r\n        }\r\n        request_queue('_base_filter')\r\n      }.bind(value_select, f)\r\n\r\n      // remove button\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n      ee.innerText = 'Remove'\r\n      ee.className = 'filter-label'\r\n      ee.id = f.id + '_remove'\r\n      e.lastElementChild.appendChild((ee = document.createElement('button')))\r\n      ee.className = 'btn-close filter-form-input'\r\n      ee.type = 'button'\r\n      ee.setAttribute('aria-labelledby', f.id + '_remove')\r\n      ee.setAttribute('aria-describedby', f.id)\r\n      ee.addEventListener(\r\n        'mouseup',\r\n        function (e) {\r\n          if (1 === e.which) {\r\n            this.e.parentElement.removeChild(this.e)\r\n            _u._base_filter.c.delete(this.id)\r\n            if (!_u._base_filter.c.size) page.modal.filter.variable_filters.lastElementChild.classList.add('hidden')\r\n            request_queue('_base_filter')\r\n          }\r\n        }.bind(f)\r\n      )\r\n      request_queue('_base_filter')\r\n      page.modal.filter.conditions.lastElementChild.appendChild(e)\r\n      page.modal.filter.variable_filters.lastElementChild.classList.remove('hidden')\r\n    }\r\n\r\n    // variable filter dropdown\r\n    e.variable_filters.appendChild((ee = document.createElement('div')))\r\n    ee.className = 'row'\r\n\r\n    ee.appendChild(document.createElement('div'))\r\n    ee.lastElementChild.className = 'col'\r\n    ee.lastElementChild.appendChild((c = document.createElement('div')))\r\n\r\n    const filter_select = elements.combobox.create(\r\n      'Add Variable Condition',\r\n      void 0,\r\n      {strict: true, search: true, clearable: true, floating: true, accordion: true, group: 'category'},\r\n      'filter_variable_dropdown'\r\n    )\r\n    filter_select.input = false\r\n    filter_select.settings.filter_table = document.querySelector('.filter-body')\r\n    filter_select.onchange = function () {\r\n      const value = this.value()\r\n      if (value in site.data.variables) {\r\n        add_filter_condition(value)\r\n        this.selection.innerText = ''\r\n        const input = document.querySelectorAll('.filter-body .combobox-input')\r\n        if (input && input.length) input[input.length - 1].focus()\r\n      }\r\n    }.bind(filter_select)\r\n    filter_select.view = defaults.dataview\r\n    filter_select.option_sets = {}\r\n    filter_select.optionSource = 'variables'\r\n    add_dependency(defaults.dataview, {type: 'options', id: filter_select.id})\r\n    c.appendChild(filter_select.e.parentElement)\r\n\r\n    // variable filter table\r\n    e.variable_filters.appendChild((ee = document.createElement('div')))\r\n    ee.className = 'hidden'\r\n    ee.appendChild((e.conditions = ee = document.createElement('table')))\r\n    ee.className = 'table'\r\n    ee.appendChild((ee = document.createElement('thead')))\r\n    ee.className = 'filter-header'\r\n    e.conditions.appendChild(document.createElement('tbody'))\r\n    e.conditions.lastElementChild.className = 'filter-body'\r\n    ee.appendChild((ee = document.createElement('tr')))\r\n    ;['Variable', 'Result', 'Active', 'Component', 'Operator', 'Value', 'Remove'].forEach(h => {\r\n      ee.appendChild(document.createElement('th'))\r\n      if ('Component' === h || 'Result' === h) {\r\n        const l =\r\n          'Component' === h\r\n            ? {\r\n                wrapper: document.createElement('label'),\r\n                id: 'filter_component_header',\r\n                note: 'Component refers to which single value to filter on for each entity; select a dynamic time reference, or enter a time.',\r\n              }\r\n            : {\r\n                wrapper: document.createElement('label'),\r\n                id: 'filter_result_header',\r\n                note: 'Passing / total entities across loaded datasets.',\r\n              }\r\n        ee.lastElementChild.appendChild(l.wrapper)\r\n        ee.lastElementChild.className = 'has-note'\r\n        l.wrapper.innerText = h\r\n        l.wrapper.id = l.id\r\n        l.wrapper.setAttribute('data-of', l.id)\r\n        l.wrapper.setAttribute('aria-description', l.note)\r\n        ee.lastElementChild.addEventListener('mouseover', tooltip_trigger.bind(l))\r\n      } else {\r\n        ee.lastElementChild.innerText = h\r\n      }\r\n    })\r\n    e.variable_filters.lastElementChild.appendChild((ee = document.createElement('p')))\r\n    ee.className = 'note'\r\n    ee.innerText = 'Summaries are across time within each unfiltered dataset.'\r\n\r\n    keys._u = Object.keys(_u)\r\n    if (site.query) {\r\n      site.parsed_query = site.data.parse_query(site.query)\r\n      if (site.parsed_query.variables.conditions.length) {\r\n        site.parsed_query.variables.conditions.forEach(f => {\r\n          const info = site.data.variable_info[f.name]\r\n          if (info) add_filter_condition(f.name, f)\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  function gtag() {\r\n    if (site.settings.tracking) window.dataLayer.push(arguments)\r\n  }\r\n\r\n  function valueOf(v) {\r\n    if (v in _u) v = _u[v]\r\n    if (v && v.value) v = valueOf(v.value())\r\n    return v\r\n  }\r\n\r\n  function tooltip_trigger() {\r\n    if (site.settings.hide_tooltips || this.id === page.tooltip.showing) return void 0\r\n    page.tooltip.showing = this.id\r\n    page.tooltip.e.firstElementChild.innerText = this.note\r\n    page.tooltip.e.classList.remove('hidden')\r\n    const p = this.wrapper.getBoundingClientRect(),\r\n      t = page.tooltip.e.getBoundingClientRect()\r\n    page.tooltip.e.style.left = Math.max(0, Math.min(p.x, p.x + p.width / 2 - t.width / 2)) + 'px'\r\n    page.tooltip.e.style.top = p.y + (p.y < t.height ? p.height + 5 : -t.height - 5) + 'px'\r\n  }\r\n\r\n  function tooltip_clear(e) {\r\n    if (\r\n      page.tooltip.showing &&\r\n      ('blur' === e.type || page.tooltip.showing !== (e.target.getAttribute('data-of') || e.target.id))\r\n    ) {\r\n      page.tooltip.showing = ''\r\n      page.tooltip.e.classList.add('hidden')\r\n    }\r\n  }\r\n\r\n  async function retrieve_layer(u, source, callback) {\r\n    const mapId = source.name ? source.name + (source.time || '') : source.url\r\n    if (source.url in site.map._raw) {\r\n      process_layer(source, u)\r\n      site.map._queue[mapId].retrieved = true\r\n      callback && callback()\r\n    } else {\r\n      if (site.map._queue[mapId] && 'retrieved' in site.map._queue[mapId]) {\r\n        if (callback) {\r\n          if (!site.map._queue[mapId].callbacks) site.map._queue[mapId].callbacks = []\r\n          site.map._queue[mapId].callbacks.push(callback)\r\n        }\r\n      } else {\r\n        site.map._queue[mapId].retrieved = false\r\n        const f = new window.XMLHttpRequest()\r\n        f.onreadystatechange = () => {\r\n          if (4 === f.readyState && 200 === f.status) {\r\n            site.map._raw[source.url] = f.responseText\r\n            if (source.name) {\r\n              site.map._queue[mapId].retrieved = true\r\n            }\r\n            if (site.map._queue[mapId].callbacks) {\r\n              if (callback) site.map._queue[mapId].callbacks.push(callback)\r\n              site.map._queue[mapId].callbacks.forEach(f => f())\r\n            } else callback && callback()\r\n          }\r\n        }\r\n        f.open('GET', source.url, true)\r\n        f.send()\r\n      }\r\n    }\r\n  }\r\n\r\n  function process_layer(source, u) {\r\n    let p, id\r\n    const has_time = 'time' in source,\r\n      layerId = source.name + (has_time ? source.time : '')\r\n    site.map[u.id]._layers[layerId] = L.geoJSON(JSON.parse(site.map._raw[source.url]), {\r\n      onEachFeature: (f, l) => {\r\n        l.on({\r\n          mouseover: elements.map.mouseover.bind(u),\r\n          mouseout: elements.map.mouseout.bind(u),\r\n          click: elements.map.click.bind(u),\r\n        })\r\n        l.setStyle({weight: 0, fillOpacity: 0})\r\n        l.source = source\r\n        p = l.feature.properties\r\n        id = p[source.id_property]\r\n        if (!(id in site.data.entities) && patterns.leading_zeros.test(id))\r\n          id = p[source.id_property] = id.replace(patterns.leading_zeros, '')\r\n        if (id in site.data.entities) {\r\n          if (!('layer' in site.data.entities[id])) site.data.entities[id].layer = {}\r\n        } else {\r\n          site.data.entities[id] = {layer: {}, features: {id: id}}\r\n        }\r\n        if (has_time) {\r\n          if (!(u.id in site.data.entities[id].layer)) site.data.entities[id].layer[u.id] = {has_time: true}\r\n          site.data.entities[id].layer[u.id][source.time] = l\r\n        } else site.data.entities[id].layer[u.id] = l\r\n        l.entity = site.data.entities[id]\r\n        if (site.data.entities[id].features)\r\n          Object.keys(p).forEach(f => {\r\n            if (!(f in site.data.entities[id].features)) {\r\n              if (\r\n                'name' === f.toLowerCase() &&\r\n                (!('name' in site.data.entities[id].features) ||\r\n                  site.data.entities[id].features.id === site.data.entities[id].features.name)\r\n              ) {\r\n                site.data.entities[id].features[f.toLowerCase()] = p[f]\r\n              } else {\r\n                site.data.entities[id].features[f] = p[f]\r\n              }\r\n            }\r\n          })\r\n      },\r\n    })\r\n    site.data.inited[layerId + u.id] = true\r\n    if (site.map._waiting && site.map._waiting[source.name]) {\r\n      for (let i = site.map._waiting[source.name].length; i--; ) {\r\n        request_queue(site.map._waiting[source.name][i])\r\n      }\r\n    }\r\n  }\r\n\r\n  function show_overlay(u, o, time) {\r\n    let i = 0,\r\n      source = 'string' === typeof o.source ? o.source : ''\r\n    if (!source && o.source) {\r\n      for (i = o.source.length; i--; ) {\r\n        if (!o.source[i].time || time === o.source[i].time) {\r\n          if (o.source[i].name) delete o.source[i].name\r\n          source = o.source[i].url\r\n          break\r\n        }\r\n      }\r\n    }\r\n    if (source) {\r\n      if (source in site.map._raw) {\r\n        if (!(source in site.map[u.id]._layers)) {\r\n          const s = {}\r\n          if (!site.map._queue[source].processed) {\r\n            site.map._queue[source].property_summaries = s\r\n          }\r\n          site.map[u.id]._layers[source] = L.geoJSON(JSON.parse(site.map._raw[source]), {\r\n            pointToLayer: (point, coords) => L.circleMarker(coords),\r\n            onEachFeature: l => {\r\n              const props = l.properties\r\n              if (props) {\r\n                Object.keys(props).forEach(f => {\r\n                  const v = props[f]\r\n                  if ('number' === typeof v) {\r\n                    if (!(f in s)) s[f] = [Infinity, -Infinity]\r\n                    if (v < s[f][0]) s[f][0] = v\r\n                    if (v > s[f][1]) s[f][1] = v\r\n                  }\r\n                })\r\n              }\r\n            },\r\n          }).on('mouseover', l => {\r\n            const layer = l.layer\r\n            if (layer && !layer._tooltip) {\r\n              const props = layer.feature && layer.feature.properties\r\n              if (props) {\r\n                const e = document.createElement('table')\r\n                Object.keys(props).forEach(f => {\r\n                  const v = props[f],\r\n                    r = document.createElement('tr')\r\n                  r.appendChild(document.createElement('td'))\r\n                  r.appendChild(document.createElement('td'))\r\n                  r.firstElementChild.innerText = f\r\n                  r.lastElementChild.innerText = v\r\n                  e.appendChild(r)\r\n                })\r\n                layer.bindTooltip(e)\r\n                layer.openTooltip()\r\n              }\r\n            }\r\n          })\r\n          Object.keys(s).forEach(f => {\r\n            s[f].push(s[f][1] - s[f][0])\r\n            if (!s[f][2]) delete s[f]\r\n          })\r\n          site.map._overlay_property_selectors.forEach(u => {\r\n            if (!(source in u.option_sets)) {\r\n              fill_overlay_properties_options(u, source, u.option_sets)\r\n              u.dataset = source\r\n              u.variable = ''\r\n            }\r\n          })\r\n        }\r\n        site.map._overlay_property_selectors.forEach(u => {\r\n          u.dataset = source\r\n          conditionals.options(u)\r\n        })\r\n        u.overlay.clearLayers()\r\n        let n = 0\r\n        const summaries = site.settings.circle_property && site.map._queue[source].property_summaries,\r\n          prop_summary = summaries && summaries[site.settings.circle_property]\r\n        site.map[u.id]._layers[source].eachLayer(l => {\r\n          if (o.filter) {\r\n            for (let i = o.filter.length; i--; ) {\r\n              if (!o.filter[i].check(l.feature.properties[o.filter[i].feature], o.filter[i].value)) return\r\n            }\r\n          }\r\n          n++\r\n          l.setRadius(\r\n            prop_summary\r\n              ? ((l.feature.properties[site.settings.circle_property] - prop_summary[0]) / prop_summary[2] + 0.5) *\r\n                  site.settings.circle_radius\r\n              : site.settings.circle_radius\r\n          ).setStyle({\r\n            weight: site.settings.polygon_outline,\r\n            color: 'white',\r\n            opacity: 0.5,\r\n            fillOpacity: 0.5,\r\n            fillColor: 'black',\r\n          })\r\n          l.addTo(u.overlay)\r\n        })\r\n        if (n) u.overlay_control.addTo(u.map)\r\n      } else return retrieve_layer(u, o.source[i], show_overlay.bind(null, u, o, time))\r\n    }\r\n  }\r\n  function component_fun(c) {\r\n    if ('string' === typeof c && patterns.number.test(c)) {\r\n      c = site.data.meta.overall.value.indexOf(Number(c))\r\n      if (-1 === c)\r\n        return function () {\r\n          return NaN\r\n        }\r\n    }\r\n    return 'number' === typeof c\r\n      ? time_funs.number.bind(c)\r\n      : c in time_funs\r\n      ? time_funs[c]\r\n      : function () {\r\n          return NaN\r\n        }\r\n  }\r\n  function compile_dataview(v) {\r\n    v.times = []\r\n    if (v.time_filters) {\r\n      v.time_filters = [\r\n        {variable: defaults.time, type: '>=', value: 'filter.time_min'},\r\n        {variable: defaults.time, type: '<=', value: 'filter.time_max'},\r\n      ]\r\n      add_dependency(v.id + '_time', {type: 'min', id: 'filter.time_min'})\r\n      add_dependency(v.id + '_time', {type: 'max', id: 'filter.time_max'})\r\n      v.time_filters.forEach(f => {\r\n        if (f.value in _u) {\r\n          add_dependency(f.value, {type: 'time_filters', id: v.id})\r\n        }\r\n      })\r\n    }\r\n    v.selection = {ids: {}, features: {}, variables: [], dataset: {}, filtered: {}, full_filter: {}, all: {}}\r\n    v.n_selected = {ids: 0, features: 0, variables: 0, dataset: 0, filtered: 0, full_filter: 0, all: 0}\r\n    v.get = {\r\n      dataset: function () {\r\n        let d = defaults.dataset\r\n        if ('string' === typeof v.dataset && v.dataset in _u) {\r\n          d = valueOf(_u[v.dataset].value())\r\n          if (!(d in site.data.data_queue)) {\r\n            d = defaults.dataset\r\n            _u[v.dataset].set(d)\r\n          }\r\n        } else {\r\n          d = valueOf(v.dataset)\r\n        }\r\n        return d in site.data.data_queue ? d : defaults.dataset\r\n      },\r\n      ids: function (single) {\r\n        const id = valueOf('string' === typeof v.ids && v.ids in _u ? _u[v.ids].value() : v.ids)\r\n        if ('' !== id && -1 != id) {\r\n          if (single) return id\r\n          const ids = {},\r\n            e = site.data.entities[id]\r\n          ids[id] = true\r\n          if (e && e.relations) Object.keys(e.relations.children).forEach(k => (ids[k] = true))\r\n          return ids\r\n        } else if (!single && _u._entity_filter.selected.length) {\r\n          return _u._entity_filter.select_ids\r\n        }\r\n        return false\r\n      },\r\n      features: function () {\r\n        let s = ''\r\n        v.features &&\r\n          Object.keys(v.features).forEach(k => {\r\n            s += k + valueOf(v.features[k])\r\n          })\r\n        return s\r\n      },\r\n      variables: function () {\r\n        if (v.variables || _u._base_filter.c.size) {\r\n          if (!v.parsed.variable_values.size) v.reparse()\r\n          let s = ''\r\n          v.parsed.variable_values.forEach(vi => {\r\n            vi.filter.summary.update()\r\n            s += vi.name + vi.operator + vi.component + vi.value + vi.active\r\n          })\r\n          return s\r\n        } else return ''\r\n      },\r\n      time_filters: function () {\r\n        let s = ''\r\n        v.time_filters &&\r\n          v.time_filters.forEach(f => {\r\n            s += f.value in _u ? valueOf(f.value) : f.value\r\n          })\r\n        return s\r\n      },\r\n    }\r\n    v.ids_check = function (a, b) {\r\n      return !a || b in a\r\n    }\r\n    v.parsed = {\r\n      dataset: '',\r\n      ids: '',\r\n      features: '',\r\n      variables: '',\r\n      time_filters: '',\r\n      time_agg: 0,\r\n      id_source: '',\r\n      palette: '',\r\n      variable_values: new Map(),\r\n      feature_values: {},\r\n    }\r\n    v.reparse = function () {\r\n      this.parsed.dataset = this.get.dataset()\r\n      this.parsed.ids = this.get.ids()\r\n      this.parsed.time_filters = this.get.time_filters()\r\n      this.parsed.time_agg =\r\n        this.parsed.dataset in site.data.meta.times\r\n          ? valueOf(this.time_agg) - site.data.meta.times[this.parsed.dataset].range[0]\r\n          : 0\r\n      if (\r\n        'string' === typeof this.ids &&\r\n        this.ids in _u &&\r\n        (('virtual' === _u[this.ids].type && _u[this.ids].source in _u) ||\r\n          ('depends' in _u[this.ids] && _u[this.ids].depends in _u))\r\n      ) {\r\n        this.parsed.id_source =\r\n          'virtual' === _u[this.ids].type ? valueOf(_u[_u[this.ids].source].dataset) : _u[_u[this.ids].depends].value()\r\n      }\r\n      if (this.palette) this.parsed.palette = valueOf(this.palette)\r\n      if (this.features) {\r\n        this.parsed.feature_values = {}\r\n        for (let k in this.features)\r\n          if (k in this.features) {\r\n            this.parsed.feature_values[k] = {value: valueOf(this.features[k])}\r\n            this.parsed.feature_values[k].operator =\r\n              'string' === typeof this.parsed.feature_values[k].value ? 'equals' : 'includes'\r\n          }\r\n        this.parsed.features = this.get.features()\r\n      } else this.parsed.features = ''\r\n      this.parsed.variable_values.clear()\r\n      if (_u._base_filter.c.size)\r\n        _u._base_filter.c.forEach(f => {\r\n          this.parsed.variable_values.set(f.id, {\r\n            filter: f,\r\n            name: f.variable,\r\n            range: site.data.variables[f.variable].info[this.parsed.dataset].time_range,\r\n            operator: f.operator,\r\n            value: f.value ? Number(f.value) : NaN,\r\n            value_type: 'number',\r\n            component: f.component,\r\n            active: f.active,\r\n            comp_fun: component_fun(f.component),\r\n          })\r\n        })\r\n      if (this.variables || this.parsed.variable_values.size) {\r\n        if (this.variables)\r\n          this.variables.forEach(v => {\r\n            const value = valueOf(v.value)\r\n            this.parsed.variable_values.set(this.parsed.variable_values.size, {\r\n              name: v.variable,\r\n              operator: v.operator,\r\n              value: value,\r\n              component: v.component,\r\n              active: true,\r\n              comp_fun: component_fun(v.component),\r\n            })\r\n          })\r\n        this.parsed.variables = this.get.variables()\r\n      } else this.parsed.variables = ''\r\n    }.bind(v)\r\n    v.checks = {\r\n      dataset: function (e) {\r\n        return this.parsed.dataset === e.group\r\n      }.bind(v),\r\n      ids: function (e) {\r\n        return e.features && this.ids_check(this.parsed.ids, e.features.id)\r\n      }.bind(v),\r\n      features: function (e) {\r\n        if (e.features) {\r\n          let k,\r\n            v,\r\n            pass = true\r\n          for (k in this.parsed.feature_values) {\r\n            if (k in this.parsed.feature_values) {\r\n              v = this.parsed.feature_values[k]\r\n              pass = DataHandler.checks[v.operator](v.value, valueOf(e.features[k]))\r\n              if (!pass) break\r\n            }\r\n          }\r\n          return pass\r\n        } else return true\r\n      }.bind(v),\r\n      variables: function (e) {\r\n        if (e.data) {\r\n          let pass = true\r\n          this.parsed.variable_values.forEach(v => {\r\n            if (v.active && !isNaN(v.value)) {\r\n              const ev = e.get_value(v.name, v.comp_fun(v, this.parsed)),\r\n                ck = !isNaN(ev) && DataHandler.checks[v.operator](ev, v.value)\r\n              v.filter[ck ? 'passed' : 'failed']++\r\n              if (pass && !ck) pass = false\r\n            } else {\r\n              v.filter.failed++\r\n            }\r\n          })\r\n          return pass\r\n        } else return true\r\n      }.bind(v),\r\n    }\r\n    v.check = function (e) {\r\n      return {\r\n        ids: !this.ids || this.checks.ids(e),\r\n        features: !this.features || this.checks.features(e),\r\n        variables: (!this.variables && !_u._base_filter.c.size) || this.checks.variables(e),\r\n        dataset: !this.dataset || this.checks.dataset(e),\r\n      }\r\n    }.bind(v)\r\n  }\r\n\r\n  function global_update() {\r\n    meta.retain_state = false\r\n    keys._u.forEach(request_queue)\r\n  }\r\n\r\n  function global_reset() {\r\n    meta.retain_state = false\r\n    keys._u.forEach(k => {\r\n      if (!_u[k].setting && _u[k].reset) {\r\n        _u[k].reset()\r\n        request_queue(k)\r\n      }\r\n    })\r\n  }\r\n\r\n  function request_queue(id) {\r\n    queue[id] = true\r\n    if (queue._timeout > 0) clearTimeout(queue._timeout)\r\n    queue._timeout = setTimeout(run_queue, 20)\r\n    meta.lock_after = id\r\n  }\r\n\r\n  function run_queue() {\r\n    if (queue._timeout > 0) clearTimeout(queue._timeout)\r\n    queue._timeout = -1\r\n    keys._u.forEach(k => {\r\n      if (queue[k]) {\r\n        const d = refresh_conditions(k)\r\n        if (d) {\r\n          if (!(k in site.data.data_queue[d])) site.data.data_queue[d][k] = run_queue\r\n          return false\r\n        }\r\n        queue[k] = false\r\n      }\r\n    })\r\n    let k = get_options_url()\r\n    if (site.data.inited.first && k !== site.state) {\r\n      site.state = k\r\n      Object.keys(site.url_options).forEach(s => {\r\n        if (patterns.embed_setting.test(s))\r\n          k +=\r\n            '&' +\r\n            s +\r\n            '=' +\r\n            ('navcolor' === s ? site.url_options[s].replace(patterns.hashes, '%23') : site.url_options[s])\r\n      })\r\n      if (!site.settings.hide_url_parameters) {\r\n        window.history.replaceState(Date.now(), '', k)\r\n      }\r\n      setTimeout(content_resize, 50)\r\n    }\r\n  }\r\n\r\n  function refresh_conditions(id) {\r\n    if (id in _c) {\r\n      const c = _u[id],\r\n        d = _c[id],\r\n        r = [],\r\n        v = c && c.value() + ''\r\n      if (c && (!meta.retain_state || c.state !== v)) {\r\n        const view = site.dataviews[c.view],\r\n          dd = c.dataset ? valueOf(c.dataset) : view ? view.get.dataset() : v\r\n        if (site.data.info && dd in site.data.loaded && !site.data.loaded[dd]) {\r\n          if (!c.deferred) site.data.retrieve(dd, site.data.info[dd].site_file)\r\n          return dd\r\n        }\r\n        c.state = v\r\n        d.forEach(di => {\r\n          if ('rule' === di.type) {\r\n            if (-1 === r.indexOf(di.rule)) {\r\n              r.push(di.rule)\r\n            }\r\n          } else {\r\n            if ('function' === typeof _u[di.id][di.type]) {\r\n              _u[di.id][di.type]()\r\n            } else {\r\n              conditionals[di.type](_u[di.id], c)\r\n            }\r\n          }\r\n        })\r\n        r.forEach(i => {\r\n          let pass = false\r\n          const ri = site.rules[i],\r\n            n = ri.condition.length\r\n          for (let i = 0; i < n; i++) {\r\n            const ck = ri.condition[i]\r\n            pass = ck.check()\r\n            if (ck.any ? pass : !pass) break\r\n          }\r\n          Object.keys(ri.effects).forEach(k => {\r\n            const e = ri.effects[k]\r\n            if (pass) {\r\n              if ('display' === k) {\r\n                e.e.classList.remove('hidden')\r\n              } else if ('lock' === k) {\r\n                e.forEach(u => {\r\n                  u.e.classList.remove('locked')\r\n                  toggle_input(u, true)\r\n                })\r\n              } else if (k in _u) {\r\n                _u[k].set(valueOf(e))\r\n              }\r\n            } else if ('display' === k) {\r\n              if (!e.e.classList.contains('hidden')) {\r\n                e.e.classList.add('hidden')\r\n                if (e.u && e.u.reset) e.u.reset()\r\n                e.e.querySelectorAll('.auto-input').forEach(c => {\r\n                  if (c.id in _u && _u[c.id].reset) _u[c.id].reset()\r\n                })\r\n              }\r\n            } else if ('lock' === k) {\r\n              e.forEach(u => {\r\n                u.e.classList.add('locked')\r\n                toggle_input(u)\r\n              })\r\n            } else if ('default' in ri) {\r\n              if (k in _u) {\r\n                _u[k].set(valueOf(ri.default))\r\n              }\r\n            }\r\n          })\r\n        })\r\n        if (id === meta.lock_after) meta.retain_state = true\r\n      }\r\n    }\r\n  }\r\n}\r\nif ('undefined' === typeof module) {\r\n  community(window, document, site)\r\n} else module.exports = community\r\n","import {MeasureInfo} from '../types'\r\nimport {patterns} from './patterns'\r\nexport function set_description(e: HTMLElement, info: MeasureInfo) {\r\n  let description = info.long_description || info.description || info.short_description || ''\r\n  const subs: Map<string, string> = new Map()\r\n  for (let l; (l = patterns.href.exec(description)); ) {\r\n    subs.set(l[0], '<a href=\"' + l[1] + '\" target=\"_blank\" rel=\"noreferrer\">' + (l.length > 2 ? l[2] : l[1]) + '</a>')\r\n  }\r\n  if (subs.size) {\r\n    subs.forEach((f, r) => {\r\n      description = description.replace(r, f)\r\n    })\r\n  }\r\n  let has_html = patterns.has_html.test(description)\r\n  if (has_html) {\r\n    const tags = description.split(patterns.bracket_content)\r\n    for (let i = tags.length; i--; ) {\r\n      const t = tags[i]\r\n      if (t && '/' !== t.substring(0, 1)) {\r\n        const p = t.split(patterns.space),\r\n          n = p.length\r\n        has_html = patterns.html_tags.test(p[0])\r\n        if (!has_html) break\r\n        for (let a = 1; a < n; a++) {\r\n          has_html = patterns.html_attributes.test(p[a])\r\n          if (!has_html) break\r\n        }\r\n        if (!has_html) break\r\n      }\r\n    }\r\n  }\r\n  e[has_html ? 'innerHTML' : 'innerText'] = description\r\n}\r\n"],"names":["palettes","rdylbu7","name","type","colors","orrd7","gnbu7","brbg7","puor7","prgn6","reds5","greens5","paired4","greys4","grey","brown","purple","prgn","puor","rdbu","vik","lajolla","patterns","seps","period","all_periods","word_start","settings","features","filter","data","variables","properties","palette","datasets","variable","levels","ids","minmax","int_types","end_punct","mustache","measure_name","http","bool","number","leading_zeros","url_spaces","hashes","embed_setting","median","location_string","time_ref","pre_colon","exclude_query","space","has_html","href","bracket_content","html_tags","html_attributes","id_escapes","repo","basename","value_types","percent","v","minute","minutes","dollars","defaults","time","dataview","background_highlight","border","border_highlight_true","border_highlight_false","missing","summary_levels","dataset","filtered","children","all","TutorialManager","constructor","tutorials","elements","resetter","this","container","document","createElement","backdrop","highlight","menu","frame","header","dialog","timer","progress","continue","in_progress","waiting","current_step","current_time","site_elements","site_reset","start_tutorial","bind","progress_tutorial","execute_step","end_tutorial","body","appendChild","id","className","tabIndex","e","innerText","close","insertAdjacentElement","setAttribute","l","lastElementChild","Object","keys","forEach","t","description","start","manager","n_steps","steps","length","p","title","firstElementChild","before","Array","isArray","setting_display","k","i","row","part","replace","addEventListener","style","left","role","retrieve_element","current_site_element","substring","toLowerCase","text","querySelectorAll","item","querySelector","error","event","click","target","console","classList","remove","reset","isClick","code","clearTimeout","focuser","clearInterval","running_timer","step","handle_object","obj","test","do_action","set","set_value","value","input","current_element","dispatchEvent","Event","KeyboardEvent","action","String","option","toggle","expanded","trimStart","after","focus","scrollIntoView","setTimeout","wait","disabled","disable_continue","b","getBoundingClientRect","f","top","width","height","y","screen","availHeight","marginLeft","setInterval","add","community","window","site","tooltip_icon_rule","conditionals","setting","u","theme","plotly","update_plot_theme","map","tiles","removeFrom","addTo","history","replaceState","Date","now","hide_url_parameters","location","protocol","host","pathname","get_options_url","page","script_style","sheet","insertRule","removeRule","update","overlay","clearLayers","overlay_control","tag_id","dataLayer","gtag","analytics_storage","global_update","event_category","event_label","storage","options","no_view","view","dataviews","selection","d","valueOf","va","combobox","option_sets","optionSource","default","out","values","display","current","s","disp","ck","sensitive","current_set","n","group","groups","by_name","accordion","listbox","url_set","url_options","ugroup","ck_suffix","info","schema","fields","m","is_time","format_label","g","ee","for","label","push","o","c","firstChild","textContent","clearable","fill_variables_options","fill_levels_options","fill_ids_options","fresh","selection_subset","innerHTML","ns","subset","_u","rel","entity_tree","parents","si","toggle_input","source","selectedIndex","state","set_current","min","async","cv","uv","parsed","time_range","Math","max","parseFloat","isFinite","min_indicator","max_indicator","_entity_filter","registered","inited","valid","n_selected","full_filter","_base_filter","passed","failed","entities","check","request_queue","data_queue","time_filters","Infinity","get","meta","times","filtered_index","pass","index","tf","DataHandler","checks","_c","ci","passive","tv","r","get_variable","su","retain_state","current_default","id_filter","selected","select_ids","metadata","modal","entity_inputs","cs","relations","button","init","getAttribute","endpoint","notification","parentElement","add_dependency","effects","query","include","api","q","join","size","time_agg","navigator","clipboard","writeText","then","export","global_reset","clear_storage","Number","active","buttongroup","retrieve","checked","setter","previous","current_index","indexOf","undefined","listener","adder","noadd","autocomplete","radio","childElementCount","checkbox","off_default","split","splice","switch","up","down","nextElementSibling","intext","condition","depends","Map","oi","init_text","parts","reference_options","ki","has","select","short_description","create","elementCount","main","floating","of","tabindex","init_input","hover_index","cleared_selection","use_display","search","multi","input_element","contains","set_selected","removeEventListener","resize","x","bottom","tagName","ou","previousElementSibling","port","scrollTo","scrollTop","clear_highlight","filter_reset","filter_index","filterer","includes","keymap","strict","preventDefault","value_type","onchange","previous_span","color","clickto","traces","tab","getElementById","trigger_resize","show","revert","trace","make_data_entry","theme_dark","line","marker","Plotly","addTraces","deleteTraces","es","pl","ei","textfont","hoverinfo","JSON","stringify","base_trace","queue","queue_init","showing","deferred","newPlot","on","mouseover","mouseout","points","fullData","restyle","update_subs","layout","varx","vary","varcol","x_range","y_range","range","summary","views","summaries","display_time","rank","order","jump","fn","lim","trace_limit","summary_selection","color_scale_center","color_by_order","show_empty_times","ceil","boxplots","iqr_box","parse","box","q3","q1","upperfence","lowerfence","isNaN","med","_","get_value","yaxis","xaxis","autorange","any_skipped","yinfo","aggregation_method","end","adj","log","dtick","config","react","layer","highlight_style","weight","polygon_outline","fillOpacity","setStyle","match_time","overall","default_style","dep","overlays_from_measures","variable_info","overlays","temp","ranges","url","lastIndex","feature","L","featureGroup","displaying","control","layers","setPosition","addOverlay","tileLayer","_raw","_queue","_layers","by_time","shapes","shape","has_time","mapId","loaded","background_shapes","retrieve_layer","sort","triggers","overlay_summaries","processed","property_summaries","fs","fa","operator","id_property","entity","caller","map_time","vstate","background_top","background_polygon_outline","a","map_overlay","show_overlay","ys","parseInt","varc","_zoomAnimated","map_animations","fresh_shapes","skl","fg","cl","interactive","bringToBack","bringToFront","flyToBounds","getBounds","fitBounds","cstate","ls","lsi","fillColor","pal","_waiting","parse_part","parent","ref","format_value","unit","NaN","value_source","show_summary","make_summary_table","has_default","add_subs","content","base","show_variable_info","rows","h","op","minHeight","var","parse_variables","subto","table","filter_components","fill_summary_table","ss","result","short_name","component","make_variable_source","datatable","time_index","rowIds","head","table_autoscroll","table_scroll_behavior","pending","node","variable_source","single_variable","is_single","variable_header","render","retrievers","row_time","wide","filters","current_filter","offset","int","jQuery","DataTable","columns","$","vn","digits","clear","destroy","empty","nshowing","column","visible","selector","varstate","renderer","draw","dark_highlight","rules","table_autosort","w","scroll","behavior","_DT_CellIndex","scrollHeight","createHeader","tr","appendRows","dn","current_variable","td","col","legend","bins","lock","cooldown","trigger","ticks","scale","center","string","level_ids","integer","po","var_info","ep","pn","refresh","odd","remake","current_palette","prop","backgroundColor","right","floor","background","norm_median","clientX","relatedTarget","credits","credit_output","exclude","version","note","wrapper","tooltip_trigger","tooltip_clear","listen","loader","init_output","perm","localStorage","setItem","getItem","removeItem","opt","Enter","NumpadEnter","ArrowUp","Home","ArrowDown","End","Escape","Tab","Time","time_funs","first","last","load_screen","wrap","navbar","menus","getElementsByClassName","panels","_timeout","subs","rule_conditions","agg","as_state","time_component","tree","which","total","centered","fixed","center_source","upper","onend","sets","lk","enable","removeAttribute","sort_tree_children","_n","uid","fun","dark_theme","getComputedStyle","font","modebar","paper_bgcolor","plot_bgcolor","bgcolor","_fullLayout","showgrid","gridcolor","borderColor","relayout","yr","xr","additional","lower","make_variable_reference","author","j","family","given","year","journal","volume","doi","date_accessed","location_url","long_name","long_description","exec","tags","set_description","sources","citations","references","_references","reference","element","origin","link","source_file","hide_logo","hide_title","hide_navcontent","hide_panels","close_menus","panel","content_bounds","outer_right","content_resize","navcolor","hash","copy","poly_channel","ch","pos","coefs","pow","drop_load_screen","visibility","tutorial","reload","full","top_menu","left_menu","right_menu","bottom_menu","module","add_filter_condition","presets","Dataset","First","Last","comp_select","removeChild","selectedOptions","value_select","reparse","variable_values","comp_fun","delete","variable_filters","conditions","_overlay_property_selectors","new_display","min_ref","max_ref","default_max","default_min","id_source","single","vi","ids_check","feature_values","component_fun","ev","compile_dataview","entity_filters","reverse","site_file","filter_select","filter_table","parsed_query","parse_query","tracking","arguments","hide_tooltips","tooltip","callback","layerId","geoJSON","onEachFeature","process_layer","retrieved","callbacks","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","pointToLayer","point","coords","circleMarker","props","_tooltip","bindTooltip","openTooltip","fill_overlay_properties_options","circle_property","prop_summary","eachLayer","setRadius","circle_radius","opacity","run_queue","lock_after","dd","di","rule","ri","any","refresh_conditions","onload","menu_toggler","hide","timeout","ariaHidden","autoType","side","marginTop","bw","has_toggler","states","us","data_load","exports"],"mappings":"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"}