{"version":3,"file":"community.v1.min.js","sources":["../../../js/site/palettes.ts","../../../js/site/patterns.ts","../../../js/site/value_types.ts","../../../js/site/defaults.ts","../../../js/site/summary_levels.ts","../../../js/site/tutorials.ts","../../../js/site/index.js","../../../js/site/utils.ts"],"sourcesContent":["export const palettes: {[index: string]: {name: string; type: string; colors: string[] | (number[] | number[][])[]}} = {\r\n  // discrete palettes from https://colorbrewer2.org\r\n  rdylbu7: {\r\n    name: 'Red-Yellow-Blue (7)',\r\n    type: 'discrete',\r\n    colors: ['#d73027', '#fc8d59', '#fee090', '#adadad', '#e0f3f8', '#91bfdb', '#4575b4'],\r\n  },\r\n  orrd7: {\r\n    name: 'Orange-Red (7)',\r\n    type: 'discrete',\r\n    colors: ['#fef0d9', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#990000'],\r\n  },\r\n  gnbu7: {\r\n    name: 'Green-Blue (7)',\r\n    type: 'discrete',\r\n    colors: ['#a8ddb5', '#ccebc5', '#f0f9e8', '#adadad', '#4eb3d3', '#2b8cbe', '#08589e'],\r\n  },\r\n  brbg7: {\r\n    name: 'Brown-Teal (7)',\r\n    type: 'discrete',\r\n    colors: ['#8c510a', '#d8b365', '#f6e8c3', '#adadad', '#c7eae5', '#5ab4ac', '#01665e'],\r\n  },\r\n  puor7: {\r\n    name: 'Purple-Orange (7)',\r\n    type: 'discrete',\r\n    colors: ['#b35806', '#f1a340', '#fee0b6', '#adadad', '#d8daeb', '#998ec3', '#542788'],\r\n  },\r\n  prgn6: {\r\n    name: 'Purple-Green (6)',\r\n    type: 'discrete',\r\n    colors: ['#762a83', '#af8dc3', '#e7d4e8', '#d9f0d3', '#7fbf7b', '#1b7837'],\r\n  },\r\n  reds5: {\r\n    name: 'Red (5)',\r\n    type: 'discrete',\r\n    colors: ['#f1eef6', '#d7b5d8', '#df65b0', '#dd1c77', '#980043'],\r\n  },\r\n  greens5: {\r\n    name: 'Green (5)',\r\n    type: 'discrete',\r\n    colors: ['#ffffcc', '#c2e699', '#78c679', '#31a354', '#006837'],\r\n  },\r\n  paired4: {\r\n    name: 'Blue-Green (4)',\r\n    type: 'discrete',\r\n    colors: ['#1f78b4', '#a6cee3', '#b2df8a', '#33a02c'],\r\n  },\r\n  greys4: {\r\n    name: 'Grey (4)',\r\n    type: 'discrete',\r\n    colors: ['#f7f7f7', '#cccccc', '#969696', '#525252'],\r\n  },\r\n  grey: {\r\n    name: 'Grey',\r\n    type: 'continuous',\r\n    colors: [\r\n      [\r\n        [70, 70, 70],\r\n        [80, 80, 80],\r\n      ],\r\n      [150, 150, 150],\r\n      [\r\n        [230, 230, 230],\r\n        [-80, -80, -80],\r\n      ],\r\n    ],\r\n  },\r\n  brown: {\r\n    name: 'Brown',\r\n    type: 'continuous',\r\n    colors: [\r\n      [\r\n        [131, 30, 0],\r\n        [62, 85, 95],\r\n      ],\r\n      [193, 115, 95],\r\n      [\r\n        [255, 200, 190],\r\n        [-62, -85, -95],\r\n      ],\r\n    ],\r\n  },\r\n  purple: {\r\n    name: 'Purple',\r\n    type: 'continuous',\r\n    colors: [\r\n      [\r\n        [90, 14, 213],\r\n        [52.5, 89, 16],\r\n      ],\r\n      [142.5, 103, 229],\r\n      [\r\n        [195, 192, 245],\r\n        [-52.5, -89, -16],\r\n      ],\r\n    ],\r\n  },\r\n  prgn: {\r\n    name: 'Purple-Green',\r\n    type: 'continuous-divergent',\r\n    colors: [\r\n      [\r\n        [27, 120, 55],\r\n        [207, 107, 168.5],\r\n      ],\r\n      [234, 227, 223.5],\r\n      [\r\n        [118, 42, 131],\r\n        [116, 185, 92.5],\r\n      ],\r\n    ],\r\n  },\r\n  puor: {\r\n    name: 'Purple-Orange',\r\n    type: 'continuous-divergent',\r\n    colors: [\r\n      [\r\n        [179, 88, 6],\r\n        [56, 133, 202.5],\r\n      ],\r\n      [235, 221, 208.5],\r\n      [\r\n        [84, 39, 136],\r\n        [151, 182, 72.5],\r\n      ],\r\n    ],\r\n  },\r\n  rdbu: {\r\n    name: 'Red-Blue',\r\n    type: 'continuous-divergent',\r\n    colors: [\r\n      [\r\n        [69, 117, 180],\r\n        [170, 116.5, 16],\r\n      ],\r\n      [239, 233.5, 196],\r\n      [\r\n        [215, 48, 39],\r\n        [24, 185.5, 157],\r\n      ],\r\n    ],\r\n  },\r\n  vik: {\r\n    name: 'vik',\r\n    type: 'continuous-polynomial',\r\n    colors: [\r\n      [97.031, 18.4251, 0.4149],\r\n      [461.7602, 637.5326, 244.4647],\r\n      [-2434.798, -2838.5427, -5893.4695],\r\n      [9665.3469, 14405.823, 44072.722],\r\n      [-2575.9109, -25871.106, -109792.1319],\r\n      [-42510.0569, 8528.3288, 120953.8594],\r\n      [63342.3061, 14006.291, -59644.4457],\r\n      [-26045.0391, -8868.9621, 10155.5667],\r\n    ],\r\n  },\r\n  lajolla: {\r\n    name: 'lajolla',\r\n    type: 'continuous-polynomial',\r\n    colors: [\r\n      [256.0016, 255.9138, 204.945],\r\n      [-187.6735, -46.2889, -768.5655],\r\n      [1022.785, -1057.5602, 1782.0325],\r\n      [-2032.382, 1490.8271, -1785.9056],\r\n      [966.8373, -617.1949, 567.7715],\r\n    ],\r\n  },\r\n}\r\n","export const patterns = {\r\n  seps: /[\\s,/._-]+/g,\r\n  period: /\\./,\r\n  all_periods: /\\./g,\r\n  word_start: /\\b(\\w)/g,\r\n  settings: /^settings?\\./,\r\n  features: /^features?\\./,\r\n  filter: /^filter\\./,\r\n  data: /^data\\./,\r\n  variables: /^variables?\\./,\r\n  properties: /prop/,\r\n  palette: /^pal/,\r\n  datasets: /^dat/,\r\n  variable: /^var/,\r\n  levels: /^lev/,\r\n  ids: /^ids/,\r\n  minmax: /^m[inax]{2}$/,\r\n  int_types: /^(?:year|int|integer)$/,\r\n  end_punct: /[.?!]$/,\r\n  mustache: /\\{(.*?)\\}/g,\r\n  measure_name: /(?:^measure|_name)$/,\r\n  http: /^https?:\\/\\//,\r\n  bool: /^(?:true|false)$/,\r\n  number: /^[\\d-][\\d.,]*$/,\r\n  leading_zeros: /^0+/,\r\n  url_spaces: /%20/g,\r\n  hashes: /#/g,\r\n  embed_setting: /^(?:hide_|navcolor|close_menus)/,\r\n  median: /^med/i,\r\n  location_string: /^[^?]*/,\r\n  time_ref: /\\{time\\}/g,\r\n  pre_colon: /^[^:]*:/,\r\n  exclude_query: /^(?:features|time_range|id)$/,\r\n  space: /\\s+/,\r\n  has_equation: /<math/,\r\n  bracket_content: /(?:^|>)[^<]*(?:<|$)/,\r\n  math_tags: /^(?:semantics|annotation|m|semantics)/,\r\n  math_attributes: /^(?:xmlns|display|style|encoding|stretchy|alttext|scriptlevel|fence|math|separator)/,\r\n  id_escapes: /(?<=#[^\\s]+)([.[\\](){}?*-])/g,\r\n  repo: /\\.com\\/([^\\/]+\\/[^\\/]+)/,\r\n  basename: /^.*\\//,\r\n}\r\n","export const value_types: {[index: string]: Function} = {\r\n  percent: function (v: number): string {\r\n    return v + '%'\r\n  },\r\n  minute: function (v: number): string {\r\n    return v + ' minutes'\r\n  },\r\n  minutes: function (v: number): string {\r\n    return v + ' minutes'\r\n  },\r\n  dollars: function (v: number): string {\r\n    return '$' + v\r\n  },\r\n  'Mb/s': function (v: number): string {\r\n    return v + ' Mbps'\r\n  },\r\n}\r\n","export const defaults: {[index: string]: string} = {\r\n  time: 'time',\r\n  dataview: 'default_view',\r\n  palette: 'vik',\r\n  background_highlight: '#adadad',\r\n  border: '#7e7e7e',\r\n  border_highlight_true: '#ffffff',\r\n  border_highlight_false: '#000000',\r\n  missing: '#00000000',\r\n}\r\n","export const summary_levels: {[index: string]: string} = {\r\n  dataset: 'Overall',\r\n  filtered: 'Filtered',\r\n  children: 'Unfiltered selection',\r\n  all: 'Selection',\r\n}\r\n","import {patterns} from './patterns'\r\nimport type {ActiveElement, RegisteredElements} from '../types'\r\n\r\ntype Actions = string[] | {[index: string]: string}\r\ntype TutorialStep = {\r\n  focus: string\r\n  description?: string\r\n  option?: string | string[]\r\n  before?: Actions\r\n  after?: Actions\r\n  wait?: number\r\n  time?: number\r\n  disable_continue?: boolean\r\n}\r\ntype Tutorial = {\r\n  name: string\r\n  title: string\r\n  description: string\r\n  steps: TutorialStep[]\r\n  reset?: boolean\r\n  manager?: TutorialManager\r\n  n_steps?: number\r\n  current_step?: number\r\n  run?: Function\r\n}\r\nexport type Tutorials = {[index: string]: Tutorial}\r\n\r\nexport class TutorialManager {\r\n  tutorials: Tutorials\r\n  site_elements: RegisteredElements\r\n  container = document.createElement('div')\r\n  backdrop = document.createElement('div')\r\n  highlight = document.createElement('div')\r\n  menu = document.createElement('div')\r\n  frame = document.createElement('div')\r\n  header = document.createElement('p')\r\n  dialog = document.createElement('p')\r\n  timer = document.createElement('div')\r\n  running_timer: number | NodeJS.Timer\r\n  focuser: number | NodeJS.Timer\r\n  progress = document.createElement('div')\r\n  continue = document.createElement('button')\r\n  in_progress = ''\r\n  waiting = false\r\n  current_step = 0\r\n  current_time = 0\r\n  current_element: HTMLElement\r\n  current_site_element: ActiveElement\r\n  site_reset: Function\r\n  constructor(tutorials: Tutorials, elements?: RegisteredElements, resetter?: Function) {\r\n    this.tutorials = tutorials\r\n    this.site_elements = elements || {}\r\n    this.site_reset = resetter || (() => {})\r\n    this.start_tutorial = this.start_tutorial.bind(this)\r\n    this.progress_tutorial = this.progress_tutorial.bind(this)\r\n    this.execute_step = this.execute_step.bind(this)\r\n    this.end_tutorial = this.end_tutorial.bind(this)\r\n\r\n    // prepare menu\r\n    document.body.appendChild(this.menu)\r\n    this.menu.id = 'community_tutorials_menu'\r\n    this.menu.className = 'modal fade'\r\n    this.menu.tabIndex = -1\r\n    let e = document.createElement('div')\r\n    this.menu.appendChild(e)\r\n    e.className = 'modal-dialog modal-dialog-scrollable'\r\n    e.appendChild((e = document.createElement('div')))\r\n    e.className = 'modal-content'\r\n    e.appendChild((e = document.createElement('div')))\r\n    e.className = 'modal-header'\r\n    e.appendChild((e = document.createElement('p')))\r\n    e.className = 'modal-title h5'\r\n    e.innerText = 'Tutorials'\r\n    let close = document.createElement('button')\r\n    e.insertAdjacentElement('afterend', close)\r\n    close.type = 'button'\r\n    close.className = 'btn-close'\r\n    close.setAttribute('data-bs-dismiss', 'modal')\r\n    close.setAttribute('aria-label', 'Close')\r\n    const l = document.createElement('div')\r\n    this.menu.lastElementChild.lastElementChild.appendChild(l)\r\n    l.className = 'modal-body'\r\n    Object.keys(tutorials).forEach(name => {\r\n      const t = tutorials[name],\r\n        e = document.createElement('div'),\r\n        description = document.createElement('div'),\r\n        start = document.createElement('button')\r\n      t.manager = this\r\n      t.n_steps = t.steps.length\r\n      let p = document.createElement('div')\r\n      l.appendChild(e)\r\n      e.className = 'tutorial-listing card'\r\n      e.appendChild(p)\r\n      p.className = 'card-header'\r\n      p.innerText = t.title || name\r\n      e.appendChild((p = document.createElement('div')))\r\n      p.className = 'card-body'\r\n      p.appendChild(description)\r\n      description.appendChild(document.createElement('p'))\r\n      ;(description.firstElementChild as HTMLParagraphElement).innerText = t.description || ''\r\n      if (t.steps.length && t.steps[0].before && !Array.isArray(t.steps[0].before)) {\r\n        const before = t.steps[0].before,\r\n          setting_display = document.createElement('div'),\r\n          header = document.createElement('span')\r\n        setting_display.className = 'tutorial-initial-settings'\r\n        setting_display.appendChild(header)\r\n        header.innerText = 'Initial Settings'\r\n        header.className = 'h6'\r\n        Object.keys(t.steps[0].before).forEach((k, i) => {\r\n          const row = document.createElement('p')\r\n          let part = document.createElement('span')\r\n          part.className = 'syntax-variable'\r\n          part.innerText = k.replace(patterns.settings, '')\r\n          row.appendChild(part)\r\n          part = document.createElement('span')\r\n          part.className = 'syntax-operator'\r\n          part.innerText = ' = '\r\n          row.appendChild(part)\r\n          part = document.createElement('span')\r\n          part.className = 'syntax-value'\r\n          part.innerText = before[k]\r\n          row.appendChild(part)\r\n          setting_display.appendChild(row)\r\n        })\r\n        description.appendChild(setting_display)\r\n      }\r\n      p.appendChild(start)\r\n      start.type = 'button'\r\n      start.className = 'btn'\r\n      start.innerText = 'Start'\r\n      start.dataset.name = name\r\n      start.addEventListener('click', this.start_tutorial)\r\n    })\r\n\r\n    // prepare step display\r\n    document.body.appendChild(this.container)\r\n    this.container.appendChild(this.backdrop)\r\n    this.container.className = 'tutorial-container hidden'\r\n    this.container.addEventListener('keyup', this.progress_tutorial)\r\n    this.backdrop.addEventListener('click', this.progress_tutorial)\r\n    this.backdrop.className = 'tutorial-backdrop'\r\n    this.container.appendChild(this.highlight)\r\n    this.highlight.className = 'tutorial-highlight'\r\n    this.highlight.addEventListener('click', this.progress_tutorial)\r\n    this.container.appendChild(this.frame)\r\n    this.frame.className = 'tutorial-frame'\r\n    this.frame.style.left = '50%'\r\n    this.frame.tabIndex = -1\r\n    this.frame.appendChild((e = document.createElement('div')))\r\n    this.frame.id = 'community_tutorial_frame'\r\n    this.frame.role = 'dialog'\r\n    this.frame.setAttribute('aria-labelledby', 'community_tutorial_description')\r\n    e.className = 'tutorial-step card'\r\n    e.appendChild((e = document.createElement('div')))\r\n    e.className = 'card-header'\r\n    e.appendChild(this.header)\r\n    this.header.className = 'card-title'\r\n    this.header.id = 'community_tutorial_title'\r\n    close = document.createElement('button')\r\n    e.appendChild(close)\r\n    close.type = 'button'\r\n    close.className = 'btn-close'\r\n    close.setAttribute('aria-label', 'Close Tutorial')\r\n    close.addEventListener('click', this.end_tutorial)\r\n    this.frame.firstElementChild.appendChild((e = document.createElement('div')))\r\n    e.className = 'card-body'\r\n    e.appendChild(this.dialog)\r\n    this.dialog.role = 'status'\r\n    this.dialog.id = 'community_tutorial_description'\r\n    this.dialog.setAttribute('aria-labelledby', 'community_tutorial_progress')\r\n    this.dialog.setAttribute('aria-live', 'polite')\r\n    e.lastElementChild.className = 'card-text'\r\n    this.frame.firstElementChild.appendChild((e = document.createElement('div')))\r\n    e.className = 'tutorial-footer card-footer'\r\n    e.appendChild(this.progress)\r\n    this.progress.role = 'progressbar'\r\n    this.progress.id = 'community_tutorial_progress'\r\n    e.appendChild(this.timer)\r\n    this.timer.role = 'timer'\r\n    e.appendChild(this.continue)\r\n    this.continue.addEventListener('click', this.progress_tutorial)\r\n    this.continue.type = 'button'\r\n    this.continue.className = 'btn'\r\n    this.continue.innerText = 'Next'\r\n    this.continue.setAttribute('aria-controls', 'community_tutorial_frame')\r\n  }\r\n  retrieve_element(this: TutorialManager, name: string): HTMLElement {\r\n    let e: HTMLElement\r\n    if (name in this.site_elements) {\r\n      this.current_site_element = this.site_elements[name]\r\n      e = this.current_site_element.e\r\n    } else if ('nav:' === name.substring(0, 4).toLowerCase()) {\r\n      const text = name.replace(patterns.pre_colon, '')\r\n      document.querySelectorAll('.nav-item button').forEach((item: HTMLButtonElement) => {\r\n        if (text === item.innerText) e = item\r\n      })\r\n    } else {\r\n      try {\r\n        e = document.querySelector(name.replace(patterns.id_escapes, '\\\\$1'))\r\n      } catch (error) {}\r\n    }\r\n    return e\r\n  }\r\n  start_tutorial(this: TutorialManager, event?: MouseEvent, name?: string): void {\r\n    this.end_tutorial()\r\n    document.querySelectorAll('[data-bs-dismiss]').forEach((close: HTMLButtonElement) => close.click())\r\n    this.in_progress = name ? name : (event.target as HTMLButtonElement).dataset.name\r\n    if (!(this.in_progress in this.tutorials)) {\r\n      console.error('tutorial does not exist:', this.in_progress)\r\n      this.in_progress = ''\r\n      return\r\n    }\r\n    this.container.classList.remove('hidden')\r\n    this.header.innerText = this.tutorials[this.in_progress].title || this.in_progress\r\n    this.current_step = 0\r\n    this.current_time = 0\r\n    this.dialog.innerText = 'Starting tutorial ' + this.header.innerText\r\n    this.timer.innerText = ''\r\n    this.continue.innerText = 'Next'\r\n    if (this.tutorials[this.in_progress].reset) this.site_reset()\r\n    this.progress_tutorial()\r\n  }\r\n  progress_tutorial(this: TutorialManager, event?: KeyboardEvent): void {\r\n    const isClick = !event || !event.code\r\n    if (!isClick && 'Escape' === event.code) this.end_tutorial()\r\n    if (this.in_progress && !this.waiting && (isClick || 'Enter' === event.code || 'ArrowRight' === event.code)) {\r\n      this.waiting = true\r\n      clearTimeout(this.focuser)\r\n      clearInterval(this.running_timer)\r\n      const t = this.tutorials[this.in_progress]\r\n      let step: TutorialStep\r\n      const handle_object = (obj: {[index: string]: string}) => {\r\n        Object.keys(obj).forEach(k => {\r\n          if (patterns.number.test(k)) {\r\n            do_action(obj[k])\r\n          } else {\r\n            if (k in this.site_elements && this.site_elements[k].set) {\r\n              this.site_elements[k].set(obj[k])\r\n            }\r\n          }\r\n        })\r\n      }\r\n      const set_value = (value: string | string[]) => {\r\n        if (this.current_site_element && this.current_site_element.set) {\r\n          this.current_site_element.set(value)\r\n        } else {\r\n          const input =\r\n            'value' in this.current_element ? this.current_element : this.current_element.querySelector('input')\r\n          if (input) {\r\n            input.value = value\r\n            input.dispatchEvent(new Event('change'))\r\n            input.dispatchEvent(new KeyboardEvent('keydown', {code: 'Enter'}))\r\n          }\r\n        }\r\n      }\r\n      const do_action = (action: string) => {\r\n        action = String(action)\r\n        if ('set' === action) {\r\n          if ('option' in step) set_value(step.option)\r\n        } else if ('click' === action) {\r\n          if (\r\n            this.current_site_element &&\r\n            this.current_site_element.toggle &&\r\n            action === this.current_site_element.id\r\n          ) {\r\n            if (!this.current_site_element.expanded) this.current_site_element.toggle({target: this.current_element})\r\n          } else {\r\n            this.current_element && this.current_element.click()\r\n          }\r\n        } else if ('close' === action) {\r\n          document.querySelectorAll('[data-bs-dismiss]').forEach((close: HTMLButtonElement) => close.click())\r\n        } else if ('value' === action.substring(0, 5)) {\r\n          set_value(action.replace(patterns.pre_colon, '').trimStart())\r\n        } else {\r\n          const e = this.retrieve_element(action)\r\n          if (e) e.click()\r\n        }\r\n      }\r\n      // handle previous step's after action\r\n      if (this.current_step > 0) {\r\n        step = t.steps[this.current_step - 1]\r\n        if ('after' in step) {\r\n          if (Array.isArray(step.after)) {\r\n            step.after.forEach(do_action)\r\n          } else {\r\n            handle_object(step.after)\r\n          }\r\n        }\r\n      }\r\n      if (this.current_step >= t.n_steps) {\r\n        this.end_tutorial()\r\n      } else {\r\n        this.current_site_element = void 0\r\n        // handle current step's before action\r\n        step = t.steps[this.current_step]\r\n        this.current_element = this.retrieve_element(step.focus)\r\n        if ('before' in step) {\r\n          if (Array.isArray(step.before)) {\r\n            step.before.forEach(do_action)\r\n          } else {\r\n            handle_object(step.before)\r\n          }\r\n        }\r\n        if (this.current_step === t.n_steps - 1) this.continue.innerText = 'Finish'\r\n        if (this.current_element && this.current_element.scrollIntoView) this.current_element.scrollIntoView()\r\n        // execute current step after actions have resolved\r\n        setTimeout(this.execute_step, 'wait' in step ? step.wait : 400)\r\n      }\r\n    }\r\n  }\r\n  execute_step(this: TutorialManager): void {\r\n    if (this.in_progress) {\r\n      const t = this.tutorials[this.in_progress]\r\n      const step = t.steps[this.current_step]\r\n      if (!this.current_element) {\r\n        const e = this.retrieve_element(step.focus)\r\n        if (!e) {\r\n          console.error('failed to retrieve element', step.focus)\r\n          return this.end_tutorial()\r\n        }\r\n        this.current_element = e\r\n        if (e.scrollIntoView) e.scrollIntoView()\r\n        setTimeout(this.execute_step, 0)\r\n        return\r\n      }\r\n      this.continue.disabled = !!step.disable_continue\r\n      const b = this.current_element.getBoundingClientRect(),\r\n        f = this.frame.getBoundingClientRect()\r\n      this.highlight.style.top = b.top + 'px'\r\n      this.highlight.style.left = b.left + 'px'\r\n      this.highlight.style.width = b.width + 'px'\r\n      this.highlight.style.height = b.height + 'px'\r\n      this.frame.style.top = (b.y < screen.availHeight / 2 ? b.y + b.height + 10 : b.y - f.height - 10) + 'px'\r\n      this.frame.style.marginLeft = -f.width / 2 + 'px'\r\n      if (step.time) {\r\n        this.current_time = step.time\r\n        this.timer.innerText = step.time + ''\r\n        this.running_timer = setInterval(() => {\r\n          this.current_time--\r\n          this.timer.innerText = this.current_time + ''\r\n          if (this.current_time <= 0) {\r\n            clearInterval(this.running_timer)\r\n            this.progress_tutorial()\r\n          }\r\n        }, 1e3)\r\n      } else {\r\n        this.timer.innerText = ''\r\n      }\r\n      this.progress.innerText = 'Step ' + (this.current_step + 1) + ' of ' + t.n_steps\r\n      this.dialog.innerText = step.description\r\n      this.current_step++\r\n      this.waiting = false\r\n      this.focuser = setTimeout(() => this.continue.focus(), 0)\r\n    }\r\n  }\r\n  end_tutorial(this: TutorialManager): void {\r\n    this.in_progress = ''\r\n    this.current_step = 0\r\n    this.container.classList.add('hidden')\r\n    this.waiting = false\r\n    clearTimeout(this.focuser)\r\n  }\r\n}\r\n","'use strict'\r\nimport {palettes} from './palettes'\r\nimport {patterns} from './patterns'\r\nimport {value_types} from './value_types'\r\nimport {defaults} from './defaults'\r\nimport {summary_levels} from './summary_levels'\r\nimport {set_description} from './utils'\r\nimport {TutorialManager} from './tutorials'\r\nconst community = function (window, document, site) {\r\n  const tooltip_icon_rule =\r\n      'button.has-note::after,.button-wrapper.has-note button::before,.has-note legend::before,.has-note label::before,.wrapper.has-note > div > label::before{display:none}',\r\n    conditionals = {\r\n      setting: function (u) {\r\n        const v = u.value(),\r\n          theme = v ? 'dark' : 'light'\r\n        if (v !== site.settings[u.setting]) {\r\n          site.settings[u.setting] = v\r\n          if ('theme_dark' === u.setting) {\r\n            v\r\n              ? document.body.classList.replace('light-theme', 'dark-theme')\r\n              : document.body.classList.replace('dark-theme', 'light-theme')\r\n            if (site.plotly) Object.keys(site.plotly).forEach(k => update_plot_theme(site.plotly[k].u))\r\n            if (site.map)\r\n              Object.keys(site.map).forEach(k => {\r\n                const u = site.map[k].u\r\n                if (u && theme in u.tiles) {\r\n                  Object.keys(u.tiles).forEach(l => {\r\n                    if (theme !== l) u.tiles[l].removeFrom(u.map)\r\n                  })\r\n                  u.tiles[theme].addTo(u.map)\r\n                }\r\n              })\r\n          } else if ('hide_url_parameters' === u.setting) {\r\n            window.history.replaceState(\r\n              Date.now(),\r\n              '',\r\n              site.settings.hide_url_parameters\r\n                ? window.location.protocol + '//' + window.location.host + window.location.pathname\r\n                : get_options_url()\r\n            )\r\n          } else if ('hide_tooltips' === u.setting) {\r\n            v ? page.script_style.sheet.insertRule(tooltip_icon_rule, 0) : page.script_style.sheet.removeRule(0)\r\n          } else if ('map_overlay' === u.setting) {\r\n            Object.keys(site.map).forEach(id => {\r\n              if ('_' !== id[0]) {\r\n                if (v) {\r\n                  site.map[id].u.update()\r\n                } else {\r\n                  site.map[id].u.overlay.clearLayers()\r\n                  site.map[id].u.overlay_control.remove()\r\n                }\r\n              }\r\n            })\r\n          } else if ('tracking' === u.setting) {\r\n            if (v && site.tag_id && !dataLayer.length) {\r\n              gtag('js', new Date())\r\n              gtag('config', site.tag_id)\r\n              gtag('consent', 'default', {analytics_storage: 'denied'})\r\n            }\r\n            gtag('consent', 'update', {analytics_storage: v ? 'granted' : 'denied'})\r\n          } else {\r\n            global_update()\r\n          }\r\n          gtag('event', 'setting', {event_category: u.setting, event_label: v})\r\n          storage.set(u.setting, site.settings[u.setting])\r\n        }\r\n      },\r\n      options: function (u) {\r\n        const no_view = !u.view || !site.dataviews[u.view].selection,\r\n          d = valueOf(u.dataset || no_view || site.dataviews[u.view].dataset) || defaults.dataset,\r\n          va = valueOf(u.variable),\r\n          k = d + (va ? va : ''),\r\n          combobox = 'combobox' === u.type\r\n        if (!(k in u.option_sets)) {\r\n          if (patterns.variable.test(u.optionSource)) {\r\n            if (-1 === u.default) u.default = defaults.variable\r\n            fill_variables_options(u, d, u.option_sets)\r\n          } else if (patterns.levels.test(u.optionSource)) {\r\n            fill_levels_options(u, d, va, u.option_sets)\r\n          } else if (patterns.ids.test(u.optionSource)) {\r\n            fill_ids_options(u, d, u.option_sets)\r\n          }\r\n        }\r\n        if (k in u.option_sets) {\r\n          const fresh = k !== u.current_set && (u.sensitive || !u.current_set),\r\n            c = u[combobox ? 'listbox' : 'e']\r\n          if (fresh || u.filter || u.selection_subset) {\r\n            if (fresh) {\r\n              c.innerHTML = ''\r\n              u.values = u.option_sets[k].values\r\n              u.display = u.option_sets[k].display\r\n              u.options = u.option_sets[k].options\r\n            }\r\n            let ns = 0\r\n            if ('ID' === u.variable || patterns.ids.test(u.optionSource)) {\r\n              const value = u.value()\r\n              let selection = -1 === value || '' === value ? u.subset : u.selection_subset,\r\n                v = {}\r\n              if (!no_view) {\r\n                if (selection in _u) selection = valueOf(selection)\r\n                if ('siblings' === selection) {\r\n                  const rel = site.data.entity_tree && site.data.entity_tree[value]\r\n                  if (rel) {\r\n                    const parents = Object.keys(rel.parents)\r\n                    if (parents.length) {\r\n                      v = {}\r\n                      parents.forEach(id => {\r\n                        v = {...v, ...site.data.entity_tree[id].children}\r\n                      })\r\n                    }\r\n                  }\r\n                } else {\r\n                  v = site.dataviews[u.view].selection[selection]\r\n                }\r\n              }\r\n              u.options.forEach(si => {\r\n                if (fresh && !u.groups) c.appendChild(si)\r\n                if (no_view || (si.value || si.dataset.value) in v) {\r\n                  si.classList.remove('hidden')\r\n                  ns++\r\n                } else {\r\n                  si.classList.add('hidden')\r\n                }\r\n              })\r\n            } else if (fresh) {\r\n              u.options.forEach(si => {\r\n                si.classList.remove('hidden')\r\n                if (!u.groups) c.appendChild(si)\r\n                ns++\r\n              })\r\n            } else ns++\r\n            if (fresh && u.groups) u.groups.e.forEach(e => c.appendChild(e))\r\n            toggle_input(u, ns)\r\n            u.current_set = k\r\n            if (fresh) {\r\n              if (combobox) {\r\n                u.source = []\r\n              } else {\r\n                u.e.selectedIndex = -1\r\n                u.source = ''\r\n              }\r\n              u.id in site.url_options\r\n                ? u.set(site.url_options[u.id])\r\n                : u.state in u.values\r\n                ? u.set(u.state)\r\n                : u.reset()\r\n            }\r\n            if (u.filter) u.filter()\r\n          }\r\n        }\r\n      },\r\n      set_current: function () {\r\n        this.values = this.option_sets[this.dataset].values\r\n        this.display = this.option_sets[this.dataset].display\r\n        this.options = this.option_sets[this.dataset].options\r\n        this.source = ''\r\n        this.id in site.url_options\r\n          ? this.set(site.url_options[this.id])\r\n          : this.state in this.values\r\n          ? this.set(this.state)\r\n          : this.reset()\r\n      },\r\n      min: async function (u, c) {\r\n        let cv = c.value(),\r\n          uv = u.value(),\r\n          v = _u[u.view || c.view],\r\n          variable\r\n        if (patterns.minmax.test(cv)) cv = c.parsed.min\r\n        if (v && v.y) {\r\n          variable = valueOf(v.y)\r\n          if (variable in site.data.variables) {\r\n            if (!v.time_range.time.length) await conditionals.time_range(v, u, true)\r\n            cv = Math.max(v.time_range.time[0], parseFloat(cv))\r\n          }\r\n          u.update()\r\n        }\r\n        u.e.min = 'undefined' === typeof u.parsed.min ? parseFloat(cv) : Math.max(u.parsed.min, parseFloat(cv))\r\n        if (!u.e.value) {\r\n          u.reset()\r\n        } else if ('number' === typeof uv && isFinite(uv) && uv < cv) {\r\n          u.set(cv)\r\n        }\r\n        if (u.min_indicator) u.min_indicator.firstElementChild.innerText = cv\r\n      },\r\n      max: async function (u, c) {\r\n        let cv = c.value(),\r\n          uv = u.value(),\r\n          v = _u[u.view || c.view],\r\n          variable\r\n        if (patterns.minmax.test(cv)) cv = c.parsed.max\r\n        if (v && v.y) {\r\n          variable = valueOf(v.y)\r\n          if (variable in site.data.variables) {\r\n            if (!v.time_range.time.length) await conditionals.time_range(v, u, true)\r\n            cv = Math.min(v.time_range.time[1], parseFloat(cv))\r\n          }\r\n          u.update()\r\n        }\r\n        u.e.max = 'undefined' === typeof u.parsed.max ? parseFloat(cv) : Math.min(u.parsed.max, parseFloat(cv))\r\n        if (!u.e.value) {\r\n          u.reset()\r\n        } else if ('number' === typeof uv && isFinite(uv) && uv > cv) {\r\n          u.set(cv)\r\n        }\r\n        if (u.max_indicator) u.max_indicator.firstElementChild.innerText = cv\r\n      },\r\n      dataview: function (f) {\r\n        f = f || _u[defaults.dataview]\r\n        const state = f.value()\r\n        if (state !== f.state && _u._entity_filter.registered[f.parsed.dataset]) {\r\n          if (site.data.inited[f.parsed.dataset]) {\r\n            f.valid = true\r\n            f.n_selected.ids = 0\r\n            f.n_selected.children = 0\r\n            f.n_selected.features = 0\r\n            f.n_selected.variables = 0\r\n            f.n_selected.dataset = 0\r\n            f.n_selected.filtered = 0\r\n            f.n_selected.full_filter = 0\r\n            f.n_selected.all = 0\r\n            f.selection.ids = {}\r\n            f.selection.children = {}\r\n            f.selection.features = {}\r\n            f.selection.variables = {}\r\n            f.selection.dataset = {}\r\n            f.selection.filtered = {}\r\n            f.selection.full_filter = {}\r\n            f.selection.all = {}\r\n            _u._base_filter.c.forEach(f => {\r\n              f.passed = 0\r\n              f.failed = 0\r\n            })\r\n            _u._entity_filter.entities.forEach(e => {\r\n              const c = f.check(e),\r\n                id = e.features.id\r\n              c.all = 0\r\n              if (c.ids) {\r\n                f.selection.ids[id] = e\r\n                f.n_selected.ids++\r\n                c.all++\r\n              }\r\n              if (c.features) {\r\n                f.selection.features[id] = e\r\n                f.n_selected.features++\r\n                c.all++\r\n              }\r\n              if (c.variables) {\r\n                f.selection.variables[id] = e\r\n                f.n_selected.variables++\r\n                c.all++\r\n              }\r\n              if (c.dataset) {\r\n                f.selection.dataset[id] = e\r\n                f.n_selected.dataset++\r\n                c.all++\r\n              }\r\n              if (c.dataset && c.ids) {\r\n                f.selection.children[id] = e\r\n                f.n_selected.children++\r\n              }\r\n              if (c.features && c.variables) {\r\n                f.selection.full_filter[id] = e\r\n                f.n_selected.full_filter++\r\n              }\r\n              if (c.variables && c.features && c.ids) {\r\n                f.selection.filtered[id] = e\r\n                f.n_selected.filtered++\r\n              }\r\n              if (4 === c.all) {\r\n                f.selection.all[id] = e\r\n                f.n_selected.all++\r\n              }\r\n            })\r\n            request_queue(f.id)\r\n          } else {\r\n            f.valid = false\r\n            site.data.data_queue[f.parsed.dataset][f.id] = function () {\r\n              return conditionals.dataview(f)\r\n            }\r\n          }\r\n        }\r\n      },\r\n      time_filters: function (u) {\r\n        u.time_range.filtered[0] = Infinity\r\n        u.time_range.filtered[1] = -Infinity\r\n        const d = u.get.dataset(),\r\n          time = site.data.meta.times[d],\r\n          current = u.time_range.filtered_index + ''\r\n        if (!site.data.inited[d]) return\r\n        for (let i = time.n; i--; ) {\r\n          let pass = false\r\n          if (i >= u.time_range.index[0] && i <= u.time_range.index[1]) {\r\n            for (let f = u.time_filters.length; f--; ) {\r\n              const v = {},\r\n                tf = u.time_filters[f]\r\n              if (!(tf.value in v)) v[tf.value] = valueOf(tf.value)\r\n              pass = DataHandler.checks[tf.type](time.value[i], v[tf.value])\r\n              if (!pass) break\r\n            }\r\n          }\r\n          u.times[i] = pass\r\n          if (pass) {\r\n            if (u.time_range.filtered[0] > time.value[i]) u.time_range.filtered[0] = time.value[i]\r\n            if (u.time_range.filtered[1] < time.value[i]) u.time_range.filtered[1] = time.value[i]\r\n          }\r\n        }\r\n        u.time_range.filtered_index = [\r\n          u.time_range.index[0] + u.time_range.filtered[0] - u.time_range.time[0],\r\n          u.time_range.index[1] + u.time_range.filtered[1] - u.time_range.time[1],\r\n        ]\r\n        if (current !== u.time_range.filtered_index + '') {\r\n          const c = _c[u.id + '_filter']\r\n          if (c)\r\n            c.forEach(ci => {\r\n              if ('update' === ci.type) {\r\n                _u[ci.id].update()\r\n              } else if (ci.type in conditionals) {\r\n                conditionals[ci.type](_u[ci.id], u)\r\n              }\r\n            })\r\n        }\r\n      },\r\n      time_range: async function (u, c, passive) {\r\n        const v = c && c.value(),\r\n          d = u.get.dataset(),\r\n          tv = u.time ? valueOf(u.time) : defaults.time,\r\n          t = tv in site.data.variables ? site.data.variables[tv].info[d].min : 1,\r\n          s = _c[u.id + '_time'],\r\n          variable = v in site.data.variables ? v : valueOf(u.y)\r\n        let r = variable && (await site.data.get_variable(variable, u.id))\r\n        if (r) {\r\n          const reset = d + variable != u.time_range.dataset + u.time_range.variable\r\n          r = r.time_range[d]\r\n          if (-1 !== r[0]) {\r\n            u.time_range.dataset = d\r\n            u.time_range.variable = variable\r\n            u.time_range.index[0] = r[0]\r\n            u.time_range.time[0] = u.time_range.filtered[0] = t + r[0]\r\n            u.time_range.index[1] = r[1]\r\n            u.time_range.time[1] = u.time_range.filtered[1] = t + r[1]\r\n          }\r\n          if (!passive && s) {\r\n            s.forEach(si => {\r\n              const su = _u[si.id],\r\n                value = su.value()\r\n              if ('min' === si.type) {\r\n                if (reset || (isFinite(u.time_range.time[0]) && parseFloat(su.e.min) !== u.time_range.time[0])) {\r\n                  su.e.min = u.time_range.time[0]\r\n                  if (reset || !meta.retain_state || u.time_range.time[0] > value) {\r\n                    su.current_default = u.time_range.time[0]\r\n                    su.set(su.current_default)\r\n                  }\r\n                }\r\n              } else if ('max' === si.type) {\r\n                if (reset || (isFinite(u.time_range.time[1]) && parseFloat(su.e.max) !== u.time_range.time[1])) {\r\n                  su.e.max = u.time_range.time[1]\r\n                  if (reset || !meta.retain_state || u.time_range.time[1] < value || value < u.time_range.time[0]) {\r\n                    su.current_default = u.time_range.time[1]\r\n                    su.set(su.current_default)\r\n                  }\r\n                }\r\n              }\r\n            })\r\n            conditionals.time_filters(u)\r\n          }\r\n        } else {\r\n          u.time_range.dataset = d\r\n          u.time_range.index[0] = 0\r\n          u.time_range.time[0] = u.time_range.filtered[0] = 1\r\n          u.time_range.index[1] = 0\r\n          u.time_range.time[1] = u.time_range.filtered[1] = 1\r\n        }\r\n      },\r\n      id_filter: function () {\r\n        const ids = {}\r\n        _u._entity_filter.selected = []\r\n        _u._entity_filter.select_ids = ids\r\n        if (site.metadata.datasets) {\r\n          site.metadata.datasets.forEach(d => {\r\n            if (d in page.modal.filter.entity_inputs) {\r\n              const s = page.modal.filter.entity_inputs[d].value(),\r\n                cs = []\r\n              if (s && s.length) {\r\n                s.forEach(id => {\r\n                  const e = site.data.entities[id]\r\n                  if (e) {\r\n                    cs.push(id)\r\n                    _u._entity_filter.selected.push(id)\r\n                    ids[id] = true\r\n                    if (e.relations) {\r\n                      Object.keys(e.relations.parents).forEach(k => (ids[k] = true))\r\n                      Object.keys(e.relations.children).forEach(k => (ids[k] = true))\r\n                    }\r\n                  }\r\n                })\r\n                page.modal.filter.entity_inputs[d].source = cs\r\n              }\r\n            }\r\n          })\r\n        }\r\n      },\r\n    },\r\n    elements = {\r\n      button: {\r\n        init: function (o) {\r\n          o.target = o.e.getAttribute('data-target')\r\n          if ('copy' === o.target) o.settings.endpoint = site.endpoint\r\n          if ('filter' === o.target) {\r\n            o.e.setAttribute('data-bs-toggle', 'modal')\r\n            o.e.setAttribute('data-bs-target', '#filter_display')\r\n            o.notification = document.createElement('span')\r\n            o.notification.className = 'filter-notification hidden'\r\n            o.e.parentElement.appendChild(o.notification)\r\n            add_dependency('_base_filter', {type: 'update', id: o.id})\r\n            add_dependency('_entity_filter', {type: 'update', id: o.id})\r\n            o.update = elements.button.update.bind(o)\r\n            if (site.data) o.update()\r\n          } else\r\n            o.e.addEventListener(\r\n              'click',\r\n              o.settings.effects\r\n                ? 'export' === o.target || 'copy' === o.target\r\n                  ? function () {\r\n                      const f = {},\r\n                        s = this.settings,\r\n                        v = _u[s.dataview],\r\n                        d = v && v.parsed.dataset\r\n                      Object.keys(s.query).forEach(k => (f[k] = valueOf(s.query[k])))\r\n                      if (v) {\r\n                        if (!('include' in f) && v.y) f.include = valueOf(v.y)\r\n                        if (!('id' in f) && v.ids) f.id = valueOf(v.ids)\r\n                      }\r\n                      if ('copy' === this.target || this.api) {\r\n                        let q = []\r\n                        if ('id' in f && '' !== f.id && -1 != f.id) {\r\n                          q.push('id=' + f.id)\r\n                        } else {\r\n                          if (_u._entity_filter.selected.length) q.push('id=' + _u._entity_filter.selected.join(','))\r\n                        }\r\n                        if (v) {\r\n                          if (!f.time_range && v.time_range.filtered_index + '' !== v.time_range.index + '') {\r\n                            q.push(\r\n                              'time_range=' +\r\n                                site.data.meta.times[d].value[v.time_range.filtered_index[0]] +\r\n                                ',' +\r\n                                site.data.meta.times[d].value[v.time_range.filtered_index[1]]\r\n                            )\r\n                          }\r\n                          if (!v.features) v.features = {}\r\n                          Object.keys(v.features).forEach(k => {\r\n                            if (!(k in f)) {\r\n                              f[k] = valueOf(v.features[k])\r\n                              if (Array.isArray(f[k])) f[k] = f[k].join(',')\r\n                              q.push(k + '=' + f[k])\r\n                            }\r\n                          })\r\n                          if (_u._base_filter.c.size) _u._base_filter.value(q, v.parsed.time_agg)\r\n                        }\r\n                        Object.keys(f).forEach(k => {\r\n                          if (!patterns.exclude_query.test(k) && !(k in v.features)) q.push(k + '=' + f[k])\r\n                        })\r\n                        const k = s.endpoint + (q.length ? '?' + q.join('&') : '')\r\n                        if (this.api) {\r\n                          window.location.href = k\r\n                        } else {\r\n                          navigator.clipboard.writeText(k).then(\r\n                            () => {\r\n                              if ('Copied!' !== o.e.innerText) {\r\n                                o.text = o.e.innerText\r\n                                o.e.innerText = 'Copied!'\r\n                                setTimeout(function () {\r\n                                  o.e.innerText = o.text\r\n                                }, 500)\r\n                                gtag('event', 'export', {event_category: 'api link'})\r\n                              }\r\n                            },\r\n                            e => {\r\n                              if (e !== o.e.innerText) {\r\n                                o.text = o.e.innerText\r\n                                o.e.innerText = e\r\n                                setTimeout(function () {\r\n                                  o.e.innerText = o.text\r\n                                }, 1500)\r\n                              }\r\n                            }\r\n                          )\r\n                        }\r\n                      } else {\r\n                        if (v && 'selection' in v) {\r\n                          if (!f.time_range)\r\n                            f.time_range =\r\n                              site.data.meta.times[d].value[v.time_range.filtered_index[0]] +\r\n                              ',' +\r\n                              site.data.meta.times[d].value[v.time_range.filtered_index[1]]\r\n                          site.data.export(f, v.selection.all, true)\r\n                        } else site.data.export(f, site.data.entities, true, true)\r\n                        gtag('event', 'export', {event_category: 'download'})\r\n                      }\r\n                    }.bind(o)\r\n                  : function () {\r\n                      Object.keys(this.settings.effects).forEach(k => {\r\n                        this.settings.effects[k] === '' || -1 == this.settings.effects[k]\r\n                          ? _u[k].reset()\r\n                          : _u[k].set(this.settings.effects[k])\r\n                      })\r\n                    }.bind(o)\r\n                : 'refresh' === o.target\r\n                ? global_update\r\n                : 'reset_selection' === o.target\r\n                ? global_reset\r\n                : 'reset_storage' === o.target\r\n                ? clear_storage\r\n                : function () {\r\n                    if (this.target in _u) _u[this.target].reset()\r\n                  }.bind(o)\r\n            )\r\n        },\r\n        update: function () {\r\n          let n = Number(0 !== _u._entity_filter.selected.length)\r\n          _u._base_filter.c.forEach(f => (n += f.active))\r\n          if (n) {\r\n            this.notification.innerText = n\r\n            this.notification.classList.remove('hidden')\r\n          } else {\r\n            this.notification.classList.add('hidden')\r\n          }\r\n        },\r\n      },\r\n      buttongroup: {\r\n        retrieve: function () {\r\n          for (let i = this.options.length; i--; )\r\n            if (this.options[i].checked) {\r\n              this.set(i)\r\n              break\r\n            }\r\n        },\r\n        setter: function (v) {\r\n          this.previous = this.value()\r\n          this.current_index = 'string' === typeof v ? this.values.indexOf(v) : v\r\n          if (-1 !== this.current_index) {\r\n            this.source =\r\n              this.values[this.current_index] in _u\r\n                ? _u[this.values[this.current_index]]\r\n                : this.values[this.current_index]\r\n            this.options[this.current_index].checked = true\r\n          } else this.source = undefined\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          this.set(e.target.value)\r\n        },\r\n        adder: function (i, value, display, noadd) {\r\n          let e = [document.createElement('input'), document.createElement('label')]\r\n          e[0].className = 'btn-check'\r\n          e[0].type = 'radio'\r\n          e[0].name = this.e.id + '_options'\r\n          e[0].autocomplete = 'off'\r\n          e[0].value = value\r\n          e[0].id = this.e.id + '_option' + i\r\n          e[1].className = 'btn btn-primary'\r\n          e[1].innerText = display || site.data.format_label(value)\r\n          e[1].setAttribute('for', e[0].id)\r\n          if (!noadd) {\r\n            this.e.appendChild(e[0])\r\n            this.e.appendChild(e[1])\r\n          }\r\n          return e[0]\r\n        },\r\n      },\r\n      radio: {\r\n        retrieve: function () {\r\n          for (let i = this.options.length; i--; ) {\r\n            if (this.options[i].checked) {\r\n              this.set(i)\r\n              break\r\n            }\r\n          }\r\n        },\r\n        setter: function (v) {\r\n          this.current_index = 'string' === typeof v ? this.values.indexOf(v) : v\r\n          if (-1 !== this.current_index) {\r\n            this.source =\r\n              this.values[this.current_index] in _u\r\n                ? _u[this.values[this.current_index]]\r\n                : this.values[this.current_index]\r\n            this.options[this.current_index].checked = true\r\n          } else this.source = undefined\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          this.set(e.target.value)\r\n        },\r\n        adder: function (value, display, noadd) {\r\n          const e = document.createElement('div'),\r\n            s = 'TRUE' === this.e.getAttribute('data-switch')\r\n          e.className = 'form-check' + (s ? ' form-switch' : '')\r\n          e.appendChild(document.createElement('input'))\r\n          e.appendChild(document.createElement('label'))\r\n          e.firstElementChild.autocomplete = 'off'\r\n          e.firstElementChild.className = 'form-check-input'\r\n          if (s) e.firstElementChild.role = 'switch'\r\n          e.firstElementChild.type = 'radio'\r\n          e.firstElementChild.name = this.e.id + '_options'\r\n          e.firstElementChild.id = this.e.id + '_option' + this.e.childElementCount\r\n          e.firstElementChild.value = value\r\n          e.lastElementChild.innerText = display || site.data.format_label(value)\r\n          e.lastElementChild.className = 'form-check-label'\r\n          e.lastElementChild.setAttribute('for', e.firstElementChild.id)\r\n          if (!noadd) this.e.appendChild(e)\r\n          return e.firstElementChild\r\n        },\r\n      },\r\n      checkbox: {\r\n        retrieve: function () {\r\n          this.source = []\r\n          this.current_index = []\r\n          this.off_default = false\r\n          this.options.forEach(o => {\r\n            if (o.checked) {\r\n              this.source.push(this.values[i])\r\n              this.current_index.push(i)\r\n            } else {\r\n              this.off_default = true\r\n            }\r\n          })\r\n          request_queue(this.id)\r\n        },\r\n        setter: function (v) {\r\n          if ('object' === typeof v) {\r\n            this.source = []\r\n            this.current_index = []\r\n            this.off_default = false\r\n            this.values.forEach((cv, i) => {\r\n              if (-1 !== v.indexOf(cv)) {\r\n                this.source.push(cv)\r\n                this.current_index.push(i)\r\n                this.options[i].checked = true\r\n              } else {\r\n                this.off_default = true\r\n                this.options[i].checked = false\r\n              }\r\n            })\r\n          } else {\r\n            if ('string' === typeof v) {\r\n              return this.set('' === v ? this.values : v.split(','))\r\n            } else {\r\n              if (-1 !== v) {\r\n                this.options[v].checked = true\r\n                this.off_default = false\r\n                this.options.forEach(o => {\r\n                  if (!o.checked) this.off_default = true\r\n                })\r\n              }\r\n            }\r\n          }\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          if (e.target.checked) {\r\n            this.source.push(e.target.value)\r\n            this.current_index.push(this.values.indexOf(e.target.value))\r\n            this.off_default = false\r\n            this.options.forEach(o => {\r\n              if (!o.checked) this.off_default = true\r\n            })\r\n          } else {\r\n            let i = this.source.indexOf(e.target.value)\r\n            if (i !== -1) {\r\n              this.off_default = true\r\n              this.source.splice(i, 1)\r\n              this.current_index.splice(i, 1)\r\n            }\r\n          }\r\n          request_queue(this.id)\r\n        },\r\n        adder: function (value, display, noadd) {\r\n          let e = document.createElement('div'),\r\n            s = 'TRUE' === this.e.getAttribute('data-switch')\r\n          e.className = 'form-check' + (s ? ' form-switch' : '')\r\n          e.appendChild(document.createElement('input'))\r\n          e.appendChild(document.createElement('label'))\r\n          e.firstElementChild.autocomplete = 'off'\r\n          e.firstElementChild.className = 'form-check-input'\r\n          if (s) e.firstElementChild.role = 'switch'\r\n          e.firstElementChild.type = 'checkbox'\r\n          e.firstElementChild.name = this.e.id + '_options'\r\n          e.firstElementChild.id = this.e.id + '_option' + this.e.childElementCount\r\n          e.firstElementChild.value = value\r\n          e.lastElementChild.innerText = display || site.data.format_label(value)\r\n          e.lastElementChild.className = 'form-check-label'\r\n          e.lastElementChild.setAttribute('for', e.firstElementChild.id)\r\n          if (!noadd) this.e.appendChild(e)\r\n          return e.firstElementChild\r\n        },\r\n      },\r\n      switch: {\r\n        retrieve: function () {\r\n          this.set(this.e.checked)\r\n        },\r\n        setter: function (v) {\r\n          if ('string' === typeof v) v = 'on' === v || 'true' === v\r\n          if (v !== this.source) {\r\n            this.previous = this.e.checked\r\n            this.e.checked = this.source = v\r\n            request_queue(this.id)\r\n          }\r\n        },\r\n        listener: function () {\r\n          this.set(this.e.checked)\r\n        },\r\n      },\r\n      number: {\r\n        init: function (o) {\r\n          const up = o.e.parentElement.parentElement.querySelector('.number-up')\r\n          const down = o.e.parentElement.parentElement.querySelector('.number-down')\r\n          if (down) {\r\n            down.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(Math.max(this.parsed.min, this.value() - 1))\r\n              }.bind(o)\r\n            )\r\n          }\r\n          if (up) {\r\n            up.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(Math.min(this.parsed.max, this.value() + 1))\r\n              }.bind(o)\r\n            )\r\n          }\r\n        },\r\n        retrieve: function () {\r\n          this.set(this.e.value)\r\n        },\r\n        setter: function (v, check) {\r\n          if (!v) v = null\r\n          if ('string' === typeof v) v = parseFloat(v)\r\n          if (isFinite(v) && v !== this.source) {\r\n            this.previous = parseFloat(this.e.value)\r\n            if (check) {\r\n              if (isFinite(this.parsed.min) && v < this.parsed.min) {\r\n                v = this.parsed.min\r\n              } else if (isFinite(this.parsed.max) && v > this.parsed.max) {\r\n                v = this.parsed.max\r\n              }\r\n            }\r\n            this.off_default = v !== this.current_default\r\n            this.e.value = this.source = v\r\n            this.current_index = v - this.parsed.min\r\n            if ('range' === this.e.type) {\r\n              this.e.nextElementSibling.firstElementChild.innerText = this.e.value\r\n            }\r\n            request_queue(this.id)\r\n          }\r\n        },\r\n        listener: function (e) {\r\n          this.set(this.e.value, true)\r\n        },\r\n      },\r\n      intext: {\r\n        retrieve: function () {\r\n          this.set(this.e.value)\r\n        },\r\n        setter: function (v, check) {\r\n          this.previous = this.e.value\r\n          this.e.value = this.source = v\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          this.set(this.e.value, true)\r\n        },\r\n      },\r\n      text: {\r\n        init: function (o) {\r\n          if (site.text && o.id in site.text) {\r\n            o.text = site.text[o.id].text\r\n            o.condition = site.text[o.id].condition || []\r\n            o.depends = new Map()\r\n            o.text.forEach(oi => {\r\n              if ('text' in oi) {\r\n                init_text(o, oi)\r\n                o.e.appendChild(oi.parts)\r\n              } else {\r\n                o.e.appendChild(document.createElement('span'))\r\n                oi.forEach(t => init_text(o, t))\r\n              }\r\n            })\r\n            o.condition.forEach(c => {\r\n              if (c.id in _u) add_dependency(c.id, {type: 'display', id: o.id})\r\n            })\r\n            o.depends.forEach(d => add_dependency(d.id, {type: 'update', id: o.id}))\r\n            o.update = elements.text.update.bind(o)\r\n          }\r\n          o.update()\r\n        },\r\n        update: function () {\r\n          Object.keys(this.reference_options).forEach(k => (this.options[k] = valueOf(this.reference_options[k])))\r\n          this.depends.forEach(d => {\r\n            d.parsed = valueOf(d.id)\r\n            if (d.u) {\r\n              if (d.u.options) {\r\n                d.parsed = d.u.options[d.u.values[d.parsed]].innerText\r\n              } else {\r\n                d.parsed =\r\n                  d.u.display && d.parsed in d.u.display ? d.u.display[d.parsed] : site.data.format_label(d.parsed)\r\n              }\r\n            } else if (d.parsed in site.data.entities) {\r\n              d.parsed = site.data.entities[d.parsed].features.name\r\n            }\r\n          })\r\n          this.text.forEach((o, i) => {\r\n            let pass = true\r\n            if (o.length) {\r\n              for (let t = o.length; t--; ) {\r\n                if ('condition' in o[t]) {\r\n                  for (let c = o[t].condition.length; c--; ) {\r\n                    pass = o[t].condition[c].check()\r\n                    if (!pass) break\r\n                  }\r\n                  if (pass) {\r\n                    o = o[t]\r\n                    break\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              if ('condition' in o) {\r\n                for (let t = o.condition.length; t--; ) {\r\n                  pass = o.condition[t].check()\r\n                  if (!pass) break\r\n                }\r\n              }\r\n            }\r\n            if (pass) {\r\n              o.text.forEach((k, i) => {\r\n                if (Array.isArray(k)) {\r\n                  k.forEach(ki => {\r\n                    if ('default' === ki.id || DataHandler.checks[ki.type](valueOf(ki.id), valueOf(ki.value)))\r\n                      k = ki.text\r\n                  })\r\n                }\r\n                if (this.depends.has(k)) {\r\n                  o.parts.children[i].innerText = this.depends.get(k).parsed\r\n                } else if (k in o.button) {\r\n                  let s = ''\r\n                  o.button[k].text.forEach(b => {\r\n                    s = (this.depends.has(b) ? this.depends.get(b).parsed : b) + s\r\n                  })\r\n                  o.parts.children[i].innerText = s\r\n                } else o.parts.children[i].innerText = k\r\n              })\r\n              if (this.text[i].length) {\r\n                this.e.children[i].innerHTML = ''\r\n                this.e.children[i].appendChild(o.parts)\r\n              } else o.parts.classList.remove('hidden')\r\n            } else o.parts.classList.add('hidden')\r\n          })\r\n        },\r\n      },\r\n      select: {\r\n        retrieve: function () {\r\n          this.set(this.e.selectedIndex)\r\n        },\r\n        setter: function (v) {\r\n          if ('string' === typeof v && !(v in this.values) && patterns.number.test(v)) v = Number(v)\r\n          if ('number' === typeof v) v = this.options[v] ? this.options[v].value : v\r\n          if (!(v in this.values) && v in this.display) v = this.options[this.display[v]].value\r\n          if (v !== this.source) {\r\n            this.e.selectedIndex = v in this.values ? this.values[v] : -1\r\n            this.source = v\r\n            request_queue(this.id)\r\n          }\r\n        },\r\n        listener: function (e) {\r\n          this.set(e.target.selectedIndex)\r\n        },\r\n        adder: function (value, display, meta, noadd) {\r\n          const e = document.createElement('option')\r\n          e.value = value\r\n          e.innerText = display || site.data.format_label(value)\r\n          if (meta && meta.info) {\r\n            e.title = meta.info.description || meta.info.short_description\r\n          }\r\n          if (!noadd) this.e.appendChild(e)\r\n          return e\r\n        },\r\n      },\r\n      combobox: {\r\n        create: function (label, options, settings, id) {\r\n          id = id || 'created_combobox_' + ++page.elementCount\r\n          const main = document.createElement('div')\r\n          let e = document.createElement('div'),\r\n            c = document.createElement('div')\r\n          if (settings) {\r\n            if (!site.combobox) site.combobox = {}\r\n            site.combobox[id] = settings\r\n          }\r\n          e.className = 'wrapper combobox-wrapper'\r\n          if (settings && settings.floating) {\r\n            e.appendChild(c)\r\n            c.className = 'form-floating'\r\n            c.dataset.of = id\r\n            e = c\r\n          }\r\n          e.appendChild(main)\r\n          main.id = id\r\n          main.setAttribute('data-autoType', 'combobox')\r\n          main.className = 'auto-input form-select combobox combobox-component'\r\n          main.role = 'combobox'\r\n          main.appendChild((c = document.createElement('div')))\r\n          c.className = 'combobox-selection combobox-component'\r\n          c.appendChild(document.createElement('span'))\r\n          c.lastElementChild.className = 'combobox-component'\r\n          c.lastElementChild.setAttribute('aria-live', 'assertive')\r\n          c.lastElementChild.setAttribute('aria-atomic', 'true')\r\n          c.lastElementChild.setAttribute('aria-role', 'log')\r\n          c.appendChild((c = document.createElement('input')))\r\n          c.setAttribute('aria-haspopup', 'listbox')\r\n          c.setAttribute('aria-expanded', 'false')\r\n          c.setAttribute('aria-controls', id + '-listbox')\r\n          c.className = 'combobox-input combobox-component'\r\n          c.type = 'text'\r\n          c.role = 'combobox'\r\n          c.id = id + '-input'\r\n          c.autocomplete = 'off'\r\n          if (settings && settings.clearable) {\r\n            e.firstElementChild.appendChild((c = document.createElement('button')))\r\n            c.type = 'button'\r\n            c.className = 'btn-close'\r\n            c.title = 'clear selection'\r\n          }\r\n          e.appendChild((c = document.createElement('div')))\r\n          c.className = 'combobox-options combobox-component'\r\n          c.setAttribute('aria-labelledby', id + '-label')\r\n          c.role = 'listbox'\r\n          c.tabindex = '-1'\r\n          c.id = id + '-listbox'\r\n          e.appendChild((c = document.createElement('label')))\r\n          c.id = id + '-label'\r\n          c.innerText = label\r\n          c.setAttribute('for', id + '-input')\r\n          elements.init_input(main)\r\n          const u = _u[id]\r\n          let n = 0\r\n          u.options = []\r\n          if (options)\r\n            if (Array.isArray(options)) {\r\n              options.forEach(o => {\r\n                const l = site.data.format_label(o)\r\n                u.display[l] = n\r\n                u.values[o] = n++\r\n                u.options.push(u.add(o, l))\r\n              })\r\n            } else {\r\n              u.groups = {e: [], by_name: {}}\r\n              Object.keys(options).forEach(k => {\r\n                const g = options[k]\r\n                const e = document.createElement('div'),\r\n                  id = u.id + '_group_' + k.replace(patterns.seps, '-')\r\n                e.className = 'combobox-group combobox-component'\r\n                e.setAttribute('aria-labelledby', id)\r\n                e.appendChild(document.createElement('label'))\r\n                e.firstElementChild.innerText = k\r\n                e.firstElementChild.id = id\r\n                e.firstElementChild.className = 'combobox-group-label combobox-component'\r\n                u.groups.by_name[k] = e\r\n                u.groups.e.push(e)\r\n                g.forEach(o => u.groups.by_name[k].appendChild(u.add(o, o, true)))\r\n                u.listbox.appendChild(e)\r\n              })\r\n              Object.keys(u.groups.by_name).forEach(g => {\r\n                u.groups.by_name[g].querySelectorAll('.combobox-option').forEach(c => {\r\n                  u.options.push(c)\r\n                  c.setAttribute('data-group', g)\r\n                  u.values[c.dataset.value] = n\r\n                  u.display[c.innerText] = n++\r\n                })\r\n              })\r\n            }\r\n          return u\r\n        },\r\n        init: function (o) {\r\n          o.hover_index = -1\r\n          o.cleared_selection = ''\r\n          o.expanded = false\r\n          o.settings.use_display = o.settings.search || o.settings.multi\r\n          o.listbox = o.e.parentElement.children[1]\r\n          o.options = o.listbox.querySelectorAll('.combobox-option')\r\n          if (o.options.length) {\r\n            o.values = {}\r\n            o.display = {}\r\n            o.options.forEach((e, i) => {\r\n              o.values[e.dataset.value] = i\r\n              o.display[e.innerText] = i\r\n            })\r\n            const group = o.listbox.querySelectorAll('.combobox-group')\r\n            if (group.length) {\r\n              o.groups = {e: [], by_name: {}}\r\n              group.forEach(e => {\r\n                const name = e.dataset.group\r\n                o.groups.e[name] = e\r\n                o.groups.by_name[name] = e\r\n              })\r\n            }\r\n          }\r\n          o.container = document.createElement('div')\r\n          o.container.className = 'combobox-options-container combobox-component hidden'\r\n          page.overlay.appendChild(o.container)\r\n          o.container.appendChild(o.listbox)\r\n          o.selection = o.e.firstElementChild.firstElementChild\r\n          o.input_element = o.e.firstElementChild.lastElementChild\r\n          if (2 === o.e.childElementCount) {\r\n            o.e.lastElementChild.addEventListener(\r\n              'click',\r\n              function () {\r\n                if (!this.e.classList.contains('locked')) {\r\n                  this.cleared_selection = ''\r\n                  this.set([])\r\n                  this.input_element.focus()\r\n                }\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.value = function () {\r\n            return this.source\r\n              ? this.settings.multi\r\n                ? this.source\r\n                : this.source.length\r\n                ? this.source[0]\r\n                : ''\r\n              : valueOf(this.default)\r\n          }.bind(o)\r\n          o.set_selected = function (value) {\r\n            if (value in this.values) {\r\n              const option = this.options[this.values[value]]\r\n              option.classList.add('selected')\r\n              option.setAttribute('aria-selected', 'true')\r\n            }\r\n          }.bind(o)\r\n          o.input_element.addEventListener(\r\n            'focus',\r\n            function () {\r\n              this.e.classList.add('focused')\r\n            }.bind(o)\r\n          )\r\n          o.input_element.addEventListener(\r\n            'blur',\r\n            function () {\r\n              this.e.classList.remove('focused')\r\n            }.bind(o)\r\n          )\r\n          o.listbox.addEventListener('click', o.set)\r\n          o.close = function (e) {\r\n            if (this.expanded && (!e || !e.target.classList || !e.target.classList.contains('combobox-component'))) {\r\n              if (this.settings.use_display && '' === this.selection.innerText && this.source.length)\r\n                this.selection.innerText = this.cleared_selection\r\n              if ('' !== this.input_element.value) setTimeout(this.set, 0)\r\n              this.e.setAttribute('aria-expanded', 'false')\r\n              this.expanded = false\r\n              this.container.classList.add('hidden')\r\n              window.removeEventListener('click', o.close)\r\n            }\r\n          }.bind(o)\r\n          o.resize = function () {\r\n            const s = this.e.getBoundingClientRect()\r\n            this.container.style.left = s.x + 'px'\r\n            this.container.style.width = s.width + 'px'\r\n            if (window.screen.height / 2 > s.y) {\r\n              this.container.style.top = s.y + s.height + 'px'\r\n              this.container.style.bottom = ''\r\n            } else {\r\n              this.container.style.top = ''\r\n              this.container.style.bottom = -s.y + 'px'\r\n            }\r\n          }.bind(o)\r\n          window.addEventListener('resize', o.resize)\r\n          o.toggle = function (e) {\r\n            if (!e.button && !this.e.classList.contains('disabled') && 'BUTTON' !== e.target.tagName) {\r\n              if (this.expanded) {\r\n                if (e.target !== this.input_element) this.close()\r\n              } else {\r\n                if (site.combobox)\r\n                  Object.keys(site.combobox).forEach(id => {\r\n                    if (id !== this.id) {\r\n                      const ou = _u[id]\r\n                      ou.expanded && ou.close()\r\n                    }\r\n                  })\r\n                this.container.classList.remove('hidden')\r\n                if ('' !== this.selection.innerText) this.cleared_selection = this.selection.innerText\r\n                if (this.cleared_selection in this.display)\r\n                  this.highlight({target: this.options[this.display[this.cleared_selection]]})\r\n                if (this.settings.use_display) this.selection.innerText = ''\r\n                window.addEventListener('click', this.close)\r\n                this.e.setAttribute('aria-expanded', 'true')\r\n                if (!e || e.target !== this.input_element) setTimeout(() => this.input_element.focus(), 0)\r\n                this.resize()\r\n                this.expanded = true\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.e.addEventListener('mousedown', o.toggle)\r\n          o.highlight = function (e) {\r\n            if (!e || !e.target || e.target.dataset.value in this.values) {\r\n              if (!this.groups) this.settings.accordion = false\r\n              if (e && e.target && e.target.dataset.value) {\r\n                this.hover_index = this.values[e.target.dataset.value]\r\n              } else if (-1 === this.hover_index && this.source) {\r\n                this.hover_index = this.values[this.source[0]]\r\n              }\r\n              if ('undefined' === typeof this.hover_index) this.hover_index = -1\r\n              const o = this.options[this.hover_index]\r\n              if (o) {\r\n                const previous = this.listbox.querySelector('.highlighted')\r\n                if (previous) previous.classList.remove('highlighted')\r\n                if (e && 'mouseover' === e.type) {\r\n                  e.target.classList.add('highlighted')\r\n                } else {\r\n                  o.classList.add('highlighted')\r\n                  if (this.settings.accordion) {\r\n                    const c = o.parentElement.parentElement\r\n                    if (!c.classList.contains('show')) {\r\n                      c.classList.add('show')\r\n                      c.previousElementSibling.firstElementChild.classList.remove('collapsed')\r\n                      c.previousElementSibling.firstElementChild.setAttribute('aria-expanded', 'true')\r\n                    }\r\n                  }\r\n                  this.input_element.setAttribute('aria-activedescendant', o.id)\r\n                  const port = this.container.getBoundingClientRect(),\r\n                    item = o.getBoundingClientRect()\r\n                  let top = port.top\r\n                  if (this.groups && o.getAttribute('data-group'))\r\n                    top +=\r\n                      this.groups.by_name[o.getAttribute('data-group')].firstElementChild.getBoundingClientRect().height\r\n                  if (top > item.top) {\r\n                    this.container.scrollTo(0, this.container.scrollTop + item.top - top)\r\n                  } else if (port.bottom < item.bottom) {\r\n                    this.container.scrollTo(0, this.container.scrollTop + item.bottom - port.bottom)\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.listbox.addEventListener('mouseover', o.highlight)\r\n          if (o.settings.accordion) {\r\n            o.listbox.addEventListener('show.bs.collapse', e => {\r\n              const group = o.hover_index === -1 ? '' : o.options[o.hover_index].getAttribute('data-group')\r\n              if (group !== e.target.getAttribute('data-group')) {\r\n                o.highlight({target: e.target.firstElementChild.firstElementChild})\r\n                o.input_element.focus()\r\n              }\r\n            })\r\n          }\r\n          o.clear_highlight = function () {\r\n            if (-1 !== this.hover_index) {\r\n              this.options[this.hover_index].classList.remove('highlighted')\r\n              this.hover_index = -1\r\n            }\r\n          }.bind(o)\r\n          o.filter_reset = function () {\r\n            if (this.groups)\r\n              this.groups.e.forEach(g => g.firstElementChild.firstElementChild.classList.remove('hidden'))\r\n            this.input_element.value = ''\r\n            this.filter_index = []\r\n            this.options.forEach((o, i) => {\r\n              if (!o.classList.contains('hidden')) this.filter_index.push(i)\r\n            })\r\n            this.listbox.querySelectorAll('.filter-hidden').forEach(o => o.classList.remove('filter-hidden'))\r\n          }.bind(o)\r\n          if (o.settings.search) {\r\n            o.filterer = function (e) {\r\n              const q = this.input_element.value.toLowerCase()\r\n              if ('' === q) {\r\n                this.filter_reset()\r\n              } else {\r\n                this.filter_index = []\r\n                if (this.groups) {\r\n                  this.groups.e.forEach(g => g.firstElementChild.firstElementChild.classList.add('hidden'))\r\n                }\r\n                this.options.forEach((o, i) => {\r\n                  if (!o.classList.contains('hidden') && o.innerText.toLowerCase().includes(q)) {\r\n                    o.classList.remove('filter-hidden')\r\n                    this.filter_index.push(i)\r\n                    const group = o.getAttribute('data-group')\r\n                    if (group) {\r\n                      this.groups.by_name[group].firstElementChild.firstElementChild.classList.remove('hidden')\r\n                      if (this.settings.accordion) {\r\n                        const g = this.groups.by_name[group]\r\n                        g.firstElementChild.nextElementSibling.classList.add('show')\r\n                        g.firstElementChild.firstElementChild.classList.remove('collapsed')\r\n                        g.firstElementChild.firstElementChild.setAttribute('aria-expanded', 'true')\r\n                      }\r\n                    }\r\n                  } else {\r\n                    o.classList.add('filter-hidden')\r\n                  }\r\n                })\r\n              }\r\n            }.bind(o)\r\n            o.input_element.addEventListener('keyup', o.filterer)\r\n          }\r\n          o.input_element.addEventListener(\r\n            'keydown',\r\n            function (e) {\r\n              const action = keymap[e.code]\r\n              if (action) {\r\n                if ('close' === action) {\r\n                  this.close()\r\n                } else if ('select' === action) {\r\n                  if (!this.expanded) return this.toggle({target: this.input_element})\r\n                  this.set(e)\r\n                } else if ('move' === action) {\r\n                  const value = this.input_element.value\r\n                  if (this.settings.strict || (this.expanded && '' === value)) {\r\n                    e.preventDefault()\r\n                    if ('ArrowUp' === e.code) {\r\n                      if (this.filter_index && this.filter_index.length) {\r\n                        this.hover_index = this.filter_index.indexOf(this.hover_index) - 1\r\n                        this.hover_index = this.filter_index[0 > this.hover_index ? 0 : this.hover_index]\r\n                      } else {\r\n                        this.hover_index = Math.max(0, this.hover_index - 1)\r\n                      }\r\n                    } else if ('ArrowDown' === e.code) {\r\n                      if (this.filter_index && this.filter_index.length) {\r\n                        this.hover_index = this.filter_index.indexOf(this.hover_index) + 1\r\n                        this.hover_index =\r\n                          this.filter_index[\r\n                            this.filter_index.length - 1 < this.hover_index\r\n                              ? this.filter_index.length - 1\r\n                              : this.hover_index\r\n                          ]\r\n                      } else {\r\n                        this.hover_index = Math.min(this.options.length - 1, this.hover_index + 1)\r\n                      }\r\n                    } else if ('Home' === e.code) {\r\n                      this.hover_index = 0\r\n                    } else if ('End' === e.code) {\r\n                      this.hover_index = this.options.length - 1\r\n                    }\r\n                    if (this.expanded) {\r\n                      this.highlight()\r\n                    } else {\r\n                      this.set(this.hover_index)\r\n                    }\r\n                  } else if (patterns.number.test(value)) {\r\n                    this.set(Number(value) + ('ArrowUp' === e.code ? 1 : -1))\r\n                  }\r\n                }\r\n              } else if (!this.expanded) {\r\n                this.toggle({target: this.input_element})\r\n              } else {\r\n                this.clear_highlight()\r\n              }\r\n            }.bind(o)\r\n          )\r\n        },\r\n        retrieve: function () {\r\n          this.source = []\r\n          this.listbox.querySelectorAll('.selected').forEach(o => this.source.push(o.dataset.value))\r\n          request_queue(this.id)\r\n        },\r\n        setter: function (v, toggle) {\r\n          if (!v) v = this.input_element.value\r\n          if (v.target && (this.settings.accordion ? 'BUTTON' : 'LABEL') === v.target.tagName) return void 0\r\n          let update = false,\r\n            i = -1\r\n          if (v.target) {\r\n            i = this.hover_index\r\n            if (\r\n              -1 !== i &&\r\n              (this.options[i].classList.contains('hidden') || this.options[i].classList.contains('filter-hidden'))\r\n            )\r\n              i = -1\r\n            v =\r\n              -1 === i\r\n                ? 'INPUT' === v.target.tagName\r\n                  ? this.input_element.value\r\n                  : v.target.dataset.value || v.target.innerText\r\n                : this.options[i].dataset.value || this.options[i].innerText\r\n            toggle = this.settings.multi\r\n          }\r\n          this.filter_reset()\r\n          if ('object' === typeof v) {\r\n            if (this.settings.multi) {\r\n              this.listbox.querySelectorAll('.selected').forEach(e => {\r\n                e.classList.remove('selected')\r\n                e.setAttribute('aria-selected', 'false')\r\n              })\r\n              this.source = -1 === v ? [] : v\r\n              v.forEach(this.set_selected)\r\n            } else v = v[0]\r\n          }\r\n          if (!Array.isArray(this.source)) this.source = []\r\n          if ('object' === typeof v && this.settings.multi) {\r\n            update = true\r\n          } else {\r\n            if (this.settings.strict && 'string' === typeof v && !(v in this.values) && patterns.number.test(v))\r\n              v = Number(v)\r\n            if ('number' !== this.value_type && 'number' === typeof v && this.options[v]) {\r\n              v = this.options[v].dataset.value\r\n            }\r\n            if ('string' === typeof v && v in this.display) v = this.options[this.display[v]].dataset.value\r\n            if (this.settings.strict && !(v in this.values)) v = this.default\r\n            i = this.source.indexOf(v)\r\n            if (-1 === i) {\r\n              update = true\r\n              if (-1 === v || '' === v) {\r\n                this.source = []\r\n              } else {\r\n                if (this.settings.multi) {\r\n                  this.source.push(v)\r\n                } else this.source[0] = v\r\n              }\r\n              if (v in this.values) {\r\n                if (!this.settings.multi) {\r\n                  const selected = this.listbox.querySelector('.selected')\r\n                  if (selected) {\r\n                    selected.classList.remove('selected')\r\n                    selected.setAttribute('aria-selected', 'false')\r\n                  }\r\n                }\r\n                this.set_selected(v)\r\n              }\r\n            } else if (toggle) {\r\n              update = true\r\n              this.source.splice(i, 1)\r\n              if (v in this.values) {\r\n                const selection = this.options[this.values[v]]\r\n                selection.classList.remove('selected')\r\n                selection.setAttribute('aria-selected', 'false')\r\n              }\r\n            }\r\n          }\r\n          if (!this.settings.multi && this.expanded) {\r\n            this.input_element.focus()\r\n            this.close()\r\n            this.filter_reset()\r\n          }\r\n          const display = this.source.length\r\n            ? this.settings.multi\r\n              ? this.source.length + ' of ' + this.options.length + ' selected'\r\n              : this.source[0] in this.values\r\n              ? this.options[this.values[this.source[0]]].firstChild.textContent\r\n              : this.settings.strict || -1 === this.source[0]\r\n              ? ''\r\n              : this.source[0]\r\n            : ''\r\n          if (this.settings.use_display) {\r\n            this.selection.innerText = display\r\n          } else {\r\n            this.input_element.value = display\r\n          }\r\n          if (this.onchange) this.onchange()\r\n          if (update) request_queue(this.id)\r\n        },\r\n        adder: function (value, display, noadd, meta) {\r\n          const e = document.createElement('div')\r\n          e.id = this.id + '_' + value\r\n          e.role = 'option'\r\n          e.setAttribute('aria-selected', 'false')\r\n          e.tabindex = '0'\r\n          e.className = 'combobox-option combobox-component'\r\n          e.dataset.value = value\r\n          e.innerText = display || site.data.format_label(value)\r\n          if (meta && meta.info) {\r\n            e.appendChild(document.createElement('p'))\r\n            e.lastElementChild.className = 'combobox-option-description combobox-component'\r\n            e.lastElementChild.innerText = meta.info.description || meta.info.short_description || ''\r\n          }\r\n          if (!noadd) this.listbox.appendChild(e)\r\n          return e\r\n        },\r\n      },\r\n      plotly: {\r\n        init: function (o) {\r\n          o.previous_span = 1\r\n          if (o.id in site.plotly) {\r\n            o.x = o.e.getAttribute('data-x')\r\n            o.y = o.e.getAttribute('data-y')\r\n            o.color = o.e.getAttribute('data-color')\r\n            o.time = o.e.getAttribute('data-colorTime')\r\n            o.click = o.e.getAttribute('data-click')\r\n            if (o.click in _u) o.clickto = _u[o.click]\r\n            o.parsed = {}\r\n            o.traces = {}\r\n            o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n            if (o.tab) {\r\n              document.getElementById(o.e.parentElement.getAttribute('aria-labelledby')).addEventListener(\r\n                'click',\r\n                function () {\r\n                  if (!this.e.parentElement.classList.contains('active')) {\r\n                    setTimeout(this.update, 155)\r\n                    setTimeout(trigger_resize, 155)\r\n                  }\r\n                }.bind(o)\r\n              )\r\n            }\r\n            o.show = function (e) {\r\n              o.revert()\r\n              let trace = make_data_entry(\r\n                this,\r\n                e,\r\n                0,\r\n                0,\r\n                'hover_line',\r\n                defaults['border_highlight_' + site.settings.theme_dark]\r\n              )\r\n              if (trace) {\r\n                trace.line.width = 4\r\n                trace.marker.size = 12\r\n                Plotly.addTraces(this.e, trace, this.e.data.length)\r\n              }\r\n            }\r\n            o.revert = function () {\r\n              if (this.e.data.length && 'hover_line' === this.e.data[this.e.data.length - 1].name)\r\n                Plotly.deleteTraces(this.e, this.e.data.length - 1)\r\n            }\r\n            if (o.options) site.plotly[o.id].u = o\r\n            site.plotly[o.id].data.forEach((p, i) => {\r\n              Object.keys(p).forEach(k => {\r\n                if (patterns.period.test(k)) {\r\n                  const es = k.split('.'),\r\n                    n = es.length - 1\r\n                  let pl = null\r\n                  es.forEach((e, ei) => {\r\n                    pl = pl ? (pl[e] = ei === n ? p[k] : {}) : (p[e] = {})\r\n                  })\r\n                }\r\n              })\r\n              if (!('textfont' in p)) p.textfont = {}\r\n              if (!('color' in p.textfont)) p.textfont.color = defaults.background_highlight\r\n              if (!('line' in p)) p.line = {}\r\n              if (!('color' in p.line)) p.line.color = defaults.background_highlight\r\n              if (!('marker' in p)) p.marker = {}\r\n              p.marker.size = 8\r\n              if (!('color' in p.marker)) p.marker.color = defaults.background_highlight\r\n              if (!('line' in p.marker)) p.marker.line = {}\r\n              if (!('color' in p.marker.line)) p.marker.line.color = defaults.background_highlight\r\n              if (!('text' in p)) p.text = []\r\n              if (!('x' in p)) p.x = []\r\n              if ('box' === p.type) {\r\n                p.hoverinfo = 'none'\r\n              } else if (!('y' in p)) p.y = []\r\n              o.traces[p.type] = JSON.stringify(p)\r\n              if (!i) {\r\n                o.base_trace = p.type\r\n                if (o.base_trace in _u) add_dependency(o.base_trace, {type: 'update', id: o.id})\r\n              }\r\n            })\r\n            if (o.x && !(o.x in site.data.variables)) {\r\n              add_dependency(o.x, {type: 'update', id: o.id})\r\n            }\r\n            if (o.y && !(o.y in site.data.variables)) {\r\n              add_dependency(o.y, {type: 'update', id: o.id})\r\n            }\r\n            if (o.color && !(o.color in site.data.variables)) {\r\n              add_dependency(o.color, {type: 'update', id: o.id})\r\n            }\r\n            if (o.time in _u) {\r\n              add_dependency(o.time, {type: 'update', id: o.id})\r\n            }\r\n            if (o.view) {\r\n              add_dependency(o.view, {type: 'update', id: o.id})\r\n              add_dependency(o.view + '_filter', {type: 'update', id: o.id})\r\n              if (_u[o.view].time_agg in _u) add_dependency(_u[o.view].time_agg, {type: 'update', id: o.id})\r\n            } else o.view = defaults.dataview\r\n            o.queue = this.queue_init.bind(o)()\r\n          }\r\n        },\r\n        queue_init: function () {\r\n          const showing = this.deferred || !this.tab || this.tab.classList.contains('show')\r\n          if (showing && window.Plotly) {\r\n            Plotly.newPlot(this.e, this.options)\r\n            this.e\r\n              .on('plotly_hover', elements.plotly.mouseover.bind(this))\r\n              .on('plotly_unhover', elements.plotly.mouseout.bind(this))\r\n              .on('plotly_click', elements.plotly.click.bind(this))\r\n            update_plot_theme(this)\r\n            this.update()\r\n          } else {\r\n            this.deferred = true\r\n            setTimeout(this.queue, showing ? 0 : 2000)\r\n          }\r\n        },\r\n        mouseover: function (d) {\r\n          if (d.points && 1 === d.points.length && this.e.data[d.points[0].fullData.index]) {\r\n            Plotly.restyle(this.e, {'line.width': 5}, d.points[0].fullData.index)\r\n            update_subs(this.id, 'show', site.data.entities[d.points[0].data.id])\r\n          }\r\n        },\r\n        mouseout: function (d) {\r\n          if (d.points && 1 === d.points.length && this.e.data[d.points[0].fullData.index]) {\r\n            Plotly.restyle(this.e, {'line.width': 2}, d.points[0].fullData.index)\r\n            update_subs(this.id, 'revert', site.data.entities[d.points[0].data.id])\r\n          }\r\n        },\r\n        click: function (d) {\r\n          this.clickto && this.clickto.set(d.points[0].data.id)\r\n        },\r\n        update: async function (pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show')) this.queue = setTimeout(() => this.update(true), 50)\r\n          } else {\r\n            if (this.e.layout) {\r\n              const v = _u[this.view],\r\n                s = v.selection && v.selection.all,\r\n                d = v.get.dataset(),\r\n                y = _u[this.time || v.time_agg],\r\n                parsed = this.parsed\r\n              if (site.data.inited[d] && s && v.time_range.filtered.length) {\r\n                parsed.base_trace = valueOf(this.base_trace)\r\n                parsed.x = valueOf(this.x)\r\n                parsed.y = valueOf(this.y)\r\n                parsed.color = valueOf(this.color || v.y || parsed.y)\r\n                const varx = await site.data.get_variable(parsed.x, this.view),\r\n                  vary = await site.data.get_variable(parsed.y, this.view),\r\n                  varcol = await site.data.get_variable(parsed.color, this.view)\r\n                parsed.x_range = varx.time_range[d]\r\n                parsed.y_range = vary.time_range[d]\r\n                parsed.view = v\r\n                parsed.dataset = d\r\n                parsed.palette = valueOf(v.palette) || site.settings.palette\r\n                if (!(parsed.palette in palettes)) parsed.palette = defaults.palette\r\n                parsed.time = (y ? y.value() - site.data.meta.times[d].range[0] : 0) - varcol.time_range[d][0]\r\n                parsed.summary = varcol.views[this.view].summaries[d]\r\n                const ns = parsed.summary.n,\r\n                  display_time = ns[parsed.time] ? parsed.time : 0,\r\n                  summary = vary.views[this.view].summaries[d],\r\n                  missing = parsed.summary.missing[display_time],\r\n                  n = ns[display_time],\r\n                  subset = n !== v.n_selected.dataset,\r\n                  rank = subset ? 'subset_rank' : 'rank',\r\n                  order = subset ? varcol.views[this.view].order[d][display_time] : varcol.info[d].order[display_time],\r\n                  traces = []\r\n                let i = parsed.summary.missing[display_time],\r\n                  k,\r\n                  b,\r\n                  fn = order ? order.length : 0,\r\n                  lim = site.settings.trace_limit || 0,\r\n                  jump,\r\n                  state =\r\n                    v.value() +\r\n                    v.get.time_filters() +\r\n                    d +\r\n                    parsed.x +\r\n                    parsed.y +\r\n                    parsed.time +\r\n                    parsed.palette +\r\n                    parsed.color +\r\n                    site.settings.summary_selection +\r\n                    site.settings.color_scale_center +\r\n                    site.settings.color_by_order +\r\n                    site.settings.trace_limit +\r\n                    site.settings.show_empty_times\r\n                lim = jump = lim && lim < n ? Math.ceil(Math.min(lim / 2, n / 2)) : 0\r\n                Object.keys(this.reference_options).forEach(k => (this.options[k] = valueOf(this.reference_options[k])))\r\n                for (; i < fn; i++) {\r\n                  if (order[i][0] in s) {\r\n                    k = order[i][0]\r\n                    const e = s[k]\r\n                    state += k\r\n                    traces.push(\r\n                      make_data_entry(this, e, e.views[this.view][rank][parsed.color][parsed.time] - missing, n)\r\n                    )\r\n                    if (lim && !--jump) break\r\n                  }\r\n                }\r\n                if (lim && i < fn) {\r\n                  for (jump = i, i = fn - 1; i > jump; i--) {\r\n                    if (order[i][0] in s) {\r\n                      k = order[i][0]\r\n                      const e = s[k]\r\n                      state += k\r\n                      traces.push(\r\n                        make_data_entry(this, e, e.views[this.view][rank][parsed.color][parsed.time] - missing, n)\r\n                      )\r\n                      if (!--lim) break\r\n                    }\r\n                  }\r\n                }\r\n                state += traces.length && traces[0].type\r\n                if (site.settings.boxplots && 'box' in this.traces && s[k]) {\r\n                  state += 'box' + site.settings.iqr_box\r\n                  b = JSON.parse(this.traces.box)\r\n                  traces.push(b)\r\n                  b.line.color = defaults.border\r\n                  b.median = summary.median\r\n                  b.q3 = summary.q3\r\n                  b.q1 = summary.q1\r\n                  if (site.settings.iqr_box) {\r\n                    b.upperfence = []\r\n                    b.lowerfence = []\r\n                    b.q1.forEach((q1, i) => {\r\n                      if (isNaN(b.median[i])) b.median[i] = 0\r\n                      const n = (b.q3[i] - q1) * 1.5,\r\n                        med = b.median[i]\r\n                      b.q3[i] = isNaN(b.q3[i]) ? med : Math.max(med, b.q3[i])\r\n                      b.upperfence[i] = b.q3[i] + n\r\n                      b.q1[i] = isNaN(b.q1[i]) ? med : Math.min(med, q1)\r\n                      b.lowerfence[i] = q1 - n\r\n                    })\r\n                  } else {\r\n                    b.upperfence = summary.max\r\n                    b.lowerfence = summary.min\r\n                  }\r\n                  if (site.settings.show_empty_times) {\r\n                    b.x = b.q1.map((_, i) => s[k].get_value(parsed.x, i + parsed.y_range[0]))\r\n                  } else {\r\n                    b.x = []\r\n                    for (i = b.q1.length; i--; ) {\r\n                      if (ns[i]) {\r\n                        b.x[i] = s[k].get_value(parsed.x, i + parsed.y_range[0])\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (state !== this.state) {\r\n                  if ('boolean' !== typeof this.e.layout.yaxis.title)\r\n                    this.e.layout.yaxis.title =\r\n                      site.data.format_label(parsed.y) +\r\n                      (site.settings.trace_limit < v.n_selected.all\r\n                        ? ' (' + site.settings.trace_limit + ' extremes)'\r\n                        : '')\r\n                  if ('boolean' !== typeof this.e.layout.xaxis.title)\r\n                    this.e.layout.xaxis.title = site.data.format_label(parsed.x)\r\n                  this.e.layout.yaxis.autorange = false\r\n                  this.e.layout.yaxis.range = [Infinity, -Infinity]\r\n                  if (!b) b = {upperfence: summary.max, lowerfence: summary.min}\r\n                  let any_skipped = false\r\n                  summary.min.forEach((min, i) => {\r\n                    if (site.settings.show_empty_times || ns[i]) {\r\n                      const l = Math.min(b.lowerfence[i], min),\r\n                        u = Math.max(b.upperfence[i], summary.max[i])\r\n                      if (this.e.layout.yaxis.range[0] > l) this.e.layout.yaxis.range[0] = l\r\n                      if (this.e.layout.yaxis.range[1] < u) this.e.layout.yaxis.range[1] = u\r\n                    } else any_skipped = true\r\n                  })\r\n                  const r = (this.e.layout.yaxis.range[1] - this.e.layout.yaxis.range[0]) / 10\r\n                  this.e.layout.yaxis.range[0] -= r\r\n                  this.e.layout.yaxis.range[1] += r\r\n                  if (this.e.layout.yaxis.range[1] > 100) {\r\n                    const yinfo = vary.info[d].info\r\n                    if (yinfo && 'percent' === (yinfo.aggregation_method || yinfo.type))\r\n                      this.e.layout.yaxis.range[1] = 100\r\n                  }\r\n                  if (site.data.variables[parsed.x].is_time) {\r\n                    const start = v.time_range.filtered[0],\r\n                      end = v.time_range.filtered[1],\r\n                      adj = any_skipped && end > start ? Math.log(end - start) : 0.5\r\n                    if (this.e.layout.xaxis.autorange) {\r\n                      this.e.layout.xaxis.autorange = false\r\n                      this.e.layout.xaxis.type = 'linear'\r\n                      this.e.layout.xaxis.dtick = 1\r\n                      this.e.layout.xaxis.range = [start - adj, end + adj]\r\n                    } else {\r\n                      this.e.layout.xaxis.range[0] = start - adj\r\n                      this.e.layout.xaxis.range[1] = end + adj\r\n                    }\r\n                  }\r\n                  if (b.lowerfence.length < this.previous_span) {\r\n                    Plotly.newPlot(this.e, traces, this.e.layout, this.e.config)\r\n                    this.e\r\n                      .on('plotly_hover', elements.plotly.mouseover.bind(this))\r\n                      .on('plotly_unhover', elements.plotly.mouseout.bind(this))\r\n                      .on('plotly_click', elements.plotly.click.bind(this))\r\n                  } else {\r\n                    Plotly.react(this.e, traces, this.e.layout, this.e.config)\r\n                  }\r\n                  setTimeout(trigger_resize, 300)\r\n                  this.previous_span = b.lowerfence.length\r\n                  this.state = state\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n      },\r\n      map: {\r\n        init: function (o) {\r\n          o.color = o.e.getAttribute('data-color')\r\n          o.time = o.e.getAttribute('data-colorTime')\r\n          o.click = o.e.getAttribute('data-click')\r\n          if (o.click && o.click in _u) o.clickto = _u[o.click]\r\n          o.parsed = {}\r\n          o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n          o.show = function (e) {\r\n            if (e.layer && e.layer[this.id]) {\r\n              const highlight_style = {\r\n                color: 'var(--border-highlight)',\r\n                weight: site.settings.polygon_outline + 1,\r\n                fillOpacity: 1,\r\n              }\r\n              if (!site.data.inited[this.parsed.dataset + o.id]) {\r\n                const time = site.map[this.id].match_time(\r\n                  site.data.meta.overall.value[\r\n                    site.data.variables[this.parsed.color].time_range[this.parsed.dataset][0] + this.parsed.time\r\n                  ]\r\n                )\r\n                if (e.layer[this.id][time]) e.layer[this.id][time].setStyle(highlight_style)\r\n              } else if (e.layer[this.id].setStyle) {\r\n                e.layer[this.id].setStyle(highlight_style)\r\n              }\r\n            }\r\n          }\r\n          o.revert = function (e) {\r\n            if (e.layer && e.layer[this.id]) {\r\n              const default_style = {\r\n                color: 'var(--border)',\r\n                weight: site.settings.polygon_outline,\r\n                fillOpacity: 0.7,\r\n              }\r\n              if (!site.data.inited[this.parsed.dataset + this.id]) {\r\n                const time = site.map[this.id].match_time(\r\n                  site.data.meta.overall.value[\r\n                    site.data.variables[this.parsed.color].time_range[this.parsed.dataset][0] + this.parsed.time\r\n                  ]\r\n                )\r\n                if (e.layer[this.id][time]) e.layer[this.id][time].setStyle(default_style)\r\n              } else {\r\n                e.layer[this.id].setStyle(default_style)\r\n              }\r\n            }\r\n          }\r\n          const dep = {type: 'update', id: o.id}\r\n          if (o.view) {\r\n            if (_u[o.view].time_agg in _u) add_dependency(_u[o.view].time_agg, dep)\r\n            if (_u[o.view].y) add_dependency(_u[o.view].y, dep)\r\n          } else o.view = defaults.dataview\r\n          add_dependency(o.view, dep)\r\n          if (o.color in _u) add_dependency(o.color, dep)\r\n          if (o.time) add_dependency(o.time, dep)\r\n          if (!o.e.style.height) o.e.style.height = o.options.height ? o.options.height : '400px'\r\n          if (o.options.overlays_from_measures && site.data.variable_info) {\r\n            if (!Array.isArray(site.map[o.id].overlays)) site.map[o.id].overlays = []\r\n            const overlays = site.map[o.id].overlays\r\n            Object.keys(site.data.variable_info).forEach(variable => {\r\n              const info = site.data.variable_info[variable]\r\n              if (info.layer && info.layer.source) {\r\n                if ('string' === typeof info.layer.source && patterns.time_ref.test(info.layer.source)) {\r\n                  const temp = info.layer.source\r\n                  info.layer.source = []\r\n                  for (\r\n                    let range = site.data.meta.ranges[variable], y = range[0], max = range[1] + 1, time;\r\n                    y < max;\r\n                    y++\r\n                  ) {\r\n                    time = site.data.meta.overall.value[y]\r\n                    info.layer.source.push({url: temp.replace(patterns.time_ref, time), time: time})\r\n                  }\r\n                }\r\n                patterns.time_ref.lastIndex = 0\r\n                const layer = {variable: variable, source: info.layer.source}\r\n                if (info.layer.filter && (Array.isArray(info.layer.filter) || info.layer.filter.feature))\r\n                  layer.filter = info.layer.filter\r\n                overlays.push(layer)\r\n              }\r\n            })\r\n          }\r\n          o.queue = this.queue_init.bind(o)()\r\n        },\r\n        queue_init: function () {\r\n          const theme = site.settings.theme_dark ? 'dark' : 'light',\r\n            showing = this.deferred || !this.tab || this.tab.classList.contains('show')\r\n          if (showing && window.L) {\r\n            this.map = L.map(this.e, this.options)\r\n            this.options = this.map.options\r\n            this.overlay = L.featureGroup().addTo(this.map)\r\n            this.displaying = L.featureGroup().addTo(this.map)\r\n            this.overlay_control = L.control\r\n              .layers()\r\n              .setPosition('topleft')\r\n              .addOverlay(this.overlay, 'Overlay')\r\n              .addTo(this.map)\r\n            this.tiles = {}\r\n            if (this.id in site.map) {\r\n              const tiles = site.map[this.id].tiles\r\n              site.map[this.id].u = this\r\n              if (tiles) {\r\n                if (tiles.url) {\r\n                  this.tiles[theme] = L.tileLayer(tiles.url, tiles.options)\r\n                  this.tiles[theme].addTo(this.map)\r\n                } else {\r\n                  Object.keys(tiles).forEach(k => {\r\n                    this.tiles[k] = L.tileLayer(tiles[k].url, tiles[k].options)\r\n                    if (theme === k) this.tiles[k].addTo(this.map)\r\n                  })\r\n                }\r\n              }\r\n              if (!('_raw' in site.map)) site.map._raw = {}\r\n              if (!('_queue' in site.map)) site.map._queue = {}\r\n              if (!('_layers' in site.map[this.id])) site.map[this.id]._layers = {}\r\n              const time = site.data.meta.overall.value[_u[this.view].parsed.time_agg],\r\n                by_time = []\r\n              site.map[this.id].shapes.forEach((shape, i) => {\r\n                const has_time = 'time' in shape\r\n                if (has_time) {\r\n                  if (!site.map[this.id].has_time) {\r\n                    site.map[this.id].has_time = true\r\n                    add_dependency(this.view, {type: 'update', id: this.id})\r\n                  }\r\n                  by_time.push(Number(shape.time))\r\n                }\r\n                let k = shape.name\r\n                if (!k) shape.name = k = site.metadata.datasets[i < site.metadata.datasets.length ? i : 0]\r\n                const mapId = k + (has_time ? shape.time : '')\r\n                if (!(mapId in site.map._queue)) site.map._queue[mapId] = shape\r\n                site.data.inited[mapId + this.id] = false\r\n                if (\r\n                  (site.data.loaded[k] || k === this.options.background_shapes) &&\r\n                  (k === mapId ||\r\n                    (time && site.map[this.id].match_time && shape.time == site.map[this.id].match_time(time)))\r\n                )\r\n                  retrieve_layer(this, shape)\r\n              })\r\n              if (site.map[this.id].has_time) {\r\n                by_time.sort()\r\n                site.map[this.id].match_time = function (time) {\r\n                  let i = by_time.length\r\n                  for (; i--; ) if (!i || by_time[i] <= time) break\r\n                  return by_time[i]\r\n                }.bind(by_time)\r\n              }\r\n              site.map[this.id].triggers = {}\r\n              site.map[this.id].overlay_summaries = {}\r\n              if (Array.isArray(site.map[this.id].overlays)) {\r\n                site.map[this.id].overlays.forEach(l => {\r\n                  if ('string' === typeof l.source) l.source = [{url: l.source}]\r\n                  const source = l.source\r\n                  source.forEach(s => {\r\n                    s.processed = false\r\n                    s.property_summaries = {}\r\n                    site.map._queue[s.url] = s\r\n                  })\r\n                  site.map[this.id].triggers[l.variable] = {source}\r\n                  const fs = l.filter\r\n                  if (fs) {\r\n                    const fa = Array.isArray(fs) ? fs : [fs]\r\n                    site.map[this.id].triggers[l.variable].filter = fa\r\n                    fa.forEach(f => {\r\n                      f.check = DataHandler.checks[f.operator]\r\n                    })\r\n                  }\r\n                })\r\n              }\r\n            }\r\n          } else {\r\n            this.deferred = true\r\n            setTimeout(this.queue, showing ? 0 : 2000)\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          e.target.setStyle({\r\n            color: 'var(--border-highlight)',\r\n          })\r\n          update_subs(this.id, 'show', site.data.entities[e.target.feature.properties[e.target.source.id_property]])\r\n        },\r\n        mouseout: function (e) {\r\n          update_subs(this.id, 'revert', site.data.entities[e.target.feature.properties[e.target.source.id_property]])\r\n          e.target.setStyle({\r\n            color: 'var(--border)',\r\n          })\r\n        },\r\n        click: function (e) {\r\n          if (this.clickto) this.clickto.set(e.target.feature.properties[e.target.source.id_property])\r\n        },\r\n        update: async function (entity, caller, pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show'))\r\n              this.queue = setTimeout(() => this.update(void 0, void 0, true), 50)\r\n          } else {\r\n            if (this.view && this.displaying) {\r\n              const parsed = this.parsed,\r\n                view = site.dataviews[this.view],\r\n                d = view.get.dataset(),\r\n                time = valueOf(view.time_agg),\r\n                map_time = site.map[this.id].has_time ? site.map[this.id].match_time(time) : '',\r\n                inited = d + map_time + this.id in site.data.inited,\r\n                mapId = inited ? d + map_time : d\r\n              if (site.map._queue && mapId in site.map._queue && !site.data.inited[mapId + this.id]) {\r\n                if (!inited || null !== time)\r\n                  retrieve_layer(this, site.map._queue[mapId], () => this.update(void 0, void 0, true))\r\n                return\r\n              }\r\n              if (!view.valid && site.data.inited[d]) {\r\n                view.state = ''\r\n                conditionals.dataview(view, void 0, true)\r\n              }\r\n              parsed.view = view\r\n              parsed.dataset = d\r\n              const vstate =\r\n                  view.value() +\r\n                  mapId +\r\n                  site.settings.background_shapes +\r\n                  site.settings.background_top +\r\n                  site.settings.background_polygon_outline +\r\n                  site.data.inited[this.options.background_shapes],\r\n                a = view.selection.all,\r\n                s = view.selection[site.settings.background_shapes && this.options.background_shapes ? 'ids' : 'all'],\r\n                c = valueOf(this.color || view.y)\r\n              if (site.settings.map_overlay && c in site.map[this.id].triggers) {\r\n                show_overlay(this, site.map[this.id].triggers[c], site.data.meta.overall.value[view.parsed.time_agg])\r\n              } else {\r\n                this.overlay_control.remove()\r\n                this.overlay.clearLayers()\r\n              }\r\n              if (site.data.inited[mapId + this.id] && s && view.valid) {\r\n                const ys = this.time\r\n                  ? _u[this.time]\r\n                  : view.time_agg\r\n                  ? view.time_agg in _u\r\n                    ? _u[view.time_agg]\r\n                    : parseInt(view.time_agg)\r\n                  : 0\r\n                parsed.palette = valueOf(view.palette) || site.settings.palette\r\n                if (!(parsed.palette in palettes)) parsed.palette = defaults.palette\r\n                const varc = await site.data.get_variable(c, this.view),\r\n                  summary = varc.views[this.view].summaries[d],\r\n                  time = (ys.parsed ? ys.value() - site.data.meta.times[d].range[0] : 0) - varc.time_range[d][0]\r\n                parsed.summary = summary\r\n                parsed.time = time\r\n                parsed.color = c\r\n                const subset = summary.n[ys] === view.n_selected.dataset ? 'rank' : 'subset_rank'\r\n                if (vstate !== this.vstate) {\r\n                  this.map._zoomAnimated = 'none' !== site.settings.map_animations\r\n                  Object.keys(this.reference_options).forEach(k => {\r\n                    this.options[k] = valueOf(this.reference_options[k])\r\n                    if ('zoomAnimation' === k) this.map._zoomAnimated = this.options[k]\r\n                  })\r\n                  this.displaying.clearLayers()\r\n                  this.fresh_shapes = true\r\n                  this.vstate = false\r\n                  let n = 0\r\n                  Object.keys(s).forEach(k => {\r\n                    const skl = s[k].layer\r\n                    if (skl && skl[this.id]) {\r\n                      const fg = k in a,\r\n                        cl = skl[this.id].has_time ? skl[this.id][map_time] : skl[this.id]\r\n                      if (cl && (fg || this.options.background_shapes === site.data.entities[k].group)) {\r\n                        n++\r\n                        cl.options.interactive = fg\r\n                        cl.addTo(this.displaying)\r\n                        if (fg) {\r\n                          if (site.settings.background_top) cl.bringToBack()\r\n                        } else {\r\n                          if (!site.settings.background_top) cl.bringToBack()\r\n                          cl.setStyle({\r\n                            fillOpacity: 0,\r\n                            color: 'var(--border-highlight)',\r\n                            weight: site.settings.background_polygon_outline,\r\n                          })\r\n                        }\r\n                        if (!this.vstate) this.vstate = vstate\r\n                      }\r\n                    }\r\n                  })\r\n                  this.overlay.bringToFront()\r\n                  if (n)\r\n                    if ('fly' === site.settings.map_animations) {\r\n                      setTimeout(() => this.map.flyToBounds(this.displaying.getBounds()), 400)\r\n                    } else {\r\n                      this.map.fitBounds(this.displaying.getBounds())\r\n                    }\r\n                }\r\n\r\n                // coloring\r\n                const k =\r\n                  c +\r\n                  this.vstate +\r\n                  parsed.palette +\r\n                  time +\r\n                  site.settings.polygon_outline +\r\n                  site.settings.color_by_order +\r\n                  site.settings.color_scale_center\r\n                if (k !== this.cstate) {\r\n                  this.cstate = k\r\n                  if (site.map[this.id]) {\r\n                    const ls = this.displaying._layers\r\n                    const n = summary.n[time]\r\n                    const missing = summary.missing[time]\r\n                    Object.keys(ls).forEach(id => {\r\n                      const lsi = ls[id]\r\n                      if (d === lsi.entity.group) {\r\n                        const e = a[lsi.entity.features.id],\r\n                          es = e && e.views[this.view][subset]\r\n                        lsi.setStyle({\r\n                          fillOpacity: 0.7,\r\n                          color: 'var(--border)',\r\n                          fillColor:\r\n                            e && c in es\r\n                              ? pal(e.get_value(c, time), parsed.palette, summary, time, es[c][time] - missing, n)\r\n                              : defaults.missing,\r\n                          weight: site.settings.polygon_outline,\r\n                        })\r\n                      }\r\n                    })\r\n                  } else {\r\n                    if (!('_waiting' in site.map)) site.map._waiting = {}\r\n                    if (!(d in site.map._waiting)) site.map._waiting[d] = []\r\n                    if (-1 === site.map._waiting[d].indexOf(this.id)) site.map._waiting[d].push(this.id)\r\n                    if (-1 === site.map._waiting[d].indexOf(this.view)) site.map._waiting[d].push(this.view)\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n      },\r\n      info: {\r\n        init: function (o) {\r\n          o.depends = {}\r\n          o.has_default = o.options.default && (o.options.default.title || o.options.default.body)\r\n          add_subs(o.view, o)\r\n          if (o.options.floating) {\r\n            document.body.appendChild(o.e)\r\n            o.e.classList.add('hidden')\r\n            document.addEventListener('mousemove', function (e) {\r\n              if (o.showing) {\r\n                const f = page.content.getBoundingClientRect()\r\n                o.e.style.top = (e.y > f.height / 2 ? e.y - o.e.getBoundingClientRect().height - 10 : e.y + 10) + 'px'\r\n                o.e.style.left = (e.x > f.width / 2 ? e.x - o.e.getBoundingClientRect().width - 10 : e.x + 10) + 'px'\r\n              }\r\n            })\r\n          }\r\n          o.show = function (e, u) {\r\n            this.update(e, u)\r\n            this.showing = true\r\n            if (this.options.floating) this.e.classList.remove('hidden')\r\n            if (this.parts.title) {\r\n              if (this.selection) {\r\n                this.parts.title.base.classList.add('hidden')\r\n              } else this.parts.title.default.classList.add('hidden')\r\n              this.parts.title.temp.classList.remove('hidden')\r\n            }\r\n            if (this.parts.body) {\r\n              if (this.selection) {\r\n                this.parts.body.base.classList.add('hidden')\r\n              } else this.parts.body.default.classList.add('hidden')\r\n              this.parts.body.temp.classList.remove('hidden')\r\n            }\r\n          }\r\n          o.revert = function () {\r\n            this.showing = false\r\n            if (this.options.floating) {\r\n              this.e.classList.add('hidden')\r\n            } else {\r\n              if (this.parts.title) {\r\n                if (this.selection) {\r\n                  this.parts.title.base.classList.remove('hidden')\r\n                } else if (this.has_default) this.parts.title.default.classList.remove('hidden')\r\n                this.parts.title.temp.classList.add('hidden')\r\n              }\r\n              if (this.parts.body) {\r\n                if (this.selection) {\r\n                  this.parts.body.base.classList.remove('hidden')\r\n                } else if (this.has_default) this.parts.body.default.classList.remove('hidden')\r\n                this.parts.body.temp.classList.add('hidden')\r\n              }\r\n            }\r\n          }\r\n          o.parts = {}\r\n          function parse_part(o, t) {\r\n            const p = {\r\n              parent: o,\r\n              text: t,\r\n              parsed: {},\r\n              ref: true,\r\n              selection: false,\r\n              get: function (entity, caller) {\r\n                if (this.ref) {\r\n                  if (entity)\r\n                    if ('features' in this.parsed) {\r\n                      return entity.features[this.parsed.features]\r\n                    } else if ('data' in this.parsed) {\r\n                      if ('value' === this.text) {\r\n                        this.parsed.data = valueOf(o.options.variable || caller.color || caller.y || _u[o.view].y)\r\n                      } else if (this.text in _u) this.parsed.data = valueOf(this.text)\r\n                      if (!(this.parsed.data in site.data.variables)) return this.parsed.data\r\n                      const info = site.data.variables[this.parsed.data],\r\n                        v = site.data.format_value(\r\n                          entity.get_value(this.parsed.data, this.parent.time),\r\n                          info && info.type ? patterns.int_types.test(info.type) : true\r\n                        )\r\n                      let type = info.meta.unit || info.meta.type\r\n                      if (info.meta.aggregation_method && !(type in value_types)) type = info.meta.aggregation_method\r\n                      return NaN !== v && type in value_types ? value_types[type](v) : v\r\n                    }\r\n                  if ('data' in this.parsed) {\r\n                    return site.data.meta.times[this.parent.dataset].value[this.parent.time_agg]\r\n                  } else if (\r\n                    'variables' in this.parsed &&\r\n                    (this.value_source || this.parent.v in site.data.variable_info)\r\n                  ) {\r\n                    return site.data.variable_info[valueOf(this.value_source || this.parent.v)][this.parsed.variables]\r\n                  }\r\n                  return this.text\r\n                } else return this.text\r\n              },\r\n            }\r\n            if ('value' === t) {\r\n              p.parsed.data = o.options.variable\r\n            } else if ('summary' === t) {\r\n              o.options.show_summary = true\r\n              p.parsed.summary = make_summary_table(o.e)\r\n            } else if ('filter' === t) {\r\n              const e = document.createElement('table')\r\n              e.className = 'info-filter'\r\n              p.parsed.filter = e\r\n            }\r\n            if (patterns.features.test(t)) {\r\n              p.parsed.features = t.replace(patterns.features, '')\r\n            } else if (patterns.data.test(t)) {\r\n              p.parsed.data = t.replace(patterns.data, '')\r\n            } else if (patterns.variables.test(t)) {\r\n              p.parsed.variables = t.replace(patterns.variables, '')\r\n            } else p.ref = false\r\n            return p\r\n          }\r\n          if (o.options.title) {\r\n            o.parts.title = parse_part(o, o.options.title)\r\n            if (\r\n              o.options.variable_info &&\r\n              'variables' in o.parts.title.parsed &&\r\n              patterns.measure_name.test(o.parts.title.parsed.variables)\r\n            ) {\r\n              o.parts.title.base = document.createElement('button')\r\n              o.parts.title.base.type = 'button'\r\n              o.parts.title.base.setAttribute('data-bs-toggle', 'modal')\r\n              o.parts.title.base.setAttribute('data-bs-target', '#variable_info_display')\r\n              o.parts.title.base.addEventListener('click', show_variable_info.bind(o))\r\n            } else o.parts.title.base = document.createElement('p')\r\n            o.parts.title.base.appendChild(document.createElement('span'))\r\n            o.parts.title.temp = document.createElement('p')\r\n            o.parts.title.default = document.createElement('p')\r\n            o.parts.title.temp.className =\r\n              o.parts.title.base.className =\r\n              o.parts.title.default.className =\r\n                'info-title hidden'\r\n            if (o.has_default && o.options.default.title) {\r\n              o.e.appendChild(o.parts.title.default)\r\n              o.parts.title.default.innerText = o.options.default.title\r\n            }\r\n            if (!o.parts.title.ref) o.parts.title.base.firstElementChild.innerText = o.parts.title.get()\r\n            o.e.appendChild(o.parts.title.base)\r\n            o.e.appendChild(o.parts.title.temp)\r\n            o.parts.title.base.classList.add('hidden')\r\n            o.parts.title.temp.classList.add('hidden')\r\n          }\r\n          if (o.options.body || (o.has_default && o.options.default.body)) {\r\n            o.parts.body = {\r\n              base: document.createElement('div'),\r\n              temp: document.createElement('div'),\r\n              default: document.createElement('div'),\r\n              rows: [],\r\n            }\r\n            o.parts.body.temp.className =\r\n              o.parts.body.base.className =\r\n              o.parts.body.default.className =\r\n                'info-body hidden'\r\n            if (o.has_default && o.options.default.body) o.parts.body.default.innerText = o.options.default.body\r\n            let h = 0\r\n            o.options.body &&\r\n              o.options.body.forEach((op, i) => {\r\n                const p = {\r\n                  name: parse_part(o, op.name),\r\n                  value: parse_part(o, op.value),\r\n                }\r\n                o.parts.body.rows[i] = p\r\n                p.base = document.createElement('div')\r\n                o.parts.body.base.appendChild(p.base)\r\n                p.temp = document.createElement('div')\r\n                o.parts.body.temp.appendChild(p.temp)\r\n                p.temp.className = p.base.className = 'info-body-row-' + op.style\r\n                h += 24 + ('stack' === op.style ? 24 : 0)\r\n                if (p.name) {\r\n                  if (\r\n                    o.options.variable_info &&\r\n                    'variables' in p.name.parsed &&\r\n                    patterns.measure_name.test(p.name.parsed.variables)\r\n                  ) {\r\n                    p.base.appendChild(document.createElement('button'))\r\n                    p.base.lastElementChild.type = 'button'\r\n                    p.base.lastElementChild.setAttribute('data-bs-toggle', 'modal')\r\n                    p.base.lastElementChild.setAttribute('data-bs-target', '#variable_info_display')\r\n                    p.base.lastElementChild.addEventListener('click', show_variable_info.bind(o))\r\n                  } else p.base.appendChild(document.createElement('div'))\r\n                  p.temp.appendChild(document.createElement('div'))\r\n                  p.temp.lastElementChild.className = p.base.lastElementChild.className = 'info-body-row-name'\r\n                  p.temp.lastElementChild.innerText = p.base.lastElementChild.innerText = p.name.get()\r\n                }\r\n                if (p.value) {\r\n                  p.base.appendChild(document.createElement('div'))\r\n                  p.temp.appendChild(document.createElement('div'))\r\n                  if ('summary' in p.value.parsed) {\r\n                    p.base.lastElementChild.appendChild(p.value.parsed.summary)\r\n                  } else if ('filter' in p.value.parsed) {\r\n                    p.base.lastElementChild.appendChild(p.value.parsed.filter)\r\n                  } else {\r\n                    p.temp.lastElementChild.className = p.base.lastElementChild.className =\r\n                      'info-body-row-value' + ('statement' === p.value.parsed.variables ? ' statement' : '')\r\n                    if (p.name.ref && 'value' === p.value.text) p.value.ref = true\r\n                    if (!p.value.ref)\r\n                      p.temp.lastElementChild.innerText = p.base.lastElementChild.innerText = p.value.get()\r\n                  }\r\n                }\r\n              })\r\n            o.e.style.minHeight = h + 'px'\r\n            o.e.appendChild(o.parts.body.base)\r\n            o.e.appendChild(o.parts.body.default)\r\n            o.e.appendChild(o.parts.body.temp)\r\n          }\r\n          o.update()\r\n        },\r\n        update: async function (entity, caller, pass) {\r\n          const v = site.dataviews[this.view]\r\n          const y = _u[v.time_agg]\r\n          this.v = valueOf(this.options.variable || (caller && (caller.color || caller.y)) || v.y)\r\n          this.dataset = v.get.dataset()\r\n          if (y && !(this.dataset in site.data.meta.times)) {\r\n            if (!(this.id in site.data.data_queue[this.dataset]))\r\n              site.data.data_queue[this.dataset][this.id] = this.update\r\n            return\r\n          }\r\n          this.time_agg = y ? y.value() - site.data.meta.times[this.dataset].range[0] : 0\r\n          const time_range = this.v in site.data.variables && site.data.variables[this.v].time_range[this.dataset]\r\n          this.time = time_range ? this.time_agg - time_range[0] : 0\r\n          if (this.options.show_summary) {\r\n            this.var = this.v && (await site.data.get_variable(this.v, this.view))\r\n            this.summary = this.view in this.var.views && this.var.views[this.view].summaries[this.dataset]\r\n          }\r\n          if (!this.processed) {\r\n            this.processed = true\r\n            if (!this.options.floating) {\r\n              add_dependency(this.view, {type: 'update', id: this.id})\r\n              if (v.y in _u) add_dependency(v.y, {type: 'update', id: this.id})\r\n              if (y) add_dependency(v.time_agg, {type: 'update', id: this.id})\r\n              if (this.options.variable in _u) add_dependency(this.options.variable, {type: 'update', id: this.id})\r\n            }\r\n            if (this.parts.body)\r\n              this.parts.body.rows.forEach(p => {\r\n                if (!p.value.ref && p.value.text in _u && 'variables' in p.name.parsed) {\r\n                  p.name.value_source = p.value.value_source = p.value.text\r\n                  p.value.ref = true\r\n                  p.value.parsed.data = ''\r\n                }\r\n              })\r\n          }\r\n          if (entity) {\r\n            // hover information\r\n            if (this.parts.title) {\r\n              this.parts.title.temp.innerText = this.parts.title.get(entity, caller)\r\n            }\r\n            if (this.parts.body) {\r\n              this.parts.body.rows.forEach(p => {\r\n                if (p.name.ref) {\r\n                  if (p.name.value_source) p.name.value_source = p.value.text\r\n                  e = p.name.get(entity, caller)\r\n                  if ('object' !== typeof e) {\r\n                    p.temp.firstElementChild.innerText = parse_variables(e, p.value.parsed.variables, this, entity)\r\n                  }\r\n                }\r\n                if (p.value.ref) {\r\n                  if (p.value.value_source) p.value.value_source = p.value.text\r\n                  e = p.value.get(entity, caller)\r\n                  if ('object' !== typeof e) {\r\n                    p.temp.lastElementChild.innerText = parse_variables(e, p.value.parsed.variables, this, entity)\r\n                  }\r\n                }\r\n              })\r\n            }\r\n          } else if (!this.options.floating) {\r\n            if (this.queue > 0) clearTimeout(this.queue)\r\n            this.queue = -1\r\n            if (!pass) {\r\n              if (!this.tab || this.tab.classList.contains('show'))\r\n                this.queue = setTimeout(() => this.update(void 0, void 0, true), 50)\r\n            } else {\r\n              // base information\r\n              entity = site.data.entities[v.get.ids(true)]\r\n              if (entity) {\r\n                // when showing a selected region\r\n                this.selection = true\r\n                if (this.parts.title) {\r\n                  if (this.parts.title.value_source) p.title.value_source = p.value.text\r\n                  this.parts.title.base.classList.remove('hidden')\r\n                  this.parts.title.default.classList.add('hidden')\r\n                }\r\n                if (this.parts.body && this.has_default) this.parts.body.default.classList.add('hidden')\r\n              } else {\r\n                // when no ID is selected\r\n                this.selection = false\r\n                if (this.parts.title) {\r\n                  if (this.has_default) {\r\n                    this.parts.title.base.classList.add('hidden')\r\n                    this.parts.title.default.classList.remove('hidden')\r\n                  } else if (!this.parts.title.ref || !('features' in this.parts.title.parsed))\r\n                    this.parts.title.base.classList.remove('hidden')\r\n                }\r\n                if (this.parts.body) {\r\n                  this.parts.body.base.classList.add('hidden')\r\n                  if (this.has_default) this.parts.body.default.classList.remove('hidden')\r\n                }\r\n              }\r\n              if (this.parts.title) {\r\n                this.parts.title.base.firstElementChild.innerText = this.parts.title.get(entity, caller)\r\n              }\r\n              if (this.parts.body) {\r\n                if (!this.options.subto) this.parts.body.base.classList.remove('hidden')\r\n                this.parts.body.rows.forEach(p => {\r\n                  if ('summary' in p.value.parsed) {\r\n                    fill_summary_table(p.value.parsed.summary, this.summary, this.time)\r\n                  } else if ('filter' in p.value.parsed) {\r\n                    const e = p.value.parsed.filter\r\n                    let n = 0\r\n                    e.innerHTML = ''\r\n                    if (_u._entity_filter.selected.length) {\r\n                      n++\r\n                      const s = document.createElement('tr')\r\n                      s.className = 'filter-display'\r\n                      let ss = document.createElement('td')\r\n                      s.appendChild(ss)\r\n                      ss.appendChild(document.createElement('span'))\r\n                      ss.lastElementChild.className = 'syntax-variable'\r\n                      ss.lastElementChild.innerText = 'Select Entities'\r\n                      ss = document.createElement('td')\r\n                      s.appendChild(ss)\r\n                      ss.appendChild(document.createElement('span'))\r\n                      ss.lastElementChild.className = 'syntax-operator'\r\n                      ss.lastElementChild.innerText = ':'\r\n                      ss = document.createElement('td')\r\n                      s.appendChild(ss)\r\n                      ss.setAttribute('colspan', 2)\r\n                      ss.appendChild(document.createElement('span'))\r\n                      ss.lastElementChild.className = 'syntax-value'\r\n                      let ids = ''\r\n                      _u._entity_filter.selected.forEach(id => {\r\n                        const entity = site.data.entities[id]\r\n                        ids += (ids ? ', ' : '') + (entity && entity.features ? entity.features.name : id)\r\n                      })\r\n                      ss.lastElementChild.innerText = ids\r\n                      e.appendChild(s)\r\n                    }\r\n                    _u._base_filter.c.forEach(f => {\r\n                      const checked = f.passed + f.failed\r\n                      if (f.active && checked) {\r\n                        const result = f.passed + '/' + checked\r\n                        f.e.children[1].lastElementChild.innerText = result\r\n                        n++\r\n                        const s = document.createElement('tr'),\r\n                          info = site.data.variable_info[f.variable]\r\n                        s.className = 'filter-display'\r\n                        let ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-variable'\r\n                        ss.lastElementChild.title = f.variable\r\n                        ss.lastElementChild.innerText = info.short_name\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.innerText = ' ('\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-component'\r\n                        ss.lastElementChild.innerText = f.component\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.innerText = ')'\r\n                        ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-operator'\r\n                        ss.lastElementChild.innerText = f.operator\r\n                        ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-value'\r\n                        ss.lastElementChild.innerText =\r\n                          'number' === typeof f.value ? site.data.format_value(f.value) : f.value\r\n                        ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.innerText =\r\n                          '(' + (f.value_source ? f.value_source + '; ' : '') + result + ')'\r\n                        e.appendChild(s)\r\n                      }\r\n                    })\r\n                    this.e.classList[n ? 'remove' : 'add']('hidden')\r\n                  }\r\n                  if (('variables' in p.value.parsed || 'summary' in p.value.parsed) && !(v.y in this.depends)) {\r\n                    this.depends[v.y] = true\r\n                    add_dependency(v.y, {type: 'update', id: this.id})\r\n                  } else if ('filter' in p.value.parsed && !('_base_filter' in this.depends)) {\r\n                    this.depends._base_filter = true\r\n                    add_dependency('_base_filter', {type: 'update', id: this.id})\r\n                  }\r\n                  if (p.name.ref) {\r\n                    if (p.name.value_source) p.name.value_source = p.value.text\r\n                    const e = p.name.get(entity, caller)\r\n                    if ('object' !== typeof e) {\r\n                      p.base.firstElementChild.innerText = e\r\n                    }\r\n                  }\r\n                  if (p.value.ref) {\r\n                    const e = p.value.get(entity, caller)\r\n                    if ('object' === typeof e) {\r\n                      if (Array.isArray(e) && 'sources' === p.value.parsed.variables) {\r\n                        p.base.innerHTML = ''\r\n                        p.base.appendChild(document.createElement('table'))\r\n                        p.base.lastElementChild.className = 'source-table'\r\n                        p.base.firstElementChild.appendChild(document.createElement('thead'))\r\n                        p.base.firstElementChild.firstElementChild.appendChild(document.createElement('tr'))\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.appendChild(\r\n                          document.createElement('th')\r\n                        )\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.appendChild(\r\n                          document.createElement('th')\r\n                        )\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.firstElementChild.innerText =\r\n                          'Source'\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.lastElementChild.innerText =\r\n                          'Accessed'\r\n                        p.base.firstElementChild.appendChild(document.createElement('tbody'))\r\n                        e.forEach(ei => {\r\n                          p.base.firstElementChild.lastElementChild.appendChild(make_variable_source(ei, true))\r\n                        })\r\n                      }\r\n                    } else {\r\n                      p.base.lastElementChild.innerText = parse_variables(e, p.value.parsed.variables, this, entity)\r\n                    }\r\n                  }\r\n                })\r\n              }\r\n            }\r\n          }\r\n          this.revert()\r\n        },\r\n      },\r\n      datatable: {\r\n        init: function (o) {\r\n          o.e.appendChild(document.createElement('thead'))\r\n          o.e.appendChild(document.createElement('tbody'))\r\n          o.click = o.e.getAttribute('data-click')\r\n          o.features = o.options.features\r\n          o.parsed = {summary: {}, order: [], time: -1, color: '', dataset: _u[o.view].get.dataset(), time_index: {}}\r\n          o.header = []\r\n          o.rows = {}\r\n          o.rowIds = {}\r\n          o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n          const time = site.data.meta.times[o.parsed.dataset]\r\n          o.style = document.head.appendChild(document.createElement('style'))\r\n          if (o.tab) {\r\n            document.getElementById(o.e.parentElement.getAttribute('aria-labelledby')).addEventListener(\r\n              'click',\r\n              function () {\r\n                if (!this.e.parentElement.classList.contains('active')) {\r\n                  setTimeout(this.update, 155)\r\n                  setTimeout(trigger_resize, 155)\r\n                }\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.e.addEventListener('mouseover', elements.datatable.mouseover.bind(o))\r\n          o.e.addEventListener('mouseout', elements.datatable.mouseout.bind(o))\r\n          if (o.click) {\r\n            if (o.click in _u) o.clickto = _u[o.click]\r\n            o.e.addEventListener('click', elements.datatable.click.bind(o))\r\n          }\r\n          o.show = function (e) {\r\n            if (e.features && e.features.id in this.rows) {\r\n              if (site.settings.table_autoscroll) {\r\n                this.rows[e.features.id].scrollTo('smooth' === site.settings.table_scroll_behavior)\r\n              }\r\n              if (this.pending > 0) clearTimeout(this.pending)\r\n              this.pending = -1\r\n              const row = this.rows[e.features.id].node()\r\n              if (row) {\r\n                row.classList.add('highlighted')\r\n              } else {\r\n                this.pending = setTimeout(\r\n                  function () {\r\n                    const row = this.node()\r\n                    if (row) row.classList.add('highlighted')\r\n                  }.bind(this.rows[e.features.id]),\r\n                  0\r\n                )\r\n              }\r\n            }\r\n          }\r\n          o.revert = function () {\r\n            if (this.pending > 0) clearTimeout(this.pending)\r\n            this.e.querySelectorAll('tr.highlighted').forEach(e => e.classList.remove('highlighted'))\r\n          }\r\n          o.options.variable_source = o.options.variables\r\n          if (o.options.variables) {\r\n            if ('string' === typeof o.options.variables) {\r\n              if (o.options.variables in _u) {\r\n                add_dependency(o.options.variables, {type: 'update', id: o.id})\r\n                o.options.variables = valueOf(o.options.variables)\r\n                o.options.single_variable = 'string' === typeof o.options.variables\r\n              } else if (!o.options.single_variable) {\r\n                o.options.single_variable = [{name: o.options.single_variable}]\r\n              }\r\n            }\r\n          } else o.options.variables = Object.keys(site.data.variables)\r\n          if (\r\n            'string' !== typeof o.options.variables &&\r\n            o.options.variables.length &&\r\n            'string' === o.options.variables[0]\r\n          ) {\r\n            o.options.variables = o.options.variables.map(v => {\r\n              name: v\r\n            })\r\n          }\r\n          if (o.options.single_variable) {\r\n            const c = o.options.variables,\r\n              k = c.name || c\r\n            o.header.push({title: 'Name', data: 'entity.features.name'})\r\n            if (time && time.is_single) o.variable_header = true\r\n            const t = k in site.data.variables && site.data.variables[k].time_range[o.parsed.dataset]\r\n            if (t)\r\n              for (let n = t[1] - t[0] + 1; n--; ) {\r\n                o.header[n + 1] = {\r\n                  title: o.variable_header ? c.title || site.data.format_label(k) : time.value[n + t[0]] + '',\r\n                  data: site.data.get_value,\r\n                  render: DataHandler.retrievers.row_time.bind({\r\n                    i: n,\r\n                    o: t[0],\r\n                    format_value: site.data.format_value.bind(site.data),\r\n                  }),\r\n                }\r\n              }\r\n            o.options.order = [[o.header.length - 1, 'dsc']]\r\n          } else if (o.options.wide) {\r\n            if (o.features) {\r\n              if ('string' === typeof o.features) o.features = [{name: o.features}]\r\n              o.features.forEach(f => {\r\n                o.header.push({\r\n                  title: f.title || f.name,\r\n                  data: 'entity.features.' + f.name.replace(patterns.all_periods, '\\\\.'),\r\n                })\r\n              })\r\n            }\r\n            for (let i = o.options.variables.length; i--; ) {\r\n              if ('string' === typeof o.options.variables[i]) o.options.variables[i] = {name: o.options.variables[i]}\r\n              const c = o.options.variables[i]\r\n              if (!c.source) c.source = c.name in site.data.variables ? 'data' : 'features'\r\n              o.header.push(\r\n                'features' === c.source\r\n                  ? {\r\n                      title: c.title || site.data.format_label(c.name),\r\n                      data: 'entity.features.' + c.name.toLowerCase().replace(patterns.all_periods, '\\\\.'),\r\n                    }\r\n                  : {\r\n                      title: c.title || site.data.format_label(c.name),\r\n                      render: async function (d, type, row) {\r\n                        if ('data' === this.c.source) {\r\n                          if (this.c.name in site.data.variables) {\r\n                            const v = await site.data.get_variable(this.c.name, this.o.view)\r\n                            const i = row.time - v.time_range[this.o.parsed.dataset][0]\r\n                            return i < 0 ? NaN : row.entity.get_value(this.c.name, i)\r\n                          } else return NaN\r\n                        } else\r\n                          return this.c.source in row.entity && this.c.name in row.entity[this.c.source]\r\n                            ? row.entity[this.c.source][this.c.name]\r\n                            : NaN\r\n                      }.bind({o, c}),\r\n                    }\r\n              )\r\n            }\r\n          } else {\r\n            o.filters = o.options.filters\r\n            o.current_filter = {}\r\n            if (!time.is_single) {\r\n              o.header.push({\r\n                title: 'Year',\r\n                data: 'entity.time.value',\r\n                render: function (d, type, row) {\r\n                  const t = row.time + row.offset\r\n                  return d && t >= 0 && t < d.length ? d[t] : NaN\r\n                },\r\n              })\r\n            }\r\n            if (o.features) {\r\n              if ('string' === typeof o.features) o.features = [{name: o.features}]\r\n              o.features.forEach(f => {\r\n                o.header.splice(0, 0, {\r\n                  title: f.title || f.name,\r\n                  data: 'entity.features.' + f.name.replace(patterns.all_periods, '\\\\.'),\r\n                })\r\n              })\r\n            }\r\n            o.header.push({\r\n              title: 'Variable',\r\n              data: function (row) {\r\n                return row.variable in row.entity.variables\r\n                  ? row.entity.variables[row.variable].meta.short_name\r\n                  : row.variable\r\n              },\r\n            })\r\n            o.header.push({\r\n              title: 'Value',\r\n              data: site.data.get_value,\r\n              render: function (d, type, row) {\r\n                return d\r\n                  ? 'number' === typeof d[row.time]\r\n                    ? site.data.format_value(d[row.time], row.int)\r\n                    : d[row.time]\r\n                  : ''\r\n              },\r\n            })\r\n          }\r\n          if (o.view) {\r\n            add_dependency(o.view, {type: 'update', id: o.id})\r\n            add_dependency(o.view + '_filter', {type: 'update', id: o.id})\r\n            add_dependency(_u[o.view].time_agg, {type: 'update', id: o.id})\r\n          } else o.view = defaults.dataview\r\n          o.queue = this.queue_init.bind(o)()\r\n        },\r\n        queue_init: function () {\r\n          const showing = this.deferred || !this.tab || this.tab.classList.contains('show')\r\n          if (showing && window.jQuery && window.DataTable && 'get' in site.dataviews[this.view]) {\r\n            this.options.columns = this.header\r\n            this.table = $(this.e).DataTable(this.options)\r\n            this.update()\r\n          } else {\r\n            this.deferred = true\r\n            setTimeout(this.queue, showing ? 0 : 2000)\r\n          }\r\n        },\r\n        update: async function (pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show')) this.queue = setTimeout(() => this.update(true), 50)\r\n          } else {\r\n            if (this.table) {\r\n              let vn =\r\n                this.options.variable_source &&\r\n                valueOf(this.options.variable_source).replace(patterns.all_periods, '\\\\.')\r\n              const v = _u[this.view],\r\n                d = v.get.dataset()\r\n              if (!site.data.inited[d]) return\r\n              const times = site.data.meta.times[d],\r\n                state =\r\n                  d +\r\n                  v.value() +\r\n                  v.get.time_filters() +\r\n                  site.settings.digits +\r\n                  vn +\r\n                  site.settings.theme_dark +\r\n                  site.settings.show_empty_times,\r\n                update = state !== this.state,\r\n                time = valueOf(v.time_agg),\r\n                variable = await site.data.get_variable(vn, this.view)\r\n              this.parsed.time_range = variable ? variable.time_range[d] : times.info.time_range[d]\r\n              this.parsed.time = ('number' === typeof time ? time - times.range[0] : 0) - this.parsed.time_range[0]\r\n              if (update) {\r\n                this.rows = {}\r\n                this.rowIds = {}\r\n                this.table.clear()\r\n                let redraw = true\r\n                if (v.valid) {\r\n                  this.state = state\r\n                  Object.keys(this.reference_options).forEach(\r\n                    k => (this.options[k] = valueOf(this.reference_options[k]))\r\n                  )\r\n                  if (this.options.single_variable) {\r\n                    this.parsed.time_index = {}\r\n                    this.parsed.dataset = d\r\n                    this.parsed.color = vn\r\n                    this.parsed.summary = this.view in variable.views ? variable.views[this.view].summaries[d] : false\r\n                    this.parsed.order =\r\n                      this.view in variable.views ? variable.views[this.view].order[d][this.parsed.time] : false\r\n                    if (this.header.length < 2 || d !== this.header[1].dataset || vn !== this.header[1].variable) {\r\n                      this.table.destroy()\r\n                      $(this.e).empty()\r\n                      this.header = [{title: 'Name', data: 'entity.features.name', type: 'string'}]\r\n                      if (-1 !== this.parsed.time_range[0]) {\r\n                        for (let n = this.parsed.time_range[2]; n--; ) {\r\n                          this.header[n + 1] = {\r\n                            dataset: d,\r\n                            variable: vn,\r\n                            type: 'string' === variable.type ? 'string' : 'num',\r\n                            title: this.variable_header\r\n                              ? this.options.variables.title || site.data.format_label(vn)\r\n                              : times.value[n + this.parsed.time_range[0]] + '',\r\n                            data: site.data.get_value,\r\n                            render: DataHandler.retrievers.row_time.bind({\r\n                              i: n,\r\n                              o: this.parsed.time_range[0],\r\n                              format_value: site.data.format_value.bind(site.data),\r\n                            }),\r\n                          }\r\n                        }\r\n                      } else this.state = ''\r\n                      this.options.order[0][0] = this.header.length - 1\r\n                      this.options.columns = this.header\r\n                      this.table = $(this.e).DataTable(this.options)\r\n                    }\r\n                    const n = this.header.length,\r\n                      ns = this.parsed.summary.n\r\n                    let reset\r\n                    for (let i = 1, show = false, nshowing = 0; i < n; i++) {\r\n                      show = v.times[i - 1 + this.parsed.time_range[0]] && (site.settings.show_empty_times || ns[i - 1])\r\n                      this.table.column(i).visible(show, false)\r\n                      if (show) {\r\n                        this.parsed.time_index[times.value[i - 1 + this.parsed.time_range[0]]] = ++nshowing\r\n                        reset = false\r\n                      }\r\n                    }\r\n                    if (reset) this.state = ''\r\n                  }\r\n                  if (this.options.wide) {\r\n                    Object.keys(v.selection.all).forEach(k => {\r\n                      if (vn) {\r\n                        if (vn in v.selection.all[k].views[this.view].summary) {\r\n                          this.rows[k] = this.table.row.add({\r\n                            dataset: d,\r\n                            variable: vn,\r\n                            offset: this.parsed.time_range[0],\r\n                            entity: v.selection.all[k],\r\n                            int: patterns.int_types.test(site.data.variables[vn].type),\r\n                          })\r\n                          this.rowIds[this.rows[k].selector.rows] = k\r\n                        }\r\n                      } else {\r\n                        for (let i = times.n; i--; ) {\r\n                          this.rows[k] = this.table.row.add({\r\n                            time: i,\r\n                            entity: v.selection.all[k],\r\n                          })\r\n                          this.rowIds[this.rows[k].selector.rows] = k\r\n                        }\r\n                      }\r\n                    })\r\n                  } else {\r\n                    if (this.filters)\r\n                      Object.keys(this.filters).forEach(f => {\r\n                        this.current_filter[c] = valueOf(f)\r\n                      })\r\n                    const va = []\r\n                    let varstate = '' + this.parsed.dataset + v.get.ids(true) + v.get.features() + site.settings.digits\r\n                    for (let i = this.options.variables.length; i--; ) {\r\n                      vn = this.options.variables[i].name || this.options.variables[i]\r\n                      pass = !this.filters\r\n                      const variable = await site.data.get_variable(vn, this.view)\r\n                      if (vn in site.data.variables && 'meta' in variable) {\r\n                        if (this.options.filters) {\r\n                          for (const c in this.current_filter)\r\n                            if (c in variable.meta) {\r\n                              pass = variable.meta[c] === this.current_filter[c]\r\n                              if (!pass) break\r\n                            }\r\n                        } else pass = true\r\n                      }\r\n                      if (pass) {\r\n                        varstate += vn\r\n                        va.push({\r\n                          variable: vn,\r\n                          int: patterns.int_types.test(site.data.variables[vn].type),\r\n                          time_range: variable.time_range[d],\r\n                          renderer: function (o, s) {\r\n                            const k = s.features.id,\r\n                              r = this.time_range,\r\n                              n = r[1]\r\n                            for (let i = r[0]; i <= n; i++) {\r\n                              o.rows[k] = o.table.row.add({\r\n                                offset: this.time_range[0],\r\n                                time: i - this.time_range[0],\r\n                                dataset: d,\r\n                                variable: this.variable,\r\n                                entity: s,\r\n                                int: this.int,\r\n                              })\r\n                              o.rowIds[o.rows[k].selector.rows] = k\r\n                            }\r\n                          },\r\n                        })\r\n                      }\r\n                    }\r\n                    if (varstate === this.varstate) return void 0\r\n                    this.varstate = varstate\r\n                    Object.keys(v.selection.all).forEach(k => {\r\n                      const e = v.selection.all[k]\r\n                      if (this.options.single_variable) {\r\n                        if (vn in e[v].summary && variable.code in e.data) {\r\n                          this.rows[k] = this.table.row.add({\r\n                            offset: this.parsed.time_range[0],\r\n                            dataset: d,\r\n                            variable: vn,\r\n                            entity: e,\r\n                            int: patterns.int_types.test(site.data.variables[vn].type),\r\n                          })\r\n                          this.rowIds[this.rows[k].selector.rows] = k\r\n                        }\r\n                      } else {\r\n                        va.forEach(v => {\r\n                          if (site.data.variables[v.variable].code in e.data) v.renderer(this, e)\r\n                        })\r\n                      }\r\n                    })\r\n                  }\r\n                }\r\n                redraw ? this.table.draw() : this.table.columns.adjust().draw(false)\r\n              }\r\n              if (this.parsed.time > -1 && this.header.length > 1 && v.time_range.filtered_index) {\r\n                this.dark_highlight = site.settings.theme_dark\r\n                if (this.style.sheet.rules.length) this.style.sheet.removeRule(0)\r\n                if (this.parsed.time_index[time])\r\n                  this.style.sheet.insertRule(\r\n                    '#' +\r\n                      this.id +\r\n                      ' td:nth-child(' +\r\n                      (this.parsed.time_index[time] + 1) +\r\n                      '){background-color: var(--background-highlight)}',\r\n                    0\r\n                  )\r\n                if (!update && site.settings.table_autosort) {\r\n                  this.table.order([this.parsed.time + 1, 'dsc']).draw()\r\n                }\r\n                if (site.settings.table_autoscroll) {\r\n                  const w = this.e.parentElement.getBoundingClientRect().width,\r\n                    col = this.table.column(this.parsed.time + 1),\r\n                    h = col.header().getBoundingClientRect()\r\n                  if (h)\r\n                    this.e.parentElement.scroll({\r\n                      left: h.x - this.e.getBoundingClientRect().x + h.width + 16 - w,\r\n                      behavior: site.settings.table_scroll_behavior || 'smooth',\r\n                    })\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          if (e.target._DT_CellIndex && e.target._DT_CellIndex.row in this.rowIds) {\r\n            const id = this.rowIds[e.target._DT_CellIndex.row],\r\n              row = this.rows[id].node()\r\n            if (row) row.classList.add('highlighted')\r\n            if (id in site.data.entities) {\r\n              update_subs(this.id, 'show', site.data.entities[id])\r\n            }\r\n          }\r\n        },\r\n        mouseout: function (e) {\r\n          if (e.target._DT_CellIndex && e.target._DT_CellIndex.row in this.rowIds) {\r\n            const id = this.rowIds[e.target._DT_CellIndex.row],\r\n              row = this.rows[id].node()\r\n            if (row) row.classList.remove('highlighted')\r\n            if (id in site.data.entities) {\r\n              update_subs(this.id, 'revert', site.data.entities[id])\r\n            }\r\n          }\r\n        },\r\n        click: function (e) {\r\n          if (this.clickto && e.target._DT_CellIndex && e.target._DT_CellIndex.row in this.rowIds) {\r\n            const id = this.rowIds[e.target._DT_CellIndex.row]\r\n            if (id in site.data.entities) this.clickto.set(id)\r\n          }\r\n        },\r\n      },\r\n      table: {\r\n        init: function (o) {\r\n          o.click = o.e.getAttribute('data-click')\r\n          o.features = o.options.features\r\n          o.parsed = {summary: {}, order: [], time: 0, color: '', dataset: defaults.dataview, time_index: {}}\r\n          o.header = []\r\n          o.rows = {}\r\n          o.parts = {\r\n            head: document.createElement('thead'),\r\n            body: document.createElement('tbody'),\r\n          }\r\n          o.parts.head.appendChild(document.createElement('tr'))\r\n          o.e.appendChild(o.parts.head)\r\n          o.e.appendChild(o.parts.body)\r\n          if (o.click) o.e.classList.add('interactive')\r\n          o.options.variable_source = o.options.variables\r\n          if (o.options.variables in _u) add_dependency(o.options.variables, {type: 'update', id: o.id})\r\n          o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n          if (o.tab) {\r\n            document.getElementById(o.e.parentElement.getAttribute('aria-labelledby')).addEventListener(\r\n              'click',\r\n              function () {\r\n                if (!this.e.parentElement.classList.contains('active')) {\r\n                  setTimeout(this.update, 155)\r\n                  setTimeout(trigger_resize, 155)\r\n                }\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.e.addEventListener('mouseover', elements.table.mouseover.bind(o))\r\n          o.e.addEventListener('mouseout', elements.table.mouseout.bind(o))\r\n          if (o.click) {\r\n            if (o.click in _u) o.clickto = _u[o.click]\r\n            o.e.addEventListener('click', elements.table.click.bind(o))\r\n          }\r\n          o.show = function (e) {\r\n            if (e.features) {\r\n              const row = this.rows[e.features.id]\r\n              if (row && row.parentElement) {\r\n                row.classList.add('highlighted')\r\n                if (site.settings.table_autoscroll) {\r\n                  const h = this.e.parentElement.getBoundingClientRect().height,\r\n                    top = row.getBoundingClientRect().y - row.parentElement.getBoundingClientRect().y\r\n                  this.e.parentElement.scroll({\r\n                    top: h > this.e.scrollHeight - top ? this.e.parentElement.scrollHeight : top,\r\n                    behavior: site.settings.table_scroll_behavior || 'smooth',\r\n                  })\r\n                }\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.revert = function (e) {\r\n            if (e.features && e.features.id in this.rows) {\r\n              this.rows[e.features.id].classList.remove('highlighted')\r\n            }\r\n          }.bind(o)\r\n          o.createHeader = function (v) {\r\n            const dataset = this.parsed.dataset,\r\n              time = site.data.meta.times[dataset],\r\n              tr = this.parts.head.firstElementChild,\r\n              range = this.parsed.variable.time_range[dataset],\r\n              start = range[0],\r\n              end = range[1] + 1,\r\n              ns = this.parsed.summary.n\r\n            this.parsed.time_index = {}\r\n            tr.innerHTML = ''\r\n            tr.appendChild(document.createElement('th'))\r\n            tr.lastElementChild.appendChild(document.createElement('span'))\r\n            tr.firstElementChild.lastElementChild.innerText = 'Name'\r\n            for (let i = start, nshowing = 0; i < end; i++) {\r\n              if (v.times[i] && (site.settings.show_empty_times || ns[i - start])) {\r\n                this.parsed.time_index[time.value[i]] = nshowing++\r\n                tr.appendChild(document.createElement('th'))\r\n                tr.lastElementChild.appendChild(document.createElement('span'))\r\n                tr.lastElementChild.lastElementChild.innerText = time.value[i]\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.appendRows = function (v) {\r\n            const es = this.parsed.order,\r\n              variable = this.parsed.variable,\r\n              times = site.data.meta.times[this.parsed.dataset].value,\r\n              range = variable.time_range[this.parsed.dataset],\r\n              start = range[0],\r\n              dn = range[1] - start + 1,\r\n              selection = v.selection.all\r\n            this.current_variable = variable.code + this.parsed.dataset\r\n            this.parts.body.innerHTML = ''\r\n            for (let n = es.length; n--; ) {\r\n              const id = es[n][0]\r\n              if (id in selection) {\r\n                const e = site.data.entities[id],\r\n                  d = e.data[variable.code],\r\n                  tr = document.createElement('tr')\r\n                this.rows[id] = tr\r\n                tr.setAttribute('data-entityId', id)\r\n                let td = document.createElement('td')\r\n                td.innerText = e.features.name\r\n                tr.appendChild(td)\r\n                if (1 === dn) {\r\n                  tr.appendChild((td = document.createElement('td')))\r\n                  td.innerText = site.data.format_value(d)\r\n                  td.setAttribute('data-entityId', id)\r\n                  td.classList.add('highlighted')\r\n                } else {\r\n                  for (let i = 0; i < dn; i++) {\r\n                    if (v.times[i + start] && times[i + start] in this.parsed.time_index) {\r\n                      tr.appendChild((td = document.createElement('td')))\r\n                      td.innerText = site.data.format_value(d[i])\r\n                      if (i === this.parsed.time) td.classList.add('highlighted')\r\n                    }\r\n                  }\r\n                }\r\n                this.parts.body.appendChild(tr)\r\n              }\r\n            }\r\n            if (\r\n              site.settings.table_autoscroll &&\r\n              this.parts.head.firstElementChild.childElementCount > 2 &&\r\n              this.parts.head.firstElementChild.childElementCount > this.parsed.time + 1\r\n            ) {\r\n              const w = this.e.parentElement.getBoundingClientRect().width,\r\n                col = this.parts.head.firstElementChild.children[this.parsed.time + 1].getBoundingClientRect()\r\n              this.e.parentElement.scroll({\r\n                left: col.x - this.e.getBoundingClientRect().x + col.width + 16 - w,\r\n                behavior: site.settings.table_scroll_behavior || 'smooth',\r\n              })\r\n            }\r\n          }.bind(o)\r\n          if (o.view) {\r\n            add_dependency(o.view, {type: 'update', id: o.id})\r\n            add_dependency(o.view + '_filter', {type: 'update', id: o.id})\r\n            add_dependency(_u[o.view].time_agg, {type: 'update', id: o.id})\r\n          } else o.view = defaults.dataview\r\n          o.update()\r\n        },\r\n        update: async function (pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show')) this.queue = setTimeout(() => this.update(true), 50)\r\n          } else {\r\n            let vn =\r\n              this.options.variable_source && valueOf(this.options.variable_source).replace(patterns.all_periods, '\\\\.')\r\n            const v = _u[this.view],\r\n              d = v.get.dataset(),\r\n              time = valueOf(v.time_agg),\r\n              state =\r\n                d + v.value() + v.get.time_filters() + site.settings.digits + vn + time + site.settings.show_empty_times\r\n            if (!site.data.inited[d]) return void 0\r\n            if (state !== this.state) {\r\n              this.state = state\r\n              Object.keys(this.reference_options).forEach(k => (this.options[k] = valueOf(this.reference_options[k])))\r\n              const variable = await site.data.get_variable(vn, this.view)\r\n              this.parsed.dataset = d\r\n              this.parsed.color = vn\r\n              this.parsed.variable = variable\r\n              this.parsed.time_range = variable.time_range[d]\r\n              this.parsed.time =\r\n                ('number' === typeof time ? time - site.data.meta.times[d].range[0] : 0) - this.parsed.time_range[0]\r\n              this.parsed.summary = variable.views[this.view].summaries[d]\r\n              this.parsed.order = variable.views[this.view].order[d][this.parsed.time]\r\n              this.createHeader(v)\r\n              this.appendRows(v)\r\n            }\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          const row = 'TD' === e.target.tagName ? e.target.parentElement : e.target,\r\n            id = row.getAttribute('data-entityId')\r\n          if (id) {\r\n            row.classList.add('highlighted')\r\n            update_subs(this.id, 'show', site.data.entities[id])\r\n          }\r\n        },\r\n        mouseout: function (e) {\r\n          const row = 'TD' === e.target.tagName ? e.target.parentElement : e.target,\r\n            id = row.getAttribute('data-entityId')\r\n          if (id) {\r\n            row.classList.remove('highlighted')\r\n            update_subs(this.id, 'revert', site.data.entities[id])\r\n          }\r\n        },\r\n        click: function (e) {\r\n          const row = 'TD' === e.target.tagName ? e.target.parentElement : e.target,\r\n            id = row.getAttribute('data-entityId')\r\n          if (this.clickto && id) this.clickto.set(id)\r\n        },\r\n      },\r\n      legend: {\r\n        init: function (o) {\r\n          add_dependency(o.view, {type: 'update', id: o.id})\r\n          const view = _u[o.view]\r\n          if (view.time_agg in _u) add_dependency(view.time_agg, {type: 'update', id: o.id})\r\n          if (!o.palette) {\r\n            if (view.palette) {\r\n              o.palette = view.palette\r\n              if (view.palette in _u) add_dependency(view.palette, {type: 'update', id: o.id})\r\n            } else {\r\n              o.palette = 'settings.palette' in _u ? 'settings.palette' : site.settings.palette\r\n            }\r\n          }\r\n          o.variable = o.e.getAttribute('data-variable')\r\n          if (o.variable) {\r\n            if (o.variable in _u) add_dependency(o.variable, {type: 'update', id: o.id})\r\n          } else if (view.y in _u) add_dependency(view.y, {type: 'update', id: o.id})\r\n          if (o.palette in _u) {\r\n            const palette = _u[o.palette]\r\n            if (palette.e) {\r\n              palette.e.addEventListener('change', o.update)\r\n            }\r\n          }\r\n          o.parsed = {summary: {}, order: [], selection: {}, time: 0, color: '', rank: false}\r\n          o.state = ''\r\n          o.queue = {\r\n            lock: false,\r\n            cooldown: -1,\r\n            trigger: function () {\r\n              this.mouseover(this.queue.e)\r\n            }.bind(o),\r\n          }\r\n          o.queue.reset = function () {\r\n            this.lock = false\r\n          }.bind(o.queue)\r\n          o.parts = {\r\n            ticks: o.e.querySelector('.legend-ticks'),\r\n            scale: o.e.querySelector('.legend-scale'),\r\n            summary: o.e.querySelector('.legend-summary'),\r\n          }\r\n          o.parts.ticks.setAttribute('data-of', o.id)\r\n          o.parts.scale.setAttribute('data-of', o.id)\r\n          o.parts.summary.setAttribute('data-of', o.id)\r\n          o.mouseover = elements.legend.mouseover.bind(o)\r\n          o.e.addEventListener('mousemove', o.mouseover)\r\n          o.e.addEventListener('mouseout', elements.legend.mouseout.bind(o))\r\n          o.e.addEventListener('click', elements.legend.click.bind(o))\r\n          o.click = o.e.getAttribute('data-click')\r\n          if (o.click in _u) o.clickto = _u[o.click]\r\n          o.ticks = {\r\n            center: o.parts.summary.appendChild(document.createElement('div')),\r\n            min: o.parts.summary.appendChild(document.createElement('div')),\r\n            max: o.parts.summary.appendChild(document.createElement('div')),\r\n            entity: o.parts.ticks.appendChild(document.createElement('div')),\r\n          }\r\n          Object.keys(o.ticks).forEach(t => {\r\n            o.ticks[t].setAttribute('data-of', o.id)\r\n            o.ticks[t].className = 'legend-tick'\r\n            o.ticks[t].appendChild((e = document.createElement('div')))\r\n            e.setAttribute('data-of', o.id)\r\n            e.appendChild(document.createElement('p'))\r\n            e.lastElementChild.setAttribute('data-of', o.id)\r\n            if ('m' !== t.substring(0, 1)) {\r\n              e.appendChild(document.createElement('p'))\r\n              e.lastElementChild.setAttribute('data-of', o.id)\r\n              e.appendChild(document.createElement('p'))\r\n              e.lastElementChild.setAttribute('data-of', o.id)\r\n              if ('entity' === t) {\r\n                o.ticks[t].firstElementChild.lastElementChild.classList.add('entity')\r\n              } else {\r\n                o.ticks[t].firstElementChild.firstElementChild.classList.add('summary')\r\n              }\r\n            }\r\n          })\r\n          o.ticks.entity.firstElementChild.classList.add('hidden')\r\n          o.ticks.max.className = 'legend-tick-end max'\r\n          o.ticks.min.className = 'legend-tick-end min'\r\n          o.ticks.center.style.left = '50%'\r\n          o.show = function (e, c) {\r\n            if (e && 'parsed' in c && e.features.name) {\r\n              const view = _u[this.view],\r\n                summary = c.parsed.summary,\r\n                string = summary && 'string' === summary.type,\r\n                min = summary && !string ? summary.min[c.parsed.time] : 0,\r\n                range = summary ? (string ? summary.levels.length - min : summary.range[c.parsed.time]) : 1,\r\n                n = summary.n[c.parsed.time],\r\n                subset = n === view.n_selected.dataset ? 'rank' : 'subset_rank',\r\n                es = site.data.entities[e.features.id].views[this.view],\r\n                value = e.get_value(c.parsed.color, c.parsed.time),\r\n                p =\r\n                  ((string ? value in summary.level_ids : 'number' === typeof value)\r\n                    ? site.settings.color_by_order\r\n                      ? NaN\r\n                      : Math.max(\r\n                          0,\r\n                          Math.min(1, range ? ((string ? summary.level_ids[value] : value) - min) / range : 0.5)\r\n                        )\r\n                    : NaN) * 100,\r\n                container = this.ticks.entity,\r\n                t = container.firstElementChild.children[1]\r\n              if (isFinite(p)) {\r\n                t.parentElement.classList.remove('hidden')\r\n                t.innerText = site.data.format_value(value, this.integer)\r\n                container.style.left = p + '%'\r\n                container.firstElementChild.firstElementChild.innerText =\r\n                  (p > 96 || p < 4) && e.features.name.length > 13\r\n                    ? e.features.name.substring(0, 12) + ''\r\n                    : e.features.name\r\n              } else if (site.settings.color_by_order && c.parsed.color in es[subset]) {\r\n                const i = es[subset][c.parsed.color][c.parsed.time],\r\n                  po = n > 1 ? (i / (n - 1)) * 100 : 0\r\n                container.firstElementChild.firstElementChild.innerText =\r\n                  i > -1 && (po > 96 || po < 4) && e.features.name.length > 13\r\n                    ? e.features.name.substring(0, 12) + ''\r\n                    : e.features.name\r\n                if (i > -1) {\r\n                  t.parentElement.classList.remove('hidden')\r\n                  t.innerText = '# ' + (n - i)\r\n                  container.style.left = po + '%'\r\n                }\r\n              }\r\n              container.style.marginLeft = -container.getBoundingClientRect().width / 2 + 'px'\r\n            }\r\n          }\r\n          o.revert = function () {\r\n            this.ticks.entity.firstElementChild.classList.add('hidden')\r\n          }\r\n          o.update()\r\n        },\r\n        update: async function () {\r\n          const view = _u[this.view],\r\n            variable = valueOf(this.variable || view.y),\r\n            d = view.get.dataset(),\r\n            var_info = await site.data.get_variable(variable, this.view),\r\n            time = valueOf(view.time_agg)\r\n          if (null !== time && view.valid && var_info && this.view in var_info.views) {\r\n            const y =\r\n                ('number' === typeof time ? time - site.data.meta.times[d].range[0] : 0) - var_info.time_range[d][0],\r\n              summary = var_info.views[this.view].summaries[d],\r\n              ep = valueOf(this.palette).toLowerCase(),\r\n              pn = ep in palettes ? ep : site.settings.palette in palettes ? site.settings.palette : defaults.palette,\r\n              p = palettes[pn].colors,\r\n              s = this.parts.scale,\r\n              ticks = this.ticks\r\n            this.parsed.summary = summary\r\n            this.parsed.order = var_info.views[this.view].order[d][y]\r\n            this.parsed.time = y\r\n            this.parsed.color = variable\r\n            if (summary && y < summary.n.length) {\r\n              this.integer =\r\n                site.data.variable_info[variable] && site.data.variable_info[variable].type\r\n                  ? patterns.int_types.test(site.data.variables[variable].type)\r\n                  : true\r\n              const refresh = site.settings.color_by_order !== this.parsed.rank,\r\n                bins = s.querySelectorAll('span'),\r\n                odd = palettes[pn].odd,\r\n                remake =\r\n                  'discrete' === palettes[pn].type\r\n                    ? p.length !== bins.length - odd\r\n                    : !s.firstElementChild || 'SPAN' !== s.firstElementChild.tagName\r\n              if (pn + site.settings.color_scale_center !== this.current_palette || refresh) {\r\n                this.current_palette = pn + site.settings.color_scale_center\r\n                this.parsed.rank = site.settings.color_by_order\r\n                if (remake) s.innerHTML = ''\r\n                if ('discrete' === palettes[pn].type) {\r\n                  let i = 0,\r\n                    n = Math.ceil(p.length / 2),\r\n                    e\r\n                  if (remake) {\r\n                    s.appendChild((e = document.createElement('div')))\r\n                    e.dataset.of = this.id\r\n                    e.style.left = 0\r\n                    const prop = (1 / (n - odd / 2)) * 100 + '%'\r\n                    for (; i < n; i++) {\r\n                      e.appendChild(document.createElement('span'))\r\n                      e.lastElementChild.dataset.of = this.id\r\n                      e.lastElementChild.style.backgroundColor = p[i]\r\n                      e.lastElementChild.style.width = prop\r\n                    }\r\n                    if (odd) e.lastElementChild.style.width = ((1 / (n - odd / 2)) * 100) / 2 + '%'\r\n                    s.appendChild((e = document.createElement('div')))\r\n                    e.dataset.of = this.id\r\n                    e.style.right = 0\r\n                    for (i = Math.floor(p.length / 2), n = p.length; i < n; i++) {\r\n                      e.appendChild(document.createElement('span'))\r\n                      e.lastElementChild.dataset.of = this.id\r\n                      e.lastElementChild.style.backgroundColor = p[i]\r\n                      e.lastElementChild.style.width = prop\r\n                    }\r\n                    if (odd) e.firstElementChild.style.width = ((1 / (n - odd / 2)) * 100) / 2 + '%'\r\n                  } else {\r\n                    for (; i < n; i++) {\r\n                      bins[i].style.backgroundColor = p[i]\r\n                    }\r\n                    for (i = Math.floor(p.length / 2), n = p.length; i < n; i++) {\r\n                      bins[i + odd].style.backgroundColor = p[i]\r\n                    }\r\n                  }\r\n                } else {\r\n                  if (remake) {\r\n                    s.appendChild(document.createElement('span'))\r\n                    s.appendChild(document.createElement('span'))\r\n                  }\r\n                  s.firstElementChild.style.background =\r\n                    'linear-gradient(0.25turn, rgb(' +\r\n                    p[2][0][0] +\r\n                    ', ' +\r\n                    p[2][0][1] +\r\n                    ', ' +\r\n                    p[2][0][2] +\r\n                    '), rgb(' +\r\n                    p[1][0] +\r\n                    ', ' +\r\n                    p[1][1] +\r\n                    ', ' +\r\n                    p[1][2] +\r\n                    '))'\r\n                  s.lastElementChild.style.background =\r\n                    'linear-gradient(0.25turn, rgb(' +\r\n                    p[1][0] +\r\n                    ', ' +\r\n                    p[1][1] +\r\n                    ', ' +\r\n                    p[1][2] +\r\n                    '), rgb(' +\r\n                    p[0][0][0] +\r\n                    ', ' +\r\n                    p[0][0][1] +\r\n                    ', ' +\r\n                    p[0][0][2] +\r\n                    '))'\r\n                }\r\n              }\r\n              if ('string' === var_info.type) {\r\n                ticks.center.classList.remove('hidden')\r\n                ticks.min.firstElementChild.firstElementChild.innerText = var_info.levels[0]\r\n                ticks.max.firstElementChild.firstElementChild.innerText = var_info.levels[var_info.levels.length - 1]\r\n              } else if (site.settings.color_by_order) {\r\n                ticks.center.classList.add('hidden')\r\n                ticks.min.firstElementChild.firstElementChild.innerText = '# ' + (summary.n[y] ? summary.n[y] : 0)\r\n                ticks.max.firstElementChild.firstElementChild.innerText = '# ' + (summary.n[y] ? 1 : 0)\r\n              } else {\r\n                const state =\r\n                  '' +\r\n                  summary.n[y] +\r\n                  summary.min[y] +\r\n                  summary.max[y] +\r\n                  site.settings.digits +\r\n                  site.settings.color_scale_center +\r\n                  site.settings.summary_selection\r\n                if (remake || refresh || state !== this.state) {\r\n                  this.state = state\r\n                  ticks.center.classList.remove('hidden')\r\n                  ticks.min.firstElementChild.firstElementChild.innerText = summary.n[y]\r\n                    ? isFinite(summary.min[y])\r\n                      ? site.data.format_value(summary.min[y], this.integer)\r\n                      : NaN\r\n                    : NaN\r\n                  ticks.max.firstElementChild.firstElementChild.innerText = summary.n[y]\r\n                    ? isFinite(summary.max[y])\r\n                      ? site.data.format_value(summary.max[y], this.integer)\r\n                      : NaN\r\n                    : NaN\r\n                  if ('none' === site.settings.color_scale_center) {\r\n                    ticks.center.firstElementChild.lastElementChild.innerText =\r\n                      summary_levels[site.settings.summary_selection] + ' median'\r\n                    ticks.center.firstElementChild.children[1].innerText = site.data.format_value(summary.median[y])\r\n                    ticks.center.style.left = summary.norm_median[y] * 100 + '%'\r\n                  } else {\r\n                    ticks.center.firstElementChild.lastElementChild.innerText =\r\n                      summary_levels[site.settings.summary_selection] + ' ' + site.settings.color_scale_center\r\n                    ticks.center.firstElementChild.children[1].innerText = site.data.format_value(\r\n                      summary[site.settings.color_scale_center][y]\r\n                    )\r\n                    ticks.center.style.left = summary['norm_' + site.settings.color_scale_center][y] * 100 + '%'\r\n                  }\r\n                  ticks.center.style.marginLeft = -ticks.center.getBoundingClientRect().width / 2 + 'px'\r\n                }\r\n              }\r\n              if (site.settings.color_by_order || 'none' === site.settings.color_scale_center) {\r\n                s.firstElementChild.style.width = '50%'\r\n                s.lastElementChild.style.width = '50%'\r\n              } else {\r\n                s.firstElementChild.style.width = summary['norm_' + site.settings.color_scale_center][y] * 100 + '%'\r\n                s.lastElementChild.style.width =\r\n                  100 - summary['norm_' + site.settings.color_scale_center][y] * 100 + '%'\r\n              }\r\n            }\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          if (!this.queue.lock) {\r\n            this.queue.lock = true\r\n            const s = this.parts.scale.getBoundingClientRect(),\r\n              p = (Math.max(s.x, Math.min(s.x + s.width, e.clientX)) - s.x) / s.width\r\n            let entity = false\r\n            if (site.settings.color_by_order) {\r\n              if (this.parsed.order && this.parsed.order.length)\r\n                entity =\r\n                  site.data.entities[\r\n                    this.parsed.order[\r\n                      Math.max(\r\n                        this.parsed.summary.missing[this.parsed.time],\r\n                        Math.min(this.parsed.order.length - 1, Math.floor((this.parsed.order.length - 1) * p))\r\n                      )\r\n                    ][0]\r\n                  ]\r\n            } else if ('min' in this.parsed.summary) {\r\n              const min = this.parsed.summary.min[this.parsed.time],\r\n                max = this.parsed.summary.max[this.parsed.time],\r\n                tv = min + p * (max - min)\r\n              let i, n\r\n              if (this.parsed.order && this.parsed.order.length) {\r\n                n = this.parsed.summary.missing[this.parsed.time]\r\n                if (n < this.parsed.order.length) {\r\n                  if (1 === this.parsed.order.length || !p) {\r\n                    entity = site.data.entities[this.parsed.order[n][0]]\r\n                  } else {\r\n                    for (i = this.parsed.order.length - 2; i >= n; --i) {\r\n                      if ((this.parsed.order[i][1] + this.parsed.order[i + 1][1]) / 2 <= tv) break\r\n                    }\r\n                    i++\r\n                    entity = site.data.entities[this.parsed.order[i][0]]\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (entity) {\r\n              this.show(entity, this)\r\n              if (!this.entity || entity.features.id !== this.entity.features.id) {\r\n                if (!this.entity) {\r\n                  this.entity = entity\r\n                } else update_subs(this.id, 'revert', this.entity)\r\n                update_subs(this.id, 'show', entity)\r\n                this.entity = entity\r\n              }\r\n            }\r\n            setTimeout(this.queue.reset, 200)\r\n          } else {\r\n            if (this.queue.cooldown > 0) clearTimeout(this.queue.cooldown)\r\n            this.queue.e = e\r\n            this.queue.cooldown = setTimeout(this.queue.trigger, 100)\r\n          }\r\n        },\r\n        mouseout: function (e) {\r\n          if (e.relatedTarget && this.id !== e.relatedTarget.getAttribute('data-of')) {\r\n            if (this.queue.cooldown > 0) clearTimeout(this.queue.cooldown)\r\n            this.queue.cooldown = -1\r\n            this.revert()\r\n            if (this.entity) {\r\n              update_subs(this.id, 'revert', this.entity)\r\n              this.entity = false\r\n            }\r\n          }\r\n        },\r\n        click: function () {\r\n          if (this.clickto && this.entity) {\r\n            this.revert()\r\n            this.clickto.set(this.entity.features.id)\r\n          }\r\n        },\r\n      },\r\n      credits: {\r\n        init: function (o) {\r\n          const s = site.credit_output && site.credit_output[o.id]\r\n          o.exclude = (s && s.exclude) || []\r\n          o.add = (s && s.add) || {}\r\n          o.e.appendChild(document.createElement('ul'))\r\n          o.credits = {...site.credits, ...o.add}\r\n          Object.keys(o.credits).forEach(k => {\r\n            if (-1 === o.exclude.indexOf(k)) {\r\n              const c = o.credits[k]\r\n              let e\r\n              o.e.lastElementChild.appendChild((e = document.createElement('li')))\r\n              if ('url' in c) {\r\n                e.appendChild((e = document.createElement('a')))\r\n                e.href = c.url\r\n                e.target = '_blank'\r\n                e.rel = 'noreferrer'\r\n              }\r\n              e.innerText = c.name\r\n              if ('version' in c) {\r\n                e.appendChild(document.createElement('span'))\r\n                e.lastElementChild.className = 'version-tag'\r\n                e.lastElementChild.innerText = c.version\r\n              }\r\n              if ('description' in c) {\r\n                e.parentElement.appendChild(document.createElement('p'))\r\n                e.parentElement.lastElementChild.innerText = c.description\r\n              }\r\n            }\r\n          })\r\n        },\r\n      },\r\n      init_input: function (e) {\r\n        const o = {\r\n          type: e.getAttribute('data-autoType'),\r\n          source: void 0,\r\n          value: function () {\r\n            const v = valueOf(this.source)\r\n            return 'undefined' === typeof v ? valueOf(this.default) : v\r\n          },\r\n          default: e.getAttribute('data-default'),\r\n          optionSource: e.getAttribute('data-optionSource'),\r\n          depends: e.getAttribute('data-depends'),\r\n          variable: e.getAttribute('data-variable'),\r\n          dataset: e.getAttribute('data-dataset'),\r\n          view: e.getAttribute('data-view'),\r\n          id: e.id || e.optionSource || 'ui' + page.elementCount++,\r\n          note: e.getAttribute('aria-description') || '',\r\n          current_index: -1,\r\n          previous: '',\r\n          e: e,\r\n          values: [],\r\n          display: [],\r\n          data: [],\r\n          input: true,\r\n        }\r\n        o.settings = o.type in site && o.id in site[o.type] ? site[o.type][o.id] : {}\r\n        o.wrapper = o.e.parentElement.classList.contains('wrapper')\r\n          ? o.e.parentElement\r\n          : o.e.parentElement.parentElement\r\n        if (o.wrapper) {\r\n          if (o.note) o.wrapper.classList.add('has-note')\r\n          o.wrapper.setAttribute('data-of', o.id)\r\n          ;['div', 'span', 'label', 'fieldset', 'legend', 'input', 'button'].forEach(type => {\r\n            const c = o.wrapper.querySelectorAll(type)\r\n            if (c.length) c.forEach(ci => ci.setAttribute('data-of', o.id))\r\n          })\r\n        }\r\n        if (o.note) {\r\n          o.wrapper.addEventListener('mouseover', tooltip_trigger.bind(o))\r\n          const p = 'DIV' !== o.e.tagName ? o.e : o.e.querySelector('input')\r\n          if (p) {\r\n            p.addEventListener('focus', tooltip_trigger.bind(o))\r\n            p.addEventListener('blur', tooltip_clear)\r\n          }\r\n        }\r\n        if (patterns.number.test(o.default)) o.default = Number(o.default)\r\n        if (o.type in elements) {\r\n          const p = elements[o.type]\r\n          if (p.setter) {\r\n            o.set = p.setter.bind(o)\r\n            o.reset = function () {\r\n              this.set(valueOf(this.default))\r\n            }.bind(o)\r\n          }\r\n          if (p.retrieve) o.get = p.retrieve.bind(o)\r\n          if (p.adder) o.add = p.adder.bind(o)\r\n          if (p.listener) o.listen = p.listener.bind(o)\r\n          if (p.init) p.init(o)\r\n          if (!o.options) o.options = o.e.querySelectorAll('select' === o.type ? 'option' : 'input')\r\n          if (o.optionSource && patterns.ids.test(o.optionSource)) {\r\n            o.loader = function () {\r\n              if (!this.e.classList.contains('locked')) {\r\n                this.deferred = false\r\n                this.e.removeEventListener('click', this.loader)\r\n                request_queue(this.id)\r\n              }\r\n            }.bind(o)\r\n            o.e.addEventListener('click', o.loader)\r\n            o.deferred = true\r\n          } else if (\r\n            'number' === typeof o.default &&\r\n            o.default > -1 &&\r\n            o.options &&\r\n            o.options.length &&\r\n            o.default < o.options.length\r\n          )\r\n            o.default = o.options[o.default].value || o.options[o.default].dataset.value\r\n          _u[o.id] = o\r\n        }\r\n      },\r\n      init_output: function (e, i) {\r\n        const o = {\r\n          type: e.getAttribute('data-autoType'),\r\n          view: e.getAttribute('data-view') || defaults.dataview,\r\n          id: e.id || 'out' + i,\r\n          note: e.getAttribute('aria-description') || '',\r\n          reference_options: {},\r\n          e: e,\r\n        }\r\n        if (o.note) o.e.addEventListener('mouseover', tooltip_trigger.bind(o))\r\n        o.options = o.type in site ? site[o.type][o.id] : void 0\r\n        if (o.options && o.options.dataview) o.view = o.options.dataview\r\n        if (o.type in elements && 'update' in elements[o.type]) o.update = elements[o.type].update.bind(o)\r\n        if (o.options) {\r\n          if ('options' in o.options) o.options = o.options.options\r\n          Object.keys(o.options).forEach(k => {\r\n            if (o.options[k] in _u) o.reference_options[k] = o.options[k]\r\n          })\r\n          if ('subto' in o.options) {\r\n            if ('string' === typeof o.options.subto) o.options.subto = [o.options.subto]\r\n            if (Array.isArray(o.options.subto)) o.options.subto.forEach(v => add_subs(v, o))\r\n          }\r\n        }\r\n        _u[o.id] = o\r\n        if (o.type in elements && 'init' in elements[o.type]) {\r\n          if (!o.view || _u[o.view].parsed.dataset in site.data.inited) {\r\n            elements[o.type].init(o)\r\n          } else {\r\n            site.data.data_queue[_u[o.view].parsed.dataset][o.id] = elements[o.type].init.bind(null, o)\r\n          }\r\n        }\r\n      },\r\n    },\r\n    storage = {\r\n      name: window.location.pathname || 'default',\r\n      perm: window.localStorage || {\r\n        setItem: function () {},\r\n        getItem: function () {},\r\n        removeItem: function () {},\r\n      },\r\n      set: function (opt, value) {\r\n        const s = JSON.parse(this.perm.getItem(this.name)) || {}\r\n        s[opt] = value\r\n        this.perm.setItem(this.name, JSON.stringify(s))\r\n      },\r\n      get: function (opt) {\r\n        const s = JSON.parse(this.perm.getItem(this.name))\r\n        return s ? (opt ? s[opt] : s) : undefined\r\n      },\r\n    },\r\n    keymap = {\r\n      Enter: 'select',\r\n      NumpadEnter: 'select',\r\n      ArrowUp: 'move',\r\n      Home: 'move',\r\n      ArrowDown: 'move',\r\n      End: 'move',\r\n      Escape: 'close',\r\n      Tab: 'close',\r\n    },\r\n    filter_components = {\r\n      Time: ['first', 'selected', 'last'],\r\n      summary: ['missing', 'min', 'q1', 'mean', 'median', 'q3', 'max'],\r\n    },\r\n    time_funs = {\r\n      number: function (v) {\r\n        return this - v.range[0]\r\n      },\r\n      first: function (v) {\r\n        return 0\r\n      },\r\n      selected: function (v, p) {\r\n        return p.time_agg - v.range[0]\r\n      },\r\n      last: function (v) {\r\n        return v.range[1] - v.range[0]\r\n      },\r\n    },\r\n    page = {\r\n      load_screen: document.getElementById('load_screen'),\r\n      wrap: document.getElementById('site_wrap'),\r\n      navbar: document.querySelector('.navbar'),\r\n      content: document.querySelector('.content'),\r\n      overlay: document.createElement('div'),\r\n      menus: document.getElementsByClassName('menu-wrapper'),\r\n      panels: document.getElementsByClassName('panel'),\r\n      elementCount: 0,\r\n    },\r\n    queue = {_timeout: 0},\r\n    meta = {\r\n      retain_state: true,\r\n    },\r\n    subs = {},\r\n    rule_conditions = {},\r\n    keys = {},\r\n    _u = {\r\n      _entity_filter: {\r\n        id: '_entity_filter',\r\n        registered: {},\r\n        entities: new Map(),\r\n        selected: [],\r\n        select_ids: {},\r\n        value: function (q, agg) {\r\n          return Object.keys(this.select_ids).join(',')\r\n        },\r\n      },\r\n      _base_filter: {\r\n        id: '_base_filter',\r\n        c: new Map(),\r\n        value: function (q, agg) {\r\n          const as_state = !q\r\n          if (as_state) q = []\r\n          _u._base_filter.c.forEach(f => {\r\n            const component =\r\n              'selected' === f.component\r\n                ? site.data.meta.overall.value['undefined' === typeof agg ? _u[defaults.dataview].parsed.time_agg : agg]\r\n                : f.time_component\r\n                ? site.data.meta.overall.value[f.component]\r\n                : f.component\r\n            if (f.value) q.push(f.variable + '[' + component + ']' + f.operator + f.value + (as_state ? f.active : ''))\r\n          })\r\n          return q.join('&')\r\n        },\r\n      },\r\n    },\r\n    _c = {},\r\n    tree = {}\r\n\r\n  page.overlay.className = 'content-overlay'\r\n  document.body.appendChild(page.overlay)\r\n  document.body.className = storage.get('theme_dark') || site.settings.theme_dark ? 'dark-theme' : 'light-theme'\r\n  if (page.content) {\r\n    let i = page.menus.length,\r\n      h = page.navbar ? page.navbar.getBoundingClientRect().height : 0\r\n    for (; i--; )\r\n      if (page.menus[i].classList.contains('menu-top')) {\r\n        h = page.menus[i].getBoundingClientRect().height\r\n        break\r\n      }\r\n    page.content.style.top = h + 'px'\r\n  }\r\n  if (!window.dataLayer) window.dataLayer = []\r\n\r\n  function pal(value, which, summary, index, rank, total) {\r\n    if (isNaN(value)) return defaults.missing\r\n    const centered = 'none' !== site.settings.color_scale_center && !site.settings.color_by_order,\r\n      fixed = 'discrete' === palettes[which].type,\r\n      colors = palettes[which].colors,\r\n      odd = palettes[which].odd,\r\n      string = 'string' === summary.type,\r\n      min = !string ? summary.min[index] : 0,\r\n      range = string ? summary.levels.length - min : summary.range[index],\r\n      center_source =\r\n        'none' === site.settings.color_scale_center || patterns.median.test(site.settings.color_scale_center)\r\n          ? 'median'\r\n          : 'mean',\r\n      center = site.settings.color_by_order\r\n        ? centered\r\n          ? summary['break_' + center_source][index] / total\r\n          : 0.5\r\n        : isNaN(summary['norm_' + center_source][index])\r\n        ? 0.5\r\n        : summary['norm_' + center_source][index],\r\n      r = fixed\r\n        ? centered && !site.settings.color_by_order\r\n          ? Math.ceil(colors.length / 2) - odd / 2\r\n          : colors.length\r\n        : 1,\r\n      p = site.settings.color_by_order\r\n        ? rank / total\r\n        : range\r\n        ? ((string ? summary.level_ids[value] : value) - min) / range\r\n        : 0.5,\r\n      upper = p > (centered ? center : 0.5)\r\n    let v = centered\r\n      ? range\r\n        ? upper\r\n          ? (p - center - summary['upper_' + center_source + '_min'][index]) /\r\n            summary['upper_' + center_source + '_range'][index]\r\n          : (p + center - summary['lower_' + center_source + '_min'][index]) /\r\n            summary['lower_' + center_source + '_range'][index]\r\n        : 1\r\n      : p\r\n    if (!fixed) {\r\n      v = Math.max(0, Math.min(1, v))\r\n      if (upper) v = 1 - v\r\n      if (!centered) v *= 2\r\n    }\r\n    return (string ? value in summary.level_ids : 'number' === typeof value)\r\n      ? fixed\r\n        ? colors[Math.max(0, Math.min(colors.length - 1, Math.floor(centered ? (upper ? r + r * v : r * v) : r * v)))]\r\n        : 'rgb(' +\r\n          (upper\r\n            ? colors[0][0][0] +\r\n              v * colors[0][1][0] +\r\n              ', ' +\r\n              (colors[0][0][1] + v * colors[0][1][1]) +\r\n              ', ' +\r\n              (colors[0][0][2] + v * colors[0][1][2])\r\n            : colors[2][0][0] +\r\n              v * colors[2][1][0] +\r\n              ', ' +\r\n              (colors[2][0][1] + v * colors[2][1][1]) +\r\n              ', ' +\r\n              (colors[2][0][2] + v * colors[2][1][2])) +\r\n          ')'\r\n      : defaults.missing\r\n  }\r\n\r\n  function init_text(o, text) {\r\n    if (!('button' in text)) text.button = {}\r\n    if ('string' === typeof text.text) text.text = [text.text]\r\n    text.parts = document.createElement('span')\r\n    text.text.forEach(k => {\r\n      if (k in text.button) {\r\n        const p = text.button[k]\r\n        text.parts.appendChild(document.createElement('button'))\r\n        text.parts.lastElementChild.type = 'button'\r\n        p.trigger = tooltip_trigger.bind({id: o.id + p.text, note: p.target, wrapper: text.parts.lastElementChild})\r\n        if ('note' === p.type) {\r\n          text.parts.lastElementChild.setAttribute('aria-description', p.target)\r\n          text.parts.lastElementChild.setAttribute('data-of', o.id + p.text)\r\n          text.parts.lastElementChild.className = 'has-note'\r\n          text.parts.lastElementChild.addEventListener('mouseover', p.trigger)\r\n          text.parts.lastElementChild.addEventListener('focus', p.trigger)\r\n          text.parts.lastElementChild.addEventListener('blur', tooltip_clear)\r\n        } else {\r\n          text.parts.lastElementChild.className = 'btn btn-link'\r\n          if (!Array.isArray(p.target)) p.target = [p.target]\r\n          const m = new Map()\r\n          p.target.forEach(t => {\r\n            const u = _u[t]\r\n            if (u && 'function' === typeof u[p.type]) m.set(t, u[p.type])\r\n          })\r\n          if (m.size) {\r\n            text.parts.lastElementChild.setAttribute('aria-label', p.text.join(''))\r\n            text.parts.lastElementChild.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.forEach(f => f())\r\n              }.bind(m)\r\n            )\r\n          }\r\n        }\r\n      } else {\r\n        text.parts.appendChild(document.createElement('span'))\r\n      }\r\n      if (k in _u) o.depends.set(k, {id: k, u: _u[k], parsed: ''})\r\n    })\r\n    if ('condition' in text) {\r\n      for (let i = text.condition.length; i--; ) {\r\n        const c = text.condition[i]\r\n        if (c.id) {\r\n          if ('default' === c.id) {\r\n            c.check = function () {\r\n              return true\r\n            }\r\n          } else {\r\n            o.depends.set(c.id, c)\r\n            c.check = function () {\r\n              return 'default' === this.id || DataHandler.checks[this.type](valueOf(this.id), valueOf(this.value))\r\n            }.bind(c)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function fill_ids_options(u, d, out, onend) {\r\n    if (!(d in site.data.sets)) {\r\n      site.data.data_queue[d][u.id] = function () {\r\n        u.e.removeEventListener('click', u.loader)\r\n        fill_ids_options(u, d, out, onend)\r\n        u.set_current()\r\n        u.current_set = d\r\n        return\r\n      }\r\n      return\r\n    }\r\n    out[d] = {options: [], values: {}, display: {}}\r\n    const current = u.values,\r\n      s = out[d].options,\r\n      values = out[d].values,\r\n      disp = out[d].display,\r\n      combobox = 'combobox' === u.type\r\n    let ck = !u.sensitive && !!u.current_set,\r\n      n = 0\r\n    if (u.settings.group) {\r\n      u.groups = {e: [], by_name: {}}\r\n      if (combobox && u.settings.accordion) {\r\n        u.listbox.classList.add('accordion')\r\n        u.listbox.id = u.id + '-listbox'\r\n      }\r\n    }\r\n    Object.keys(site.data.entities).forEach(k => {\r\n      const entity = site.data.entities[k]\r\n      if (d === entity.group) {\r\n        if (ck && !(k in current)) {\r\n          u.sensitive = true\r\n          ck = false\r\n        }\r\n        if (u.groups) {\r\n          let groups = entity.features[u.settings.group] || ['No Group']\r\n          if (!Array.isArray(groups)) groups = [groups]\r\n          for (let g = groups.length; g--; ) {\r\n            const group = groups[g]\r\n            if (!(group in u.groups.by_name)) {\r\n              const e = document.createElement(combobox ? 'div' : 'optgroup')\r\n              if (combobox) {\r\n                const id = u.id + '_' + group.replace(patterns.seps, '-')\r\n                let ee\r\n                if (u.settings.accordion) {\r\n                  e.setAttribute('data-group', group)\r\n                  e.className = 'combobox-group accordion-item combobox-component'\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.className = 'accordion-header combobox-component'\r\n                  ee.appendChild((ee = document.createElement('button')))\r\n                  ee.id = id + '-label'\r\n                  ee.innerText = group\r\n                  ee.type = 'button'\r\n                  ee.className = 'accordion-button combobox-component collapsed'\r\n                  ee.setAttribute('data-bs-toggle', 'collapse')\r\n                  ee.setAttribute('data-bs-target', '#' + id)\r\n                  ee.setAttribute('aria-expanded', 'false')\r\n                  ee.setAttribute('aria-controls', id)\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.id = id\r\n                  ee.className = 'combobox-component accordion-collapse collapse'\r\n                  ee.setAttribute('data-bs-parent', '#' + u.id + '-listbox')\r\n                  ee.appendChild((ee = document.createElement('div')))\r\n                  ee.className = 'accordion-body combobox-component'\r\n                  ee.role = 'group'\r\n                  ee.setAttribute('aria-labelledby', id + '-label')\r\n                } else {\r\n                  e.className = 'combobox-group combobox-component'\r\n                  e.id = id\r\n                  e.role = 'group'\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.appendChild((ee = document.createElement('label')))\r\n                  ee.for = id\r\n                  ee.innerText = group\r\n                  ee.id = id + '-label'\r\n                  ee.for = id\r\n                  ee.className = 'combobox-group-label combobox-component'\r\n                }\r\n              } else {\r\n                e.label = group\r\n              }\r\n              u.groups.by_name[group] = e\r\n              u.groups.e.push(e)\r\n            }\r\n            const o = u.add(k, entity.features.name, true)\r\n            o.setAttribute('data-group', group)\r\n            if (combobox && u.settings.accordion) {\r\n              u.groups.by_name[group].lastElementChild.lastElementChild.appendChild(o)\r\n            } else {\r\n              u.groups.by_name[group].appendChild(o)\r\n            }\r\n          }\r\n        } else {\r\n          s.push(u.add(k, entity.features.name))\r\n          values[k] = n\r\n          disp[entity.features.name] = n++\r\n        }\r\n      }\r\n    })\r\n    if (u.settings.group) {\r\n      n = 0\r\n      Object.keys(u.groups.by_name).forEach(g => {\r\n        u.groups.by_name[g].querySelectorAll(combobox ? '.combobox-option' : 'option').forEach(c => {\r\n          s.push(c)\r\n          values[combobox ? c.dataset.value : c.value] = n\r\n          disp[c.innerText] = n++\r\n        })\r\n      })\r\n    }\r\n    onend && onend()\r\n  }\r\n\r\n  function fill_variables_options(u, d, out) {\r\n    out[d] = {options: [], values: {}, display: {}}\r\n    const current = u.values,\r\n      s = out[d].options,\r\n      values = out[d].values,\r\n      disp = out[d].display,\r\n      combobox = 'combobox' === u.type\r\n    let ck = !u.sensitive && !!u.current_set,\r\n      n = 0\r\n    if (u.settings.group) {\r\n      u.groups = {e: [], by_name: {}}\r\n      if (combobox && u.settings.accordion) {\r\n        u.listbox.classList.add('accordion')\r\n        u.listbox.id = u.id + '-listbox'\r\n      }\r\n    }\r\n    const url_set = site.url_options[u.id]\r\n    let ck_suffix = false\r\n    if (url_set && !(url_set in site.data.variables)) {\r\n      site.url_options[u.id] = url_set.replace(patterns.pre_colon, '')\r\n      if (!(site.url_options[u.id] in site.data.variables)) ck_suffix = true\r\n    }\r\n    site.data.info[d].schema.fields.forEach(m => {\r\n      const v = site.data.variables[m.name]\r\n      if (v && !v.is_time) {\r\n        const l = site.data.format_label(m.name)\r\n        if (ck && !(k in current)) {\r\n          u.sensitive = true\r\n          ck = false\r\n        }\r\n        if (u.groups) {\r\n          let groups = (m.info && m.info[u.settings.group]) || ['No Group']\r\n          if (!Array.isArray(groups)) groups = [groups]\r\n          for (let g = groups.length; g--; ) {\r\n            const group = groups[g]\r\n            if (!(group in u.groups.by_name)) {\r\n              const e = document.createElement(combobox ? 'div' : 'optgroup')\r\n              if (combobox) {\r\n                const id = u.id + '_' + group.replace(patterns.seps, '-')\r\n                let ee\r\n                if (u.settings.accordion) {\r\n                  e.setAttribute('data-group', group)\r\n                  e.className = 'combobox-group accordion-item combobox-component'\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.className = 'accordion-header combobox-component'\r\n                  ee.appendChild((ee = document.createElement('button')))\r\n                  ee.id = id + '-label'\r\n                  ee.innerText = group\r\n                  ee.type = 'button'\r\n                  ee.className = 'accordion-button combobox-component collapsed'\r\n                  ee.setAttribute('data-bs-toggle', 'collapse')\r\n                  ee.setAttribute('data-bs-target', '#' + id)\r\n                  ee.setAttribute('aria-expanded', 'false')\r\n                  ee.setAttribute('aria-controls', id)\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.id = id\r\n                  ee.className = 'combobox-component accordion-collapse collapse'\r\n                  ee.setAttribute('data-bs-parent', '#' + u.id + '-listbox')\r\n                  ee.appendChild((ee = document.createElement('div')))\r\n                  ee.className = 'accordion-body combobox-component'\r\n                  ee.role = 'group'\r\n                  ee.setAttribute('aria-labelledby', id + '-label')\r\n                } else {\r\n                  e.className = 'combobox-group combobox-component'\r\n                  e.role = 'group'\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.appendChild((ee = document.createElement('label')))\r\n                  ee.for = id\r\n                  ee.innerText = group\r\n                  ee.id = id\r\n                  ee.className = 'combobox-group-label combobox-component'\r\n                }\r\n              } else {\r\n                e.label = group\r\n              }\r\n              u.groups.by_name[group] = e\r\n              u.groups.e.push(e)\r\n            }\r\n            const o = u.add(m.name, l, true, m)\r\n            o.setAttribute('data-group', group)\r\n            if (combobox && u.settings.accordion) {\r\n              u.groups.by_name[group].lastElementChild.lastElementChild.appendChild(o)\r\n            } else {\r\n              u.groups.by_name[group].appendChild(o)\r\n            }\r\n          }\r\n        } else {\r\n          s.push(u.add(m.name, l, true, m))\r\n          s[n].id = u.id + '-option' + n\r\n          values[m.name] = n\r\n          disp[l] = n++\r\n        }\r\n        if (ck_suffix && url_set === m.name.replace(patterns.pre_colon, '')) {\r\n          site.url_options[u.id] = m.name\r\n          ck_suffix = false\r\n        }\r\n      }\r\n    })\r\n    if (u.settings.group) {\r\n      n = 0\r\n      Object.keys(u.groups.by_name).forEach(g => {\r\n        u.groups.by_name[g].querySelectorAll(combobox ? '.combobox-option' : 'option').forEach(c => {\r\n          s.push(c)\r\n          s[n].id = u.id + '-option' + n\r\n          values[combobox ? c.dataset.value : c.value] = n\r\n          disp[(c.firstChild && c.firstChild.textContent) || c.innerText] = n++\r\n        })\r\n      })\r\n    }\r\n    if (!u.settings.clearable && !(u.default in site.data.variables)) u.default = defaults.variable\r\n  }\r\n\r\n  function fill_overlay_properties_options(u, source, out) {\r\n    out[source] = {options: [], values: {}, display: {}}\r\n    const current = u.values,\r\n      s = out[source].options,\r\n      values = out[source].values,\r\n      disp = out[source].display,\r\n      combobox = 'combobox' === u.type\r\n    let ck = !u.sensitive && !!u.current_set,\r\n      n = 0\r\n    if (u.settings.group) {\r\n      u.groups = {e: [], by_name: {}}\r\n    }\r\n    Object.keys(site.map._queue[source].property_summaries).forEach(v => {\r\n      const l = site.data.format_label(v)\r\n      if (ck && !(k in current)) {\r\n        u.sensitive = true\r\n        ck = false\r\n      }\r\n      s.push(u.add(v, l))\r\n      s[n].id = u.id + '-option' + n\r\n      values[v] = n\r\n      disp[l] = n++\r\n    })\r\n  }\r\n\r\n  function fill_levels_options(u, d, v, out) {\r\n    const m = site.data.variables[v].info[d],\r\n      t = 'string' === m.type ? 'levels' : 'ids',\r\n      l = m[t]\r\n    if (l) {\r\n      const k = d + v\r\n      out[k] = {options: [], values: {}, display: {}}\r\n      const current = u.values,\r\n        s = out[k].options,\r\n        values = out[k].values,\r\n        disp = out[k].display\r\n      let ck = !u.sensitive && !!u.current_set,\r\n        n = 0\r\n      Object.keys(l).forEach(k => {\r\n        const lk = l[k]\r\n        if (ck && !(k in current)) {\r\n          u.sensitive = true\r\n          ck = false\r\n        }\r\n        s.push(u.add(lk.id, lk.name, true))\r\n        values[lk.id] = n\r\n        disp[lk.name] = n++\r\n      })\r\n    } else if ('ids' === t) {\r\n      site.data.data_queue[d][u.id] = function () {\r\n        return fill_levels_options(u, d, v, out)\r\n      }\r\n    }\r\n  }\r\n\r\n  function toggle_input(u, enable) {\r\n    if (enable && !u.e.classList.contains('locked')) {\r\n      u.e.removeAttribute('disabled')\r\n      u.e.classList.remove('disabled')\r\n      if (u.input_element) u.input_element.removeAttribute('disabled')\r\n    } else {\r\n      u.e.setAttribute('disabled', 'true')\r\n      u.e.classList.add('disabled')\r\n      if (u.input_element) u.input_element.setAttribute('disabled', 'true')\r\n    }\r\n  }\r\n\r\n  function sort_tree_children(a, b) {\r\n    return !(a.id in tree) || !(b.id in tree) ? -Infinity : tree[a.id]._n.children - tree[b.id]._n.children\r\n  }\r\n\r\n  function add_dependency(id, o) {\r\n    if (!(id in _c)) _c[id] = []\r\n    if (!o.uid) o.uid = JSON.stringify(o)\r\n    const c = _c[id]\r\n    for (let i = c.length; i--; ) if (o.uid === c[i].uid) return void 0\r\n    c.push(o)\r\n    if (!(id in tree)) tree[id] = {_n: {children: 0, parents: 0}, children: {}, parents: {}}\r\n    if (!(o.id in tree)) tree[o.id] = {_n: {children: 0, parents: 0}, children: {}, parents: {}}\r\n    tree[id].children[o.id] = tree[o.id]\r\n    tree[id]._n.children++\r\n    tree[o.id].parents[id] = tree[id]\r\n    tree[o.id]._n.parents++\r\n    c.sort(sort_tree_children)\r\n    request_queue(id)\r\n  }\r\n\r\n  function add_subs(id, o) {\r\n    if (!(id in subs)) subs[id] = []\r\n    subs[id].push(o)\r\n  }\r\n\r\n  function update_subs(id, fun, e) {\r\n    if (id in subs) {\r\n      for (let i = subs[id].length; i--; ) {\r\n        if (fun in subs[id][i]) subs[id][i][fun](e, _u[id])\r\n      }\r\n    }\r\n  }\r\n\r\n  function update_plot_theme(u) {\r\n    if (u.dark_theme !== site.settings.theme_dark) {\r\n      u.dark_theme = site.settings.theme_dark\r\n      const s = getComputedStyle(document.body)\r\n      if (!('style' in u)) {\r\n        u.style = u.options.layout\r\n        if (!('font' in u.style)) u.style.font = {}\r\n        if (!('modebar' in u.style)) u.style.modebar = {}\r\n        if (!('font' in u.style.xaxis)) u.style.xaxis.font = {}\r\n        if (!('font' in u.style.yaxis)) u.style.yaxis.font = {}\r\n      }\r\n      u.style.paper_bgcolor = s.backgroundColor\r\n      u.style.plot_bgcolor = s.backgroundColor\r\n      u.style.font.color = s.color\r\n      u.style.modebar.bgcolor = s.backgroundColor\r\n      u.style.modebar.color = s.color\r\n      if (u.e._fullLayout.xaxis.showgrid) u.style.xaxis.gridcolor = s.borderColor\r\n      if (u.e._fullLayout.yaxis.showgrid) u.style.yaxis.gridcolor = s.borderColor\r\n      u.style.xaxis.font.color = s.color\r\n      u.style.yaxis.font.color = s.color\r\n      Plotly.relayout(u.e, u.options.layout)\r\n    }\r\n  }\r\n\r\n  function make_data_entry(u, e, rank, total, name, color) {\r\n    if (e.data && u.parsed.x in site.data.variables) {\r\n      const x = site.data.get_value({variable: u.parsed.x, entity: e}),\r\n        y = site.data.get_value({variable: u.parsed.y, entity: e}),\r\n        t = JSON.parse(u.traces[u.base_trace]),\r\n        yr = site.data.variables[u.parsed.y].time_range[u.parsed.dataset],\r\n        xr = site.data.variables[u.parsed.x].time_range[u.parsed.dataset],\r\n        n = Math.min(yr[1], xr[1]) + 1,\r\n        ns = u.parsed.summary.n\r\n      for (let i = Math.max(yr[0], xr[0]); i < n; i++) {\r\n        if (site.settings.show_empty_times || ns[i - u.parsed.y_range[0]]) {\r\n          t.text.push(e.features.name)\r\n          t.x.push(u.parsed.x_range[0] <= i && i <= u.parsed.x_range[1] ? x[i - u.parsed.x_range[0]] : NaN)\r\n          t.y.push(u.parsed.y_range[0] <= i && i <= u.parsed.y_range[1] ? y[i - u.parsed.y_range[0]] : NaN)\r\n        }\r\n      }\r\n      t.type = u.parsed.base_trace\r\n      t.color =\r\n        t.line.color =\r\n        t.marker.color =\r\n        t.textfont.color =\r\n          color ||\r\n          pal(\r\n            e.get_value(u.parsed.color, u.parsed.time),\r\n            u.parsed.palette,\r\n            u.parsed.summary,\r\n            u.parsed.time,\r\n            rank,\r\n            total\r\n          ) ||\r\n          defaults.border\r\n      if ('bar' === t.type) t.marker.line.width = 0\r\n      t.name = name || e.features.name\r\n      t.id = e.features.id\r\n      return t\r\n    }\r\n  }\r\n\r\n  function make_summary_table(parent, summary, additional) {\r\n    parent.classList.add('info-summary-wrapper')\r\n    const e = document.createElement('table')\r\n    e.className = 'info-summary'\r\n    e.appendChild(document.createElement('tr'))\r\n    e.appendChild(document.createElement('tr'))\r\n    if (additional) {\r\n      Object.keys(additional).forEach(h => {\r\n        e.firstElementChild.appendChild(document.createElement('th'))\r\n        e.firstElementChild.lastElementChild.innerText = h\r\n        e.lastElementChild.appendChild(document.createElement('td'))\r\n        e.lastElementChild.lastElementChild.innerText = additional[h]\r\n      })\r\n    }\r\n    ;['NAs', 'Min', 'Q1', 'Mean', 'Median', 'Q3', 'Max'].forEach(h => {\r\n      const lower = h.toLowerCase()\r\n      if (!summary || lower in summary) {\r\n        e.firstElementChild.appendChild(document.createElement('th'))\r\n        e.firstElementChild.lastElementChild.innerText = h\r\n        e.lastElementChild.appendChild(document.createElement('td'))\r\n        e.lastElementChild.lastElementChild.innerText = summary ? site.data.format_value(summary[lower]) : 'NA'\r\n      }\r\n    })\r\n    parent.appendChild(e)\r\n    return e\r\n  }\r\n\r\n  function fill_summary_table(table, summary, time) {\r\n    const e = table.lastElementChild.children\r\n    filter_components.summary.forEach((c, i) => {\r\n      e[i].innerText = site.data.format_value(summary[c][time], 0 === i)\r\n    })\r\n  }\r\n\r\n  function make_variable_reference(c) {\r\n    if (!Array.isArray(c.author)) c.author = [c.author]\r\n    const e = document.createElement('li'),\r\n      n = c.author.length\r\n    let s = '',\r\n      j = 1 === n ? '' : 2 === n ? ' & ' : ', & '\r\n    for (let i = n; i--; ) {\r\n      const a = c.author[i]\r\n      s =\r\n        (i ? j : '') +\r\n        ('string' === typeof a ? a : a.family) +\r\n        (a.given ? ', ' + a.given.substring(0, 1) + '.' : '') +\r\n        s\r\n      j = ', '\r\n    }\r\n    e.innerHTML =\r\n      s +\r\n      ' (' +\r\n      c.year +\r\n      '). ' +\r\n      c.title +\r\n      '.' +\r\n      (c.journal\r\n        ? ' <em>' + c.journal + (c.volume ? ', ' + c.volume : '') + '</em>' + (c.page ? ', ' + c.page : '') + '.'\r\n        : '') +\r\n      (c.version ? ' Version ' + c.version + '.' : '') +\r\n      (c.doi || c.url\r\n        ? (c.doi ? ' doi: ' : ' url: ') +\r\n          (c.doi || c.url\r\n            ? '<a rel=\"noreferrer\" target=\"_blank\" href=\"' +\r\n              (c.doi ? 'https://doi.org/' + c.doi : c.url) +\r\n              '\">' +\r\n              (c.doi || c.url.replace(patterns.http, '')) +\r\n              '</a>'\r\n            : '')\r\n        : '')\r\n    return e\r\n  }\r\n\r\n  function make_variable_source(s, table) {\r\n    const e = document.createElement(table ? 'tr' : 'div')\r\n    let ee\r\n    if (table) {\r\n      if (s.name) {\r\n        e.appendChild((ee = document.createElement('td')))\r\n        if (s.url) {\r\n          ee.appendChild((ee = document.createElement('a')))\r\n          ee.target = '_blank'\r\n          ee.rel = 'noreferrer'\r\n          ee.href = s.url\r\n        } else {\r\n          ee.appendChild(document.createElement('span'))\r\n        }\r\n        e.firstElementChild.firstElementChild.innerText = s.name\r\n      }\r\n      if (s.date_accessed) {\r\n        e.appendChild((ee = document.createElement('td')))\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.firstElementChild.innerText = s.date_accessed\r\n      }\r\n    } else {\r\n      e.className = 'card'\r\n      if (s.name) {\r\n        e.appendChild((ee = document.createElement('div')))\r\n        ee.className = 'card-header'\r\n        if (s.url) {\r\n          ee.appendChild((ee = document.createElement('a')))\r\n          ee.target = '_blank'\r\n          ee.rel = 'noreferrer'\r\n          ee.href = s.url\r\n        } else {\r\n          ee.appendChild(document.createElement('span'))\r\n        }\r\n        e.firstElementChild.firstElementChild.innerText = s.name\r\n      }\r\n      e.appendChild(document.createElement('div'))\r\n      e.lastElementChild.className = 'card-body'\r\n      if (s.location) {\r\n        e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.lastElementChild.innerText = 'Location: '\r\n        ee.appendChild(document.createElement('span'))\r\n        if (s.location_url) {\r\n          ee.lastElementChild.appendChild((ee = document.createElement('a')))\r\n          ee.target = '_blank'\r\n          ee.rel = 'noreferrer'\r\n          ee.href = s.location_url\r\n          ee.innerText = s.location\r\n        } else {\r\n          ee.lastElementChild.innerText = s.location\r\n        }\r\n      }\r\n      if (s.date_accessed) {\r\n        e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.lastElementChild.innerText = 'Date Accessed: '\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.lastElementChild.innerText = s.date_accessed\r\n      }\r\n    }\r\n    return e\r\n  }\r\n\r\n  function show_variable_info() {\r\n    const v = _u[this.view],\r\n      name = valueOf(this.v || v.y),\r\n      info = site.data.variable_info[name]\r\n    page.modal.info.header.firstElementChild.innerText = info.short_name\r\n    page.modal.info.title.innerText = info.long_name\r\n    set_description(page.modal.info.description, info)\r\n    page.modal.info.name.lastElementChild.innerText = name\r\n    page.modal.info.type.lastElementChild.innerText = info.unit || info.aggregation_method || info.type || ''\r\n    if (info.sources && info.sources.length) {\r\n      page.modal.info.sources.lastElementChild.innerHTML = ''\r\n      page.modal.info.sources.classList.remove('hidden')\r\n      info.sources.forEach(s => {\r\n        page.modal.info.sources.lastElementChild.appendChild(make_variable_source(s))\r\n      })\r\n    } else page.modal.info.sources.classList.add('hidden')\r\n    if (info.citations && info.citations.length) {\r\n      page.modal.info.references.lastElementChild.innerHTML = ''\r\n      page.modal.info.references.classList.remove('hidden')\r\n      if ('string' === typeof info.citations) info.citations = [info.citations]\r\n      if ('references' in site.data) {\r\n        delete site.data.variable_info._references\r\n        delete site.data.references\r\n      }\r\n      if (!('_references' in site.data.variable_info)) {\r\n        const r = {}\r\n        site.data.variable_info._references = r\r\n        Object.keys(site.data.info).forEach(d => {\r\n          const m = site.data.info[d]\r\n          if ('_references' in m) {\r\n            Object.keys(m._references).forEach(t => {\r\n              if (!(t in r))\r\n                r[t] = {\r\n                  reference: m._references[t],\r\n                  element: make_variable_reference(m._references[t]),\r\n                }\r\n            })\r\n          }\r\n        })\r\n      }\r\n      const r = site.data.variable_info._references\r\n      info.citations.forEach(c => {\r\n        if (c in r) page.modal.info.references.lastElementChild.appendChild(r[c].element)\r\n      })\r\n    } else page.modal.info.references.classList.add('hidden')\r\n    if ('origin' in info) {\r\n      page.modal.info.origin.classList.remove('hidden')\r\n      const l = page.modal.info.origin.lastElementChild\r\n      l.innerHTML = ''\r\n      if ('string' === typeof info.origin) info.origin = [info.origin]\r\n      info.origin.forEach(url => {\r\n        const c = document.createElement('li'),\r\n          repo = patterns.repo.exec(url)[1]\r\n        let link = document.createElement('a')\r\n        link.href = 'https://github.com/' + repo\r\n        link.target = '_blank'\r\n        link.rel = 'noreferrer'\r\n        link.innerText = repo\r\n        c.appendChild(link)\r\n        c.appendChild(document.createElement('span'))\r\n        c.lastElementChild.innerText = ' / '\r\n        link = document.createElement('a')\r\n        link.href = url\r\n        link.target = '_blank'\r\n        link.rel = 'noreferrer'\r\n        link.innerText = url.replace(patterns.basename, '')\r\n        c.appendChild(link)\r\n        l.appendChild(c)\r\n      })\r\n    } else page.modal.info.origin.classList.add('hidden')\r\n    if (info.source_file) {\r\n      page.modal.info.source_file.classList.remove('hidden')\r\n      page.modal.info.source_file.firstElementChild.href = info.source_file\r\n    } else page.modal.info.source_file.classList.add('hidden')\r\n  }\r\n\r\n  function parse_variables(s, type, e, entity) {\r\n    if ('statement' === type) {\r\n      for (let m, v; (m = patterns.mustache.exec(s)); ) {\r\n        if ('value' === m[1]) {\r\n          v = entity\r\n            ? site.data.format_value(\r\n                entity.get_value(e.v, e.time),\r\n                patterns.int_types.test(site.data.variables[e.v].type)\r\n              )\r\n            : NaN\r\n          const info = site.data.variable_info[e.v]\r\n          let type = info.unit || info.type\r\n          if (info.aggregation_method && !(type in value_types)) type = info.aggregation_method\r\n          s = s.replace(m[0], NaN !== v && type in value_types ? value_types[type](v) : v)\r\n          patterns.mustache.lastIndex = 0\r\n        } else if (entity) {\r\n          if ('region_name' === m[1]) {\r\n            s = s.replace(m[0], entity.features.name)\r\n            patterns.mustache.lastIndex = 0\r\n          } else if (patterns.features.test(m[1])) {\r\n            s = s.replace(m[0], entity.features[m[1].replace(patterns.features, '')])\r\n            patterns.mustache.lastIndex = 0\r\n          } else if (patterns.variables.test(m[1])) {\r\n            s = s.replace(m[0], entity.variables[e.v][m[1].replace(patterns.variables, '')])\r\n            patterns.mustache.lastIndex = 0\r\n          } else if (patterns.data.test(m[1])) {\r\n            s = s.replace(m[0], entity.get_value(m[1].replace(patterns.data, ''), e.time))\r\n            patterns.mustache.lastIndex = 0\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return s\r\n  }\r\n\r\n  let k, i, e, ee, c\r\n  // get options from url\r\n  site.query = k = window.location.search.replace('?', '')\r\n  site.url_options = {}\r\n  if (k) {\r\n    e = k.split('&')\r\n    for (i = e.length; i--; ) {\r\n      c = e[i].split('=')\r\n      if (c.length < 2) c.push('true')\r\n      c[1] = patterns.bool.test(c[1]) ? !!c[1] || 'true' === c[1] : c[1].replace(patterns.url_spaces, ' ')\r\n      site.url_options[c[0]] = c[1]\r\n      if (patterns.settings.test(c[0])) storage.set(c[0].replace(patterns.settings, ''), c[1])\r\n    }\r\n  }\r\n\r\n  // prepare embedded view\r\n  if ('embedded' in site.url_options || 'hide_navbar' in site.url_options) {\r\n    if (!('hide_logo' in site.url_options)) site.url_options.hide_logo = true\r\n    if (!('hide_title' in site.url_options)) site.url_options.hide_title = true\r\n    if (!('hide_navcontent' in site.url_options)) site.url_options.hide_navcontent = true\r\n    if (!('hide_panels' in site.url_options)) site.url_options.hide_panels = true\r\n    if ('embedded' in site.url_options && !('close_menus' in site.url_options)) site.url_options.close_menus = true\r\n  }\r\n  e = page.navbar\r\n  if (e) {\r\n    e.querySelectorAll('button').forEach(b => {\r\n      const panel = document.querySelector(b.getAttribute('data-bs-target'))\r\n      if (panel && 'false' === panel.getAttribute('data-bs-backdrop')) {\r\n        panel.addEventListener('show.bs.offcanvas', function () {\r\n          page.content_bounds.outer_right = panel.getBoundingClientRect().width\r\n          content_resize(void 0, true)\r\n          setTimeout(trigger_resize, 200)\r\n        })\r\n        panel.addEventListener('hide.bs.offcanvas', function () {\r\n          page.content_bounds.outer_right = 0\r\n          content_resize(void 0, true)\r\n          setTimeout(trigger_resize, 200)\r\n        })\r\n      }\r\n    })\r\n    if ('navcolor' in site.url_options) {\r\n      if ('' === site.url_options.navcolor) site.url_options.navcolor = window.location.hash\r\n      e.style.backgroundColor = site.url_options.navcolor.replace('%23', '#')\r\n    }\r\n    if (site.url_options.hide_logo && site.url_options.hide_title && site.url_options.hide_navcontent) {\r\n      e.classList.add('hidden')\r\n    } else {\r\n      e = document.querySelector('.navbar-brand')\r\n      if (e) {\r\n        if (site.url_options.hide_logo && 'IMG' === e.firstElementChild.tagName)\r\n          e.firstElementChild.classList.add('hidden')\r\n        if (site.url_options.hide_title && 'IMG' !== e.lastElementChild.tagName)\r\n          e.lastElementChild.classList.add('hidden')\r\n      }\r\n      if (site.url_options.hide_navcontent) {\r\n        document.querySelector('.navbar-toggler').classList.add('hidden')\r\n        e = document.querySelector('.navbar-nav')\r\n        if (e) e.classList.add('hidden')\r\n      }\r\n    }\r\n    if (site.url_options.hide_panels && page.panels.length) {\r\n      for (i = page.panels.length; i--; ) {\r\n        page.panels[i].classList.add('hidden')\r\n      }\r\n    }\r\n  }\r\n\r\n  // check for stored settings\r\n  storage.copy = storage.get()\r\n  if (storage.copy)\r\n    for (const k in site.settings) {\r\n      if (k in storage.copy) {\r\n        let c = storage.copy[k]\r\n        if (patterns.bool.test(c)) {\r\n          c = !!c || 'true' === c\r\n        } else if (patterns.number.test(c)) c = parseFloat(c)\r\n        site.settings[k] = c\r\n      }\r\n    }\r\n\r\n  // preprocess polynomial palettes\r\n  function poly_channel(ch, pos, coefs) {\r\n    const n = coefs.length\r\n    let v = coefs[0][ch] + pos * coefs[1][ch],\r\n      i = 2\r\n    for (; i < n; i++) {\r\n      v += Math.pow(pos, i) * coefs[i][ch]\r\n    }\r\n    return Math.max(0, Math.min(255, v))\r\n  }\r\n  Object.keys(palettes).forEach(k => {\r\n    const n = 255,\r\n      p = palettes[k]\r\n    if ('continuous-polynomial' === p.type) {\r\n      const c = p.colors\r\n      p.type = 'discrete'\r\n      p.colors = []\r\n      for (let i = 0; i < n; i++) {\r\n        const v = i / n\r\n        p.colors.push(\r\n          'rgb(' + poly_channel(0, v, c) + ', ' + poly_channel(1, v, c) + ', ' + poly_channel(2, v, c) + ')'\r\n        )\r\n      }\r\n    }\r\n    p.odd = p.colors.length % 2\r\n  })\r\n\r\n  window.onload = function () {\r\n    page.navbar = document.querySelector('.navbar')\r\n    page.navbar = page.navbar ? page.navbar.getBoundingClientRect() : {height: 0}\r\n    page.content = document.querySelector('.content')\r\n    page.menus = document.querySelectorAll('.menu-wrapper')\r\n    page.panels = document.querySelectorAll('.panel')\r\n    page.content_bounds = {\r\n      top: page.navbar.height,\r\n      right: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      outer_right: 0,\r\n    }\r\n    page.script_style = document.head.appendChild(document.createElement('style'))\r\n    if (site.settings.hide_tooltips) page.script_style.sheet.insertRule(tooltip_icon_rule, 0)\r\n    page.menu_toggler = {\r\n      hide: function () {\r\n        page.menu_toggler.timeout = -1\r\n        this.classList.add('hidden')\r\n        content_resize()\r\n      },\r\n      toggle: function (type) {\r\n        if (page.menu_toggler.timeout > 0) clearTimeout(page.menu_toggler.timeout)\r\n        page.menu_toggler.timeout = -1\r\n        if ('closed' === this.parentElement.state) {\r\n          this.parentElement.state = 'open'\r\n          this.parentElement.firstElementChild.classList.remove('hidden')\r\n          this.parentElement.style[type] = '0px'\r\n          page.content.style[type] =\r\n            this.parentElement.getBoundingClientRect()['left' === type || 'right' === type ? 'width' : 'height'] + 'px'\r\n          if ('top' === type || 'bottom' === type) this.style[type] = page.content_bounds[type] + 'px'\r\n          setTimeout(trigger_resize, 300)\r\n        } else {\r\n          this.parentElement.state = 'closed'\r\n          if ('left' === type || 'right' === type) {\r\n            this.parentElement.style[type] = -this.parentElement.getBoundingClientRect().width + 'px'\r\n            page.content.style[type] = page.content_bounds[type] + 'px'\r\n          } else {\r\n            const b = this.parentElement.getBoundingClientRect()\r\n            page.content.style[type] = page.content_bounds[type] + ('top' === type ? 40 : 0) + 'px'\r\n            this.parentElement.style[type] = -b.height + ('top' === type ? page.content_bounds.top : 0) + 'px'\r\n            if ('top' === type || 'bottom' === type) this.style[type] = b.height + 'px'\r\n          }\r\n          page.menu_toggler.timeout = setTimeout(page.menu_toggler.hide.bind(this.parentElement.firstElementChild), 300)\r\n        }\r\n      },\r\n      timeout: -1,\r\n    }\r\n    page.modal = {\r\n      info: {\r\n        init: false,\r\n        e: document.createElement('div'),\r\n      },\r\n      filter: {\r\n        init: false,\r\n        e: document.createElement('div'),\r\n      },\r\n    }\r\n    page.load_screen = document.getElementById('load_screen')\r\n\r\n    // initialize tags\r\n    if (site.settings.tracking && site.tag_id) {\r\n      gtag('js', new Date())\r\n      gtag('config', site.tag_id)\r\n    }\r\n\r\n    // make variable info popup\r\n    e = page.modal.info.e\r\n    document.body.appendChild(e)\r\n    page.modal.info.init = true\r\n    e.id = 'variable_info_display'\r\n    e.className = 'modal fade'\r\n    e.setAttribute('tabindex', '-1')\r\n    e.setAttribute('aria-labelledby', 'variable_info_title')\r\n    e.ariaHidden = 'true'\r\n    e.appendChild(document.createElement('div'))\r\n    e.firstElementChild.className = 'modal-dialog modal-dialog-scrollable'\r\n    e.firstElementChild.appendChild(document.createElement('div'))\r\n    e.firstElementChild.firstElementChild.className = 'modal-content'\r\n    e.firstElementChild.firstElementChild.appendChild((page.modal.info.header = document.createElement('div')))\r\n    e = page.modal.info\r\n    e.header.className = 'modal-header'\r\n    e.header.appendChild(document.createElement('p'))\r\n    e.header.firstElementChild.className = 'h5 modal-title'\r\n    e.header.firstElementChild.id = 'variable_info_title'\r\n    e.header.appendChild(document.createElement('button'))\r\n    e.header.lastElementChild.type = 'button'\r\n    e.header.lastElementChild.className = 'btn-close'\r\n    e.header.lastElementChild.setAttribute('data-bs-dismiss', 'modal')\r\n    e.header.lastElementChild.title = 'close'\r\n    e.header.insertAdjacentElement('afterEnd', (e.body = document.createElement('div')))\r\n    e.body.className = 'modal-body'\r\n    e.body.appendChild((e.title = document.createElement('p')))\r\n    e.title.className = 'h4'\r\n    e.body.appendChild((e.description = document.createElement('p')))\r\n\r\n    e.body.appendChild(document.createElement('table'))\r\n    e.body.lastElementChild.className = 'info-feature-table'\r\n\r\n    e.body.lastElementChild.appendChild((e.name = document.createElement('tr')))\r\n    e.name.appendChild(document.createElement('th'))\r\n    e.name.firstElementChild.innerText = 'Name'\r\n    e.name.appendChild(document.createElement('td'))\r\n\r\n    e.body.lastElementChild.appendChild((e.type = document.createElement('tr')))\r\n    e.type.appendChild(document.createElement('th'))\r\n    e.type.firstElementChild.innerText = 'Type'\r\n    e.type.appendChild(document.createElement('td'))\r\n\r\n    e.body.appendChild((e.sources = document.createElement('div')))\r\n    e.sources.appendChild(document.createElement('p'))\r\n    e.sources.lastElementChild.innerText = 'Sources'\r\n    e.sources.lastElementChild.className = 'h3'\r\n    e.sources.appendChild(document.createElement('div'))\r\n    e.sources.lastElementChild.className = 'sources-cards'\r\n\r\n    e = page.modal.info\r\n    e.body.appendChild((e.references = document.createElement('div')))\r\n    e.references.appendChild(document.createElement('p'))\r\n    e.references.firstElementChild.className = 'h3'\r\n    e.references.firstElementChild.innerText = 'References'\r\n    e.references.appendChild((e = document.createElement('ul')))\r\n    e.className = 'reference-list'\r\n\r\n    e = page.modal.info\r\n    e.body.appendChild((e.origin = document.createElement('div')))\r\n    e.origin.appendChild(document.createElement('p'))\r\n    e.origin.firstElementChild.className = 'h3'\r\n    e.origin.firstElementChild.innerText = 'Origin'\r\n    e.origin.appendChild((e = document.createElement('ul')))\r\n    e.className = 'origin-list'\r\n\r\n    e = page.modal.info\r\n    e.body.appendChild((e.source_file = document.createElement('div')))\r\n    e.source_file.className = 'info-source-file'\r\n    e.source_file.appendChild((e = document.createElement('a')))\r\n    e.innerText = 'measure_info.json'\r\n    e.target = '_blank'\r\n    e.rel = 'noreferrer'\r\n\r\n    // set up filter's time range\r\n    document.body.appendChild((e = page.modal.filter.e))\r\n    page.modal.filter.init = true\r\n    e.id = 'filter_display'\r\n    e.className = 'modal fade'\r\n    e.setAttribute('aria-labelledby', 'filter_title')\r\n    e.ariaHidden = 'true'\r\n    e.appendChild(document.createElement('div'))\r\n    e.firstElementChild.className = 'modal-dialog'\r\n    e.firstElementChild.appendChild(document.createElement('div'))\r\n    e.firstElementChild.firstElementChild.className = 'modal-content'\r\n    e.firstElementChild.firstElementChild.appendChild((page.modal.filter.header = document.createElement('div')))\r\n    e = page.modal.filter\r\n    e.header.className = 'modal-header'\r\n    e.header.appendChild(document.createElement('p'))\r\n    e.header.firstElementChild.className = 'h5 modal-title'\r\n    e.header.firstElementChild.id = 'filter_title'\r\n    e.header.firstElementChild.innerText = 'Filter'\r\n    e.header.appendChild(document.createElement('button'))\r\n    e.header.lastElementChild.type = 'button'\r\n    e.header.lastElementChild.className = 'btn-close'\r\n    e.header.lastElementChild.setAttribute('data-bs-dismiss', 'modal')\r\n    e.header.lastElementChild.title = 'close'\r\n    e.header.insertAdjacentElement('afterEnd', (e.body = document.createElement('div')))\r\n    e.body.className = 'modal-body'\r\n    e.body.appendChild(document.createElement('p'))\r\n    e.body.lastElementChild.className = 'h6'\r\n    e.body.lastElementChild.innerText = 'Time Range'\r\n\r\n    e.body.appendChild((e.time_range = document.createElement('div')))\r\n    e.time_range.className = 'row'\r\n\r\n    e.time_range.appendChild(document.createElement('div'))\r\n    e.time_range.lastElementChild.className = 'col'\r\n    e.time_range.lastElementChild.appendChild((ee = document.createElement('div')))\r\n    ee.className = 'form-floating text-wrapper wrapper'\r\n    ee.appendChild(document.createElement('input'))\r\n    ee.lastElementChild.className = 'form-control auto-input'\r\n    ee.lastElementChild.setAttribute('data-autoType', 'number')\r\n    ee.lastElementChild.setAttribute('data-default', 'min')\r\n    ee.lastElementChild.max = 'filter.time_max'\r\n    ee.lastElementChild.type = 'number'\r\n    ee.lastElementChild.autoType = 'number'\r\n    ee.lastElementChild.id = 'filter.time_min'\r\n    ee.appendChild(document.createElement('label'))\r\n    ee.lastElementChild.innerText = 'First Time'\r\n    ee.lastElementChild.setAttribute('for', 'filter.time_min')\r\n    e.time_range.appendChild(document.createElement('div'))\r\n    e.time_range.lastElementChild.className = 'col'\r\n    e.time_range.lastElementChild.appendChild((ee = document.createElement('div')))\r\n    ee.className = 'form-floating text-wrapper wrapper'\r\n    ee.appendChild(document.createElement('input'))\r\n    ee.lastElementChild.className = 'form-control auto-input'\r\n    ee.lastElementChild.setAttribute('data-autoType', 'number')\r\n    ee.lastElementChild.setAttribute('data-default', 'max')\r\n    ee.lastElementChild.min = 'filter.time_min'\r\n    ee.lastElementChild.type = 'number'\r\n    ee.lastElementChild.autoType = 'number'\r\n    ee.lastElementChild.id = 'filter.time_max'\r\n    ee.appendChild(document.createElement('label'))\r\n    ee.lastElementChild.innerText = 'Last Time'\r\n    ee.lastElementChild.setAttribute('for', 'filter.time_max')\r\n\r\n    page.panels.length &&\r\n      page.panels.forEach(p => {\r\n        const side = p.classList.contains('panel-left') ? 'left' : 'right'\r\n        page.content_bounds[side] = p.getBoundingClientRect().width\r\n        p.style.marginTop = page.content_bounds.top + 'px'\r\n        p.lastElementChild.addEventListener(\r\n          'click',\r\n          function () {\r\n            const w = p.getBoundingClientRect().width,\r\n              bw = p.lastElementChild.getBoundingClientRect().width\r\n            if ('true' === p.lastElementChild.getAttribute('aria-expanded')) {\r\n              page.content_bounds[side] = bw\r\n              if (page.top_menu) page.top_menu.style[side] = bw + 'px'\r\n              if (page.bottom_menu) page.bottom_menu.style[side] = bw + 'px'\r\n              p.style[side] = -w + bw + 'px'\r\n              p.lastElementChild.setAttribute('aria-expanded', 'false')\r\n            } else {\r\n              page.content_bounds[side] = w\r\n              if (page.top_menu) page.top_menu.style[side] = w + 'px'\r\n              if (page.bottom_menu) page.bottom_menu.style[side] = w + 'px'\r\n              p.style[side] = '0px'\r\n              p.lastElementChild.setAttribute('aria-expanded', 'true')\r\n            }\r\n            content_resize()\r\n            setTimeout(trigger_resize, 200)\r\n          }.bind(p)\r\n        )\r\n      })\r\n    page.menus.length &&\r\n      page.menus.forEach(m => {\r\n        const has_toggler = m.lastElementChild.tagName === 'BUTTON'\r\n        m.state = m.getAttribute('data-state')\r\n        if (m.classList.contains('menu-top')) {\r\n          page.top_menu = m\r\n          page.top_menu.style.left = page.content_bounds.left + 'px'\r\n          page.top_menu.style.right = page.content_bounds.right + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'top'))\r\n            m.lastElementChild.style.top = page.content_bounds.top + 'px'\r\n          }\r\n        } else if (m.classList.contains('menu-right')) {\r\n          page.right_menu = m\r\n          page.right_menu.style.right = page.content_bounds.right + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'right'))\r\n            m.lastElementChild.style.top = page.content_bounds.top + 'px'\r\n          }\r\n        } else if (m.classList.contains('menu-bottom')) {\r\n          page.bottom_menu = m\r\n          page.content_bounds.bottom = 40\r\n          page.bottom_menu.style.left = page.content_bounds.left + 'px'\r\n          page.bottom_menu.style.right = page.content_bounds.right + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'bottom'))\r\n          }\r\n        } else if (m.classList.contains('menu-left')) {\r\n          page.left_menu = m\r\n          page.left_menu.style.left = page.content_bounds.left + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'left'))\r\n            m.lastElementChild.style.top = page.content_bounds.top + 'px'\r\n          }\r\n        }\r\n        if (site.url_options.close_menus && 'open' === m.state) m.lastElementChild.click()\r\n      })\r\n\r\n    // initialize global tooltip\r\n    page.tooltip = {\r\n      e: document.createElement('div'),\r\n      showing: '',\r\n    }\r\n    page.tooltip.e.className = 'tooltip hidden'\r\n    page.tooltip.e.appendChild(document.createElement('p'))\r\n    document.body.appendChild(page.tooltip.e)\r\n    document.body.addEventListener('mouseover', tooltip_clear)\r\n\r\n    // initialize tutorial selection dialog\r\n    if (site.tutorials) {\r\n      page.tutorials = new TutorialManager(site.tutorials, _u, global_reset)\r\n      page.overlay.appendChild(page.tutorials.container)\r\n    }\r\n\r\n    // initialize inputs\r\n    if (site.dataviews) {\r\n      for (const k in site.dataviews)\r\n        if (k in site.dataviews) {\r\n          defaults.dataview = k\r\n          break\r\n        }\r\n    } else {\r\n      site.dataviews = {}\r\n      site.dataviews[defaults.dataview] = {}\r\n    }\r\n    document.querySelectorAll('.auto-input').forEach(elements.init_input)\r\n\r\n    // initialize variables\r\n    if (site.variables && site.variables.length) {\r\n      site.variables.forEach(v => {\r\n        const k = v.id,\r\n          u = {\r\n            id: k,\r\n            type: 'virtual',\r\n            source: v.default,\r\n            previous: void 0,\r\n            default: v.default,\r\n            display: v.display,\r\n            current_index: -1,\r\n            values: [],\r\n            states: v.states,\r\n            update: function () {\r\n              this.source = void 0\r\n              for (let p, i = this.states.length; i--; ) {\r\n                p = true\r\n                for (let c = this.states[i].condition.length; c--; ) {\r\n                  const r = this.states[i].condition[c]\r\n                  if (DataHandler.checks[r.type](valueOf(r.id), valueOf(r.value))) {\r\n                    if (r.any) {\r\n                      p = true\r\n                      break\r\n                    }\r\n                  } else p = false\r\n                }\r\n                if (p) {\r\n                  this.source = this.states[i].value\r\n                  break\r\n                }\r\n              }\r\n              if (!this.source) this.source = this.default\r\n              if (this.source !== this.previous) {\r\n                this.previous = this.source\r\n                request_queue(this.id)\r\n              } else if (this.source in _u) {\r\n                const r = _u[this.source].value()\r\n                if (r !== this.previous) {\r\n                  this.previous = r\r\n                  request_queue(this.id)\r\n                }\r\n              }\r\n            },\r\n            value: function () {\r\n              return valueOf(this.source)\r\n            },\r\n            set: function (v) {\r\n              if (-1 !== this.values.indexOf(v)) {\r\n                this.previous = this.source\r\n                this.source = v\r\n              } else if (this.source) {\r\n                const c = _u[this.source]\r\n                if (\r\n                  'select' === c.type || 'combobox' === c.type\r\n                    ? v in c.values || v in c.display\r\n                    : -1 !== c.values.indexOf(v)\r\n                ) {\r\n                  c.set(v)\r\n                }\r\n              }\r\n              request_queue(this.id)\r\n            },\r\n          }\r\n        _u[k] = u\r\n        if (u.source) u.values.push(u.source)\r\n        const p = {}\r\n        u.states.forEach(si => {\r\n          u.values.push(si.value)\r\n          si.condition.forEach(c => {\r\n            p[c.id] = {type: 'update', id: k}\r\n            add_dependency(c.id, {type: 'update', id: k})\r\n          })\r\n        })\r\n        u.values.forEach(id => {\r\n          if (id in _u) add_dependency(id, {type: 'update', id: k})\r\n        })\r\n      })\r\n    }\r\n\r\n    // initialize rules\r\n    if (site.rules && site.rules.length) {\r\n      site.rules.forEach((r, i) => {\r\n        if ('display' in r.effects) {\r\n          r.effects.display = {e: document.getElementById(r.effects.display)}\r\n          e = r.effects.display.e.querySelector('.auto-input')\r\n          if (e) {\r\n            const u = _u[e.id]\r\n            u.rule = r\r\n            r.effects.display.u = u\r\n          }\r\n        }\r\n        if ('lock' in r.effects) {\r\n          const us = new Map()\r\n          document.querySelectorAll('#' + r.effects.lock + ' .auto-input').forEach(e => us.set(e.id, _u[e.id]))\r\n          r.effects.lock = us\r\n        }\r\n        r.condition.forEach(c => {\r\n          if (c.type in DataHandler.checks) {\r\n            c.check = function () {\r\n              return DataHandler.checks[this.type](valueOf(this.id), valueOf(this.value))\r\n            }.bind(c)\r\n            if (c.id in _u) {\r\n              add_dependency(c.id, {type: 'rule', id: c.id, condition: c, rule: i})\r\n              if (!(c.id in rule_conditions)) rule_conditions[c.id] = {}\r\n              rule_conditions[c.id][i] = r\r\n            }\r\n            if (c.check()) {\r\n              Object.keys(r.effects).forEach(k => {\r\n                if (k in _u) _u[k].set(valueOf(r.effects[k]))\r\n              })\r\n            } else if (c.default) {\r\n              Object.keys(r.effects).forEach(k => {\r\n                if (k in _u) _u[k].set(valueOf(c.default))\r\n              })\r\n            }\r\n          }\r\n        })\r\n      })\r\n    }\r\n\r\n    keys._u = Object.keys(_u)\r\n    window.addEventListener('resize', content_resize)\r\n\r\n    if (!site.metadata.datasets) drop_load_screen()\r\n\r\n    if (!site.dataviews[defaults.dataview].dataset) {\r\n      if (1 === site.metadata.datasets.length) {\r\n        defaults.dataset = site.metadata.datasets[0]\r\n      } else if (site.data) {\r\n        const info = site.data.info\r\n        for (let i = keys._u.length; i--; ) {\r\n          const u = _u[keys._u[i]]\r\n          if (u.dataset in info) {\r\n            defaults.dataset = u.dataset\r\n            break\r\n          } else if (u.default in info) {\r\n            defaults.dataset = u.default\r\n            break\r\n          } else if ('select' === u.type && u.options[u.default] && u.options[u.default].value in info) {\r\n            defaults.dataset = u.options[u.default].value\r\n            break\r\n          } else if (Array.isArray(u.values) && u.values[u.default] && u.values[u.default] in info) {\r\n            defaults.dataset = u.values[u.default]\r\n            break\r\n          }\r\n        }\r\n        if (!defaults.dataset) defaults.dataset = site.metadata.datasets[site.metadata.datasets.length - 1]\r\n      }\r\n      keys._u.forEach(k => {\r\n        const u = _u[k]\r\n        if (!u.dataset) u.dataset = defaults.dataset\r\n      })\r\n      site.dataviews[defaults.dataview].dataset = defaults.dataset\r\n    }\r\n    if ('undefined' === typeof DataHandler) {\r\n      site.data = {}\r\n    } else {\r\n      defaults.dataset = valueOf(site.dataviews[defaults.dataview].dataset)\r\n      if ('number' === typeof defaults.dataset) defaults.dataset = site.metadata.datasets[defaults.dataset]\r\n      site.data = new DataHandler(site, defaults, site.data, {\r\n        init: init,\r\n        onload: function () {\r\n          if (site.data.inited) clearTimeout(site.data.inited.load_screen)\r\n          setTimeout(drop_load_screen, 600)\r\n          delete this.onload\r\n        },\r\n        data_load: function () {\r\n          Object.keys(_c).forEach(request_queue)\r\n        },\r\n      })\r\n    }\r\n\r\n    if (page.load_screen && site.data.inited) {\r\n      site.data.inited.load_screen = setTimeout(drop_load_screen, 3000)\r\n    } else {\r\n      page.wrap.style.visibility = 'visible'\r\n    }\r\n  }\r\n\r\n  function drop_load_screen() {\r\n    if (!site.data || site.data.inited) clearTimeout(site.data.inited.load_screen)\r\n    page.wrap.style.visibility = 'visible'\r\n    page.load_screen.style.display = 'none'\r\n    if (site.tutorials && 'tutorial' in site.url_options) {\r\n      setTimeout(\r\n        page.tutorials.start_tutorial.bind(page.tutorials, {target: {dataset: {name: site.url_options.tutorial}}}),\r\n        0\r\n      )\r\n    }\r\n  }\r\n\r\n  function clear_storage() {\r\n    if (window.localStorage) storage.perm.removeItem(storage.name)\r\n    window.location.reload()\r\n  }\r\n\r\n  function content_resize(e, full) {\r\n    const f = page[full ? 'wrap' : 'content']\r\n    if (!full) {\r\n      f.style.top =\r\n        (page.top_menu && 'open' === page.top_menu.state\r\n          ? page.top_menu.getBoundingClientRect().height\r\n          : page.content_bounds.top +\r\n            ((!page.top_menu && !page.left_menu && !page.right_menu) ||\r\n            (page.right_menu && 'open' === page.right_menu.state) ||\r\n            (page.left_menu && 'open' === page.left_menu.state)\r\n              ? 0\r\n              : 40)) + 'px'\r\n      f.style.bottom =\r\n        page.content_bounds.bottom +\r\n        (!page.bottom_menu || 'closed' === page.bottom_menu.state\r\n          ? 0\r\n          : page.bottom_menu.getBoundingClientRect().height) +\r\n        'px'\r\n      f.style.left =\r\n        page.content_bounds.left +\r\n        (!page.left_menu || 'closed' === page.left_menu.state ? 0 : page.left_menu.getBoundingClientRect().width) +\r\n        'px'\r\n    }\r\n    f.style.right =\r\n      page.content_bounds[full ? 'outer_right' : 'right'] +\r\n      (!page.right_menu || 'closed' === page.right_menu.state ? 0 : page.right_menu.getBoundingClientRect().width) +\r\n      'px'\r\n  }\r\n\r\n  function trigger_resize() {\r\n    'undefined' === typeof module && window.dispatchEvent(new Event('resize'))\r\n  }\r\n\r\n  function get_options_url() {\r\n    let s = ''\r\n    keys._u.forEach(k => {\r\n      const u = _u[k]\r\n      if (u.input && !patterns.settings.test(k)) {\r\n        if (!u.range || u.range[0] !== u.range[1]) {\r\n          let v = u.value()\r\n          if ('off_default' in u ? u.off_default : v !== u.default) {\r\n            if (Array.isArray(v)) v = v.join(',')\r\n            if ('' !== v && null != v && '-1' != v) s += (s ? '&' : '?') + k + '=' + v\r\n          }\r\n        }\r\n      }\r\n    })\r\n    if (site.data && _u._base_filter.c.size) s += (s ? '&' : '?') + _u._base_filter.value([])\r\n    return window.location.protocol + '//' + window.location.host + window.location.pathname + s\r\n  }\r\n\r\n  function init() {\r\n    if (site.data.variables) {\r\n      defaults.variable = Object.keys(site.data.variables)\r\n      defaults.variable = defaults.variable[defaults.variable.length - 1]\r\n    }\r\n    if (!site.map) site.map = {}\r\n    if (!site.map._overlay_property_selectors) site.map._overlay_property_selectors = []\r\n    // initialize inputs\r\n    keys._u.forEach(async k => {\r\n      if (_u[k].type in elements) {\r\n        const o = _u[k],\r\n          combobox = 'combobox' === o.type\r\n        if (o.optionSource) {\r\n          if (patterns.palette.test(o.optionSource)) {\r\n            o.options = []\r\n            Object.keys(palettes).forEach(v => o.options.push(o.add(v, palettes[v].name)))\r\n            if (-1 === o.default) o.default = defaults.palette\r\n          } else if (patterns.datasets.test(o.optionSource)) {\r\n            if (-1 === o.default) o.default = defaults.dataset\r\n            o.options = []\r\n            site.metadata.datasets.forEach(d => o.options.push(o.add(d)))\r\n          } else {\r\n            o.sensitive = false\r\n            o.option_sets = {}\r\n            if (patterns.properties.test(o.optionSource)) {\r\n              site.map._overlay_property_selectors.push(o)\r\n            }\r\n            if (o.depends) add_dependency(o.depends, {type: 'options', id: o.id})\r\n            if (o.dataset in _u) add_dependency(o.dataset, {type: 'options', id: o.id})\r\n            if (o.view) add_dependency(o.view, {type: 'options', id: o.id})\r\n            const v = valueOf(o.dataset) || defaults.dataset\r\n            if (!o.dataset) o.dataset = v\r\n            if (v in site.data.info) conditionals.options(o)\r\n          }\r\n        }\r\n        if (combobox || 'select' === o.type) {\r\n          // resolve options\r\n          o.set_current = conditionals.set_current.bind(o)\r\n          if (Array.isArray(o.values)) {\r\n            o.values = {}\r\n            o.display = {}\r\n            let new_display = true\r\n            const select = 'select' === o.type\r\n            o.options.forEach(e => {\r\n              if (select) e.dataset.value = e.value\r\n              if (new_display) new_display = e.dataset.value === e.innerText\r\n            })\r\n            o.options.forEach((e, i) => {\r\n              o.values[e.dataset.value] = i\r\n              if (new_display) e.innerText = site.data.format_label(e.dataset.value)\r\n              o.display[e.innerText] = i\r\n            })\r\n            if (!(o.default in o.values) && !(o.default in _u)) {\r\n              o.default = Number(o.default)\r\n              if (isNaN(o.default)) o.default = -1\r\n              if (-1 !== o.default && o.default < o.options.length) {\r\n                o.default = o.options[o.default].dataset.value\r\n              } else {\r\n                o.default = -1\r\n              }\r\n            }\r\n            o.source = ''\r\n            o.id in site.url_options ? o.set(site.url_options[o.id]) : o.reset()\r\n          }\r\n          o.subset = o.e.getAttribute('data-subset') || 'all'\r\n          o.selection_subset = o.e.getAttribute('data-selectionSubset') || o.subset\r\n          if (o.type in site && o.id in site[o.type]) {\r\n            o.settings = site[o.type][o.id]\r\n            if (o.settings.filters) {\r\n              o.filters = o.settings.filters\r\n              o.current_filter = {}\r\n              Object.keys(o.filters).forEach(f => {\r\n                add_dependency(o.filters[f], {type: 'filter', id: o.id})\r\n              })\r\n              o.filter = function () {\r\n                Object.keys(this.filters).forEach(f => {\r\n                  this.current_filter[f] = valueOf(this.filters[f])\r\n                })\r\n                let first\r\n                Object.keys(this.values).forEach((v, i) => {\r\n                  let pass = false\r\n                  if (v in site.data.variables && 'meta' in site.data.variables[v]) {\r\n                    for (const k in this.current_filter)\r\n                      if (k in site.data.variables[v].meta) {\r\n                        pass = site.data.variables[v].meta[k] === this.current_filter[k]\r\n                        if (!pass) break\r\n                      }\r\n                  }\r\n                  if (pass && !first) first = v\r\n                  this.options[i].classList[pass ? 'remove' : 'add']('hidden')\r\n                })\r\n                this.current_index = this.values[this.value()]\r\n                if (\r\n                  first &&\r\n                  (-1 === this.current_index || this.options[this.current_index].classList.contains('hidden'))\r\n                ) {\r\n                  this.set(first)\r\n                }\r\n              }.bind(o)\r\n            }\r\n          }\r\n        } else if ('number' === o.type) {\r\n          // retrieve option values\r\n          o.min = o.e.getAttribute('min')\r\n          o.min_ref = parseFloat(o.min)\r\n          o.min_indicator = o.e.parentElement.parentElement.querySelector('.indicator-min')\r\n          if (o.min_indicator) {\r\n            o.min_indicator.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(this.parsed.min)\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.max = o.e.getAttribute('max')\r\n          o.max_ref = parseFloat(o.max)\r\n          o.max_indicator = o.e.parentElement.parentElement.querySelector('.indicator-max')\r\n          if (o.max_indicator) {\r\n            o.max_indicator.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(this.parsed.max)\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.ref = isNaN(o.min_ref) || isNaN(o.max_ref)\r\n          o.range = [o.min_ref, o.max_ref]\r\n          o.step = parseFloat(o.e.step) || 1\r\n          o.parsed = {min: undefined, max: undefined}\r\n          o.depends = {}\r\n          o.default_max = 'max' === o.default || 'last' === o.default\r\n          o.default_min = 'min' === o.default || 'first' === o.default\r\n          o.update = async function () {\r\n            const view = _u[this.view],\r\n              variable = valueOf(this.variable || view.y)\r\n            if (!view.time_range) view.time_range = {time: []}\r\n            let d = view.get ? view.get.dataset() : valueOf(this.dataset),\r\n              min = valueOf(this.min) || view.time,\r\n              max = valueOf(this.max) || view.time\r\n            if (patterns.minmax.test(min)) min = _u[this.min][min]\r\n            if (patterns.minmax.test(max)) max = _u[this.max][max]\r\n            this.parsed.min = isNaN(this.min_ref)\r\n              ? 'undefined' === typeof min\r\n                ? view.time_range.time[0]\r\n                : 'number' === typeof min\r\n                ? min\r\n                : min in site.data.variables\r\n                ? site.data.variables[min].info[d || site.data.variables[min].datasets[0]].min\r\n                : parseFloat(min)\r\n              : this.min_ref\r\n            this.parsed.max = isNaN(this.max_ref)\r\n              ? 'undefined' === typeof max\r\n                ? view.time_range.time[1]\r\n                : 'number' === typeof max\r\n                ? max\r\n                : max in site.data.variables\r\n                ? site.data.variables[max].info[d || site.data.variables[max].datasets[0]].max\r\n                : parseFloat(max)\r\n              : this.min_ref\r\n            if (this.default_min) {\r\n              this.current_default = this.parsed.min\r\n            } else if (this.default_max) {\r\n              this.current_default = this.parsed.max\r\n            }\r\n            if (this.ref && variable in site.data.variables) {\r\n              this.range[0] = this.e.min = isNaN(this.min_ref)\r\n                ? Math.max(view.time_range.time[0], this.parsed.min)\r\n                : this.min_ref\r\n              this.range[1] = this.e.max = isNaN(this.max_ref)\r\n                ? Math.min(view.time_range.time[1], this.parsed.max)\r\n                : this.max_ref\r\n              if (!this.depends[view.y]) {\r\n                this.depends[view.y] = true\r\n                add_dependency(view.y, {type: 'update', id: this.id})\r\n              }\r\n              if (this.source > this.parsed.max || this.source < this.parsed.min) this.reset()\r\n              this.variable = await site.data.get_variable(variable, this.view)\r\n            } else {\r\n              this.e.min = this.parsed.min\r\n              if (this.parsed.min > this.source || (!this.source && this.default_min)) this.set(this.parsed.min)\r\n              this.e.max = this.parsed.max\r\n              if (this.parsed.max < this.source || (!this.source && this.default_max)) this.set(this.parsed.max)\r\n            }\r\n          }.bind(o)\r\n          if (o.view) add_dependency(o.view, {type: 'update', id: o.id})\r\n          if (!(o.max in site.data.variables)) {\r\n            if (o.max in _u) {\r\n              add_dependency(o.max, {type: 'max', id: o.id})\r\n            } else o.e.max = parseFloat(o.max)\r\n          } else if (o.view) {\r\n            add_dependency(o.view + '_time', {type: 'max', id: o.id})\r\n          }\r\n          if (!(o.min in site.data.variables)) {\r\n            if (o.min in _u) {\r\n              add_dependency(o.min, {type: 'min', id: o.id})\r\n            } else o.e.min = parseFloat(o.min)\r\n          } else if (o.view) {\r\n            add_dependency(o.view + '_time', {type: 'min', id: o.id})\r\n          }\r\n          if ('undefined' !== typeof o.default) {\r\n            if (patterns.number.test(o.default)) {\r\n              o.default = Number(o.default)\r\n            } else\r\n              o.reset = o.default_max\r\n                ? function () {\r\n                    if (this.range) {\r\n                      this.current_default = valueOf(this.range[1])\r\n                      this.set(this.current_default)\r\n                    }\r\n                  }.bind(o)\r\n                : o.default_max\r\n                ? function () {\r\n                    if (this.range) {\r\n                      this.current_default = valueOf(this.range[0])\r\n                      this.set(this.current_default)\r\n                    }\r\n                  }.bind(o)\r\n                : this.default in _u\r\n                ? function () {\r\n                    this.current_default = valueOf(this.default)\r\n                    this.set(this.current_default)\r\n                  }.bind(o)\r\n                : function () {}\r\n          }\r\n          if (o.variable) {\r\n            const d = -1 === site.metadata.datasets.indexOf(o.dataset) ? defaults.dataset : o.dataset\r\n            if (o.variable in _u) {\r\n              add_dependency(o.variable, {type: 'update', id: o.id})\r\n            } else if (o.variable in site.data.variables) {\r\n              o.e.min = o.min = o.parsed.min = o.range[0] = site.data.variables[o.variable].info[d].min\r\n              o.e.max = o.max = o.parsed.max = o.range[1] = site.data.variables[o.variable].info[d].max\r\n            }\r\n          }\r\n        } else if ('checkbox' === o.type) {\r\n          o.source = []\r\n          o.current_index = []\r\n          o.default = o.default.split(',')\r\n        }\r\n        if (Array.isArray(o.values)) {\r\n          if (!o.values.length) {\r\n            o.values = []\r\n            if (o.options.length) o.options.forEach(e => o.values.push(e.value || e.dataset.value))\r\n          }\r\n          if (o.values.length && !(o.default in _u) && -1 === o.values.indexOf(o.default)) {\r\n            o.default = parseInt(o.default)\r\n            o.default = o.values.length > o.default ? o.values[o.default] : ''\r\n          }\r\n        }\r\n\r\n        // add listeners\r\n        if (combobox || 'select' === o.type || 'number' === o.type || 'intext' === o.type) {\r\n          o.e.addEventListener('change', o.listen)\r\n          if (\r\n            o.e.parentElement.lastElementChild &&\r\n            o.e.parentElement.lastElementChild.classList.contains('select-reset')\r\n          ) {\r\n            o.e.parentElement.lastElementChild.addEventListener('click', o.reset)\r\n          }\r\n        } else if ('switch' === o.type) {\r\n          if ('boolean' !== typeof o.default) o.default = o.e.checked\r\n          o.e.addEventListener('change', o.listen)\r\n        } else if (o.listen) {\r\n          o.options.forEach(oi => oi.addEventListener('click', o.listen))\r\n        }\r\n        // initialize settings inputs\r\n        if (patterns.settings.test(o.id)) {\r\n          o.setting = o.id.replace(patterns.settings, '')\r\n          if (null == o.default && o.setting in site.settings) o.default = site.settings[o.setting]\r\n          add_dependency(o.id, {type: 'setting', id: o.id})\r\n        }\r\n        if (!o.view) o.view = defaults.dataview\r\n        const v = site.url_options[o.id] || storage.get(o.id.replace(patterns.settings, ''))\r\n        if (v) {\r\n          o.set(patterns.bool.test(v) ? !!v || 'true' === v : v)\r\n        } else o.reset && o.reset()\r\n      }\r\n    })\r\n    // initialize dataviews\r\n    Object.keys(site.dataviews).forEach(k => {\r\n      const e = site.dataviews[k]\r\n      _u[k] = e\r\n      e.id = k\r\n      e.value = function () {\r\n        if (this.get) {\r\n          this.reparse()\r\n          return (\r\n            '' +\r\n            this.parsed.dataset +\r\n            _u._entity_filter.entities.size +\r\n            site.data.inited[this.parsed.dataset] +\r\n            this.parsed.id_source +\r\n            Object.keys(this.parsed.ids) +\r\n            this.parsed.features +\r\n            this.parsed.variables +\r\n            site.settings.summary_selection\r\n          )\r\n        }\r\n      }.bind(e)\r\n      if ('string' === typeof e.palette && e.palette in _u) {\r\n        add_dependency(e.palette, {type: 'dataview', id: k})\r\n      }\r\n      if ('string' === typeof e.dataset && e.dataset in _u) {\r\n        add_dependency(e.dataset, {type: 'dataview', id: k})\r\n      }\r\n      if ('string' === typeof e.ids && e.ids in _u) {\r\n        add_dependency(e.ids, {type: 'dataview', id: k})\r\n      }\r\n      e.time_range = {dataset: '', variable: '', index: [], time: [], filtered: []}\r\n      add_dependency(k, {type: 'time_range', id: k})\r\n      add_dependency('_base_filter', {type: 'dataview', id: k})\r\n      add_dependency('_entity_filter', {type: 'dataview', id: k})\r\n      if (e.x in _u) add_dependency(e.x, {type: 'time_range', id: k})\r\n      if (e.y in _u) add_dependency(e.y, {type: 'time_range', id: k})\r\n      if (e.features)\r\n        Object.keys(e.features).forEach(f => {\r\n          if ('string' === typeof e.features[f] && e.features[f] in _u) {\r\n            add_dependency(e.features[f], {type: 'dataview', id: k})\r\n          }\r\n        })\r\n      if (e.variables)\r\n        e.variables.forEach(v => {\r\n          if ('variable' in v) {\r\n            if (v.variable in _u) {\r\n              add_dependency(v.variable, {type: 'dataview', id: k})\r\n            }\r\n          } else e.variables.splice(i, 1)\r\n          if ('type' in v) {\r\n            if (v.type in _u) {\r\n              add_dependency(v.type, {type: 'dataview', id: k})\r\n            }\r\n          } else v.type = '='\r\n          if ('value' in v) {\r\n            if (v.value in _u) {\r\n              add_dependency(v.value, {type: 'dataview', id: k})\r\n            }\r\n          } else v.value = 0\r\n        })\r\n      compile_dataview(e)\r\n      conditionals.dataview(e)\r\n      e.reparse()\r\n    })\r\n    // initialize outputs\r\n    document.querySelectorAll('.auto-output').forEach(elements.init_output)\r\n\r\n    // make filter popup\r\n    e = page.modal.filter\r\n    e.body.className = 'filter-dialog'\r\n\r\n    // // entity filter\r\n    e.body.appendChild((e.entity_filters = document.createElement('div')))\r\n    e.entity_filters.appendChild(document.createElement('p'))\r\n    e.entity_filters.lastElementChild.className = 'h6'\r\n    e.entity_filters.lastElementChild.innerText = 'Select Entities'\r\n    e.entity_filters.lastElementChild.appendChild(document.createElement('span'))\r\n    e.entity_filters.lastElementChild.lastElementChild.className = 'note'\r\n    e.entity_filters.lastElementChild.lastElementChild.innerText = '(click disabled selectors to load)'\r\n    e.entity_filters.appendChild(document.createElement('div'))\r\n    e.entity_filters.lastElementChild.className = 'row'\r\n    e.entity_inputs = {}\r\n    Object.keys(site.data.loaded)\r\n      .reverse()\r\n      .forEach(d => {\r\n        const u = elements.combobox.create(d, void 0, {search: true, multi: true, clearable: true}, 'filter.' + d)\r\n        e.entity_inputs[d] = u\r\n        e.entity_filters.lastElementChild.appendChild(document.createElement('div'))\r\n        e.entity_filters.lastElementChild.lastElementChild.className = 'col-sm'\r\n        e.entity_filters.lastElementChild.lastElementChild.appendChild(u.e.parentElement)\r\n        u.e.parentElement.classList.add('form-floating')\r\n        u.listbox.classList.add('multi')\r\n        u.option_sets = {}\r\n        u.dataset = d\r\n        u.loader = function () {\r\n          site.data.retrieve(this.dataset, site.data.info[this.dataset].site_file)\r\n          this.e.removeEventListener('click', this.loader)\r\n        }.bind(u)\r\n        if (!site.data.loaded[d]) {\r\n          u.e.addEventListener('click', u.loader)\r\n        }\r\n        u.onchange = function () {\r\n          conditionals.id_filter()\r\n          request_queue('_entity_filter')\r\n        }.bind(u)\r\n        u.set_current = conditionals.set_current.bind(u)\r\n        fill_ids_options(\r\n          u,\r\n          d,\r\n          u.option_sets,\r\n          function () {\r\n            this.set_current()\r\n            toggle_input(this, !!this.options.length)\r\n            Object.keys(this.values).forEach(id => {\r\n              _u._entity_filter.entities.set(id, site.data.entities[id])\r\n            })\r\n            _u._entity_filter.registered[d] = true\r\n            this.set(this.id in site.url_options ? site.url_options[this.id].split(',') : -1)\r\n          }.bind(u)\r\n        )\r\n        toggle_input(u, !!u.options.length)\r\n      })\r\n\r\n    // // variable filter\r\n    e.body.appendChild((e.variable_filters = document.createElement('div')))\r\n    e.variable_filters.appendChild(document.createElement('p'))\r\n    e.variable_filters.lastElementChild.className = 'h6'\r\n    e.variable_filters.lastElementChild.innerText = 'Variable Conditions'\r\n\r\n    function add_filter_condition(variable, presets) {\r\n      presets = presets || {}\r\n      const e = document.createElement('tr'),\r\n        f = {\r\n          e,\r\n          variable: variable,\r\n          component: presets.component || 'last',\r\n          operator: presets.operator || '>=',\r\n          value: presets.value || 0,\r\n          active: true,\r\n          id: variable + '_' + Date.now(),\r\n          passed: 0,\r\n          failed: 0,\r\n          info: site.data.variables[variable].info,\r\n          view: _u[defaults.dataview],\r\n        },\r\n        d = f.view.get.dataset(),\r\n        range = f.info[d].time_range,\r\n        times = site.data.meta.overall.value\r\n      _u._base_filter.c.set(f.id, f)\r\n      if (presets.time_component) f.component = String(times[f.component])\r\n\r\n      let ee\r\n      // variable name\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n      ee.id = f.id\r\n      ee.className = 'cell-text'\r\n      ee.innerText = f.info[d].info.short_name\r\n      e.lastElementChild.appendChild(document.createElement('p'))\r\n      f.summary = {\r\n        f,\r\n        update: function () {\r\n          const d = this.f.view.get.dataset(),\r\n            range = this.f.info[d].time_range,\r\n            times = site.data.meta.overall.value\r\n          if (d !== this.add.Dataset) {\r\n            this.add.Dataset = d\r\n            this.add.First = times[range[0]] || 'NA'\r\n            this.add.Last = times[range[1]] || 'NA'\r\n            const s = this.f.info[d]\r\n            for (let i = this.table.firstElementChild.childElementCount; i--; ) {\r\n              const h = this.table.firstElementChild.children[i].innerText,\r\n                n = h.toLowerCase()\r\n              this.table.lastElementChild.children[i].innerText = n in s ? site.data.format_value(s[n]) : this.add[h]\r\n            }\r\n          }\r\n        },\r\n        add: {\r\n          Dataset: d,\r\n          First: times[range[0]] || 'NA',\r\n          Last: times[range[1]] || 'NA',\r\n        },\r\n      }\r\n      f.summary.table = make_summary_table(e.lastElementChild.lastElementChild, f.info[d], f.summary.add)\r\n\r\n      // filter result\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n      ee.setAttribute('aria-describedby', f.id)\r\n      ee.className = 'cell-text'\r\n      ee.innerText = '0/0'\r\n\r\n      // active switch\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n      ee.innerText = 'Active'\r\n      ee.className = 'filter-label'\r\n      ee.id = f.id + '_switch'\r\n      e.lastElementChild.appendChild((ee = document.createElement('div')))\r\n      ee.className = 'form-check form-switch filter-form-input'\r\n      ee.appendChild((ee = document.createElement('input')))\r\n      ee.className = 'form-check-input'\r\n      ee.type = 'checkbox'\r\n      ee.role = 'switch'\r\n      ee.setAttribute('aria-labelledby', f.id + '_switch')\r\n      ee.setAttribute('aria-describedby', f.id)\r\n      ee.checked = true\r\n      ee.addEventListener(\r\n        'change',\r\n        function () {\r\n          f.active = !f.active\r\n          request_queue('_base_filter')\r\n        }.bind(f)\r\n      )\r\n\r\n      // component combobox\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n      ee.innerText = 'Component'\r\n      ee.className = 'filter-label'\r\n      ee.id = f.id + '_component'\r\n      const comp_select = elements.combobox.create('component', filter_components.Time)\r\n      comp_select.default = f.component\r\n      comp_select.set(f.component)\r\n      e.lastElementChild.appendChild(comp_select.e.parentElement)\r\n      comp_select.e.parentElement.removeChild(comp_select.e.parentElement.lastElementChild)\r\n      comp_select.e.parentElement.classList.add('filter-form-input')\r\n      comp_select.e.setAttribute('aria-labelledby', f.id + '_component')\r\n      comp_select.input_element.setAttribute('aria-labelledby', f.id + '_component')\r\n      comp_select.input_element.setAttribute('aria-describedby', f.id)\r\n      comp_select.listbox.setAttribute('aria-labelledby', f.id + '_component')\r\n      comp_select.onchange = function () {\r\n        f.component = this.value()\r\n        request_queue('_base_filter')\r\n      }.bind(comp_select)\r\n\r\n      // operator select\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n      ee.innerText = 'Operator'\r\n      ee.className = 'filter-label'\r\n      ee.id = f.id + '_operator'\r\n      e.lastElementChild.appendChild((ee = document.createElement('select')))\r\n      ee.className = 'form-select filter-form-input'\r\n      ee.setAttribute('aria-labelledby', f.id + '_operator')\r\n      ee.setAttribute('aria-describedby', f.id)\r\n      ee.addEventListener('change', e => {\r\n        f.operator = e.target.selectedOptions[0].value\r\n        request_queue('_base_filter')\r\n      })\r\n      ;['>=', '=', '!=', '<='].forEach(k => {\r\n        ee.appendChild(document.createElement('option'))\r\n        ee.lastElementChild.value = ee.lastElementChild.innerText = k\r\n        if (k === f.operator) ee.lastElementChild.selected = true\r\n      })\r\n\r\n      // value input\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n      ee.innerText = 'Value'\r\n      ee.className = 'filter-label'\r\n      ee.id = f.id + '_value'\r\n      const value_select = elements.combobox.create('component', ['min', 'q1', 'median', 'mean', 'q3', 'max'])\r\n      value_select.value_type = 'number'\r\n      value_select.default = f.value\r\n      value_select.set(f.value)\r\n      e.lastElementChild.appendChild(value_select.e.parentElement)\r\n      value_select.e.parentElement.removeChild(value_select.e.parentElement.lastElementChild)\r\n      value_select.e.parentElement.classList.add('filter-form-input')\r\n      value_select.e.setAttribute('aria-labelledby', f.id + '_value')\r\n      value_select.input_element.setAttribute('aria-labelledby', f.id + '_value')\r\n      value_select.input_element.setAttribute('aria-describedby', f.id)\r\n      value_select.listbox.setAttribute('aria-labelledby', f.id + '_value')\r\n      value_select.onchange = async function (f) {\r\n        f.value = this.value()\r\n        if (patterns.number.test(f.value)) {\r\n          f.value = Number(f.value)\r\n          f.value_source = ''\r\n        } else {\r\n          f.view.reparse()\r\n          const v = await site.data.get_variable(f.variable, f.view.id),\r\n            s = v && v.views[f.view.id].summaries[f.view.parsed.dataset]\r\n          if (s && f.value in s) {\r\n            const a = f.view.parsed.variable_values.get(f.id)\r\n            f.value_source = f.value\r\n            f.value = s[f.value][a.comp_fun(a, f.view.parsed)]\r\n          }\r\n        }\r\n        request_queue('_base_filter')\r\n      }.bind(value_select, f)\r\n\r\n      // remove button\r\n      e.appendChild(document.createElement('td'))\r\n      e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n      ee.innerText = 'Remove'\r\n      ee.className = 'filter-label'\r\n      ee.id = f.id + '_remove'\r\n      e.lastElementChild.appendChild((ee = document.createElement('button')))\r\n      ee.className = 'btn-close filter-form-input'\r\n      ee.type = 'button'\r\n      ee.setAttribute('aria-labelledby', f.id + '_remove')\r\n      ee.setAttribute('aria-describedby', f.id)\r\n      ee.addEventListener(\r\n        'mouseup',\r\n        function (e) {\r\n          if (1 === e.which) {\r\n            this.e.parentElement.removeChild(this.e)\r\n            _u._base_filter.c.delete(this.id)\r\n            if (!_u._base_filter.c.size) page.modal.filter.variable_filters.lastElementChild.classList.add('hidden')\r\n            request_queue('_base_filter')\r\n          }\r\n        }.bind(f)\r\n      )\r\n      request_queue('_base_filter')\r\n      page.modal.filter.conditions.lastElementChild.appendChild(e)\r\n      page.modal.filter.variable_filters.lastElementChild.classList.remove('hidden')\r\n    }\r\n\r\n    // variable filter dropdown\r\n    e.variable_filters.appendChild((ee = document.createElement('div')))\r\n    ee.className = 'row'\r\n\r\n    ee.appendChild(document.createElement('div'))\r\n    ee.lastElementChild.className = 'col'\r\n    ee.lastElementChild.appendChild((c = document.createElement('div')))\r\n\r\n    const filter_select = elements.combobox.create(\r\n      'Add Variable Condition',\r\n      void 0,\r\n      {strict: true, search: true, clearable: true, floating: true, accordion: true, group: 'category'},\r\n      'filter_variable_dropdown'\r\n    )\r\n    filter_select.input = false\r\n    filter_select.settings.filter_table = document.querySelector('.filter-body')\r\n    filter_select.onchange = function () {\r\n      const value = this.value()\r\n      if (value in site.data.variables) {\r\n        add_filter_condition(value)\r\n        this.selection.innerText = ''\r\n        const input = document.querySelectorAll('.filter-body .combobox-input')\r\n        if (input && input.length) input[input.length - 1].focus()\r\n      }\r\n    }.bind(filter_select)\r\n    filter_select.view = defaults.dataview\r\n    filter_select.option_sets = {}\r\n    filter_select.optionSource = 'variables'\r\n    add_dependency(defaults.dataview, {type: 'options', id: filter_select.id})\r\n    c.appendChild(filter_select.e.parentElement)\r\n\r\n    // variable filter table\r\n    e.variable_filters.appendChild((ee = document.createElement('div')))\r\n    ee.className = 'hidden'\r\n    ee.appendChild((e.conditions = ee = document.createElement('table')))\r\n    ee.className = 'table'\r\n    ee.appendChild((ee = document.createElement('thead')))\r\n    ee.className = 'filter-header'\r\n    e.conditions.appendChild(document.createElement('tbody'))\r\n    e.conditions.lastElementChild.className = 'filter-body'\r\n    ee.appendChild((ee = document.createElement('tr')))\r\n    ;['Variable', 'Result', 'Active', 'Component', 'Operator', 'Value', 'Remove'].forEach(h => {\r\n      ee.appendChild(document.createElement('th'))\r\n      if ('Component' === h || 'Result' === h) {\r\n        const l =\r\n          'Component' === h\r\n            ? {\r\n                wrapper: document.createElement('label'),\r\n                id: 'filter_component_header',\r\n                note: 'Component refers to which single value to filter on for each entity; select a dynamic time reference, or enter a time.',\r\n              }\r\n            : {\r\n                wrapper: document.createElement('label'),\r\n                id: 'filter_result_header',\r\n                note: 'Passing / total entities across loaded datasets.',\r\n              }\r\n        ee.lastElementChild.appendChild(l.wrapper)\r\n        ee.lastElementChild.className = 'has-note'\r\n        l.wrapper.innerText = h\r\n        l.wrapper.id = l.id\r\n        l.wrapper.setAttribute('data-of', l.id)\r\n        l.wrapper.setAttribute('aria-description', l.note)\r\n        ee.lastElementChild.addEventListener('mouseover', tooltip_trigger.bind(l))\r\n      } else {\r\n        ee.lastElementChild.innerText = h\r\n      }\r\n    })\r\n    e.variable_filters.lastElementChild.appendChild((ee = document.createElement('p')))\r\n    ee.className = 'note'\r\n    ee.innerText = 'Summaries are across time within each unfiltered dataset.'\r\n\r\n    keys._u = Object.keys(_u)\r\n    if (site.query) {\r\n      site.parsed_query = site.data.parse_query(site.query)\r\n      if (site.parsed_query.variables.conditions.length) {\r\n        site.parsed_query.variables.conditions.forEach(f => {\r\n          const info = site.data.variable_info[f.name]\r\n          if (info) add_filter_condition(f.name, f)\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  function gtag() {\r\n    if (site.settings.tracking) window.dataLayer.push(arguments)\r\n  }\r\n\r\n  function valueOf(v) {\r\n    if (v in _u) v = _u[v]\r\n    if (v && v.value) v = valueOf(v.value())\r\n    return v\r\n  }\r\n\r\n  function tooltip_trigger() {\r\n    if (site.settings.hide_tooltips || this.id === page.tooltip.showing) return void 0\r\n    page.tooltip.showing = this.id\r\n    page.tooltip.e.firstElementChild.innerText = this.note\r\n    page.tooltip.e.classList.remove('hidden')\r\n    const p = this.wrapper.getBoundingClientRect(),\r\n      t = page.tooltip.e.getBoundingClientRect()\r\n    page.tooltip.e.style.left = Math.max(0, Math.min(p.x, p.x + p.width / 2 - t.width / 2)) + 'px'\r\n    page.tooltip.e.style.top = p.y + (p.y < t.height ? p.height + 5 : -t.height - 5) + 'px'\r\n  }\r\n\r\n  function tooltip_clear(e) {\r\n    if (\r\n      page.tooltip.showing &&\r\n      ('blur' === e.type || page.tooltip.showing !== (e.target.getAttribute('data-of') || e.target.id))\r\n    ) {\r\n      page.tooltip.showing = ''\r\n      page.tooltip.e.classList.add('hidden')\r\n    }\r\n  }\r\n\r\n  async function retrieve_layer(u, source, callback) {\r\n    const mapId = source.name ? source.name + (source.time || '') : source.url\r\n    if (source.url in site.map._raw) {\r\n      process_layer(source, u)\r\n      site.map._queue[mapId].retrieved = true\r\n      callback && callback()\r\n    } else {\r\n      if (site.map._queue[mapId] && 'retrieved' in site.map._queue[mapId]) {\r\n        if (callback) {\r\n          if (!site.map._queue[mapId].callbacks) site.map._queue[mapId].callbacks = []\r\n          site.map._queue[mapId].callbacks.push(callback)\r\n        }\r\n      } else {\r\n        site.map._queue[mapId].retrieved = false\r\n        const f = new window.XMLHttpRequest()\r\n        f.onreadystatechange = () => {\r\n          if (4 === f.readyState && 200 === f.status) {\r\n            site.map._raw[source.url] = f.responseText\r\n            if (source.name) {\r\n              site.map._queue[mapId].retrieved = true\r\n            }\r\n            if (site.map._queue[mapId].callbacks) {\r\n              if (callback) site.map._queue[mapId].callbacks.push(callback)\r\n              site.map._queue[mapId].callbacks.forEach(f => f())\r\n            } else callback && callback()\r\n          }\r\n        }\r\n        f.open('GET', source.url, true)\r\n        f.send()\r\n      }\r\n    }\r\n  }\r\n\r\n  function process_layer(source, u) {\r\n    let p, id\r\n    const has_time = 'time' in source,\r\n      layerId = source.name + (has_time ? source.time : '')\r\n    site.map[u.id]._layers[layerId] = L.geoJSON(JSON.parse(site.map._raw[source.url]), {\r\n      onEachFeature: (f, l) => {\r\n        l.on({\r\n          mouseover: elements.map.mouseover.bind(u),\r\n          mouseout: elements.map.mouseout.bind(u),\r\n          click: elements.map.click.bind(u),\r\n        })\r\n        l.setStyle({weight: 0, fillOpacity: 0})\r\n        l.source = source\r\n        p = l.feature.properties\r\n        id = p[source.id_property]\r\n        if (!(id in site.data.entities) && patterns.leading_zeros.test(id))\r\n          id = p[source.id_property] = id.replace(patterns.leading_zeros, '')\r\n        if (id in site.data.entities) {\r\n          if (!('layer' in site.data.entities[id])) site.data.entities[id].layer = {}\r\n        } else {\r\n          site.data.entities[id] = {layer: {}, features: {id: id}}\r\n        }\r\n        if (has_time) {\r\n          if (!(u.id in site.data.entities[id].layer)) site.data.entities[id].layer[u.id] = {has_time: true}\r\n          site.data.entities[id].layer[u.id][source.time] = l\r\n        } else site.data.entities[id].layer[u.id] = l\r\n        l.entity = site.data.entities[id]\r\n        if (site.data.entities[id].features)\r\n          Object.keys(p).forEach(f => {\r\n            if (!(f in site.data.entities[id].features)) {\r\n              if (\r\n                'name' === f.toLowerCase() &&\r\n                (!('name' in site.data.entities[id].features) ||\r\n                  site.data.entities[id].features.id === site.data.entities[id].features.name)\r\n              ) {\r\n                site.data.entities[id].features[f.toLowerCase()] = p[f]\r\n              } else {\r\n                site.data.entities[id].features[f] = p[f]\r\n              }\r\n            }\r\n          })\r\n      },\r\n    })\r\n    site.data.inited[layerId + u.id] = true\r\n    if (site.map._waiting && site.map._waiting[source.name]) {\r\n      for (let i = site.map._waiting[source.name].length; i--; ) {\r\n        request_queue(site.map._waiting[source.name][i])\r\n      }\r\n    }\r\n  }\r\n\r\n  function show_overlay(u, o, time) {\r\n    let i = 0,\r\n      source = 'string' === typeof o.source ? o.source : ''\r\n    if (!source && o.source) {\r\n      for (i = o.source.length; i--; ) {\r\n        if (!o.source[i].time || time === o.source[i].time) {\r\n          if (o.source[i].name) delete o.source[i].name\r\n          source = o.source[i].url\r\n          break\r\n        }\r\n      }\r\n    }\r\n    if (source) {\r\n      if (source in site.map._raw) {\r\n        if (!(source in site.map[u.id]._layers)) {\r\n          const s = {}\r\n          if (!site.map._queue[source].processed) {\r\n            site.map._queue[source].property_summaries = s\r\n          }\r\n          site.map[u.id]._layers[source] = L.geoJSON(JSON.parse(site.map._raw[source]), {\r\n            pointToLayer: (point, coords) => L.circleMarker(coords),\r\n            onEachFeature: l => {\r\n              const props = l.properties\r\n              if (props) {\r\n                Object.keys(props).forEach(f => {\r\n                  const v = props[f]\r\n                  if ('number' === typeof v) {\r\n                    if (!(f in s)) s[f] = [Infinity, -Infinity]\r\n                    if (v < s[f][0]) s[f][0] = v\r\n                    if (v > s[f][1]) s[f][1] = v\r\n                  }\r\n                })\r\n              }\r\n            },\r\n          }).on('mouseover', l => {\r\n            const layer = l.layer\r\n            if (layer && !layer._tooltip) {\r\n              const props = layer.feature && layer.feature.properties\r\n              if (props) {\r\n                const e = document.createElement('table')\r\n                Object.keys(props).forEach(f => {\r\n                  const v = props[f],\r\n                    r = document.createElement('tr')\r\n                  r.appendChild(document.createElement('td'))\r\n                  r.appendChild(document.createElement('td'))\r\n                  r.firstElementChild.innerText = f\r\n                  r.lastElementChild.innerText = v\r\n                  e.appendChild(r)\r\n                })\r\n                layer.bindTooltip(e)\r\n                layer.openTooltip()\r\n              }\r\n            }\r\n          })\r\n          Object.keys(s).forEach(f => {\r\n            s[f].push(s[f][1] - s[f][0])\r\n            if (!s[f][2]) delete s[f]\r\n          })\r\n          site.map._overlay_property_selectors.forEach(u => {\r\n            if (!(source in u.option_sets)) {\r\n              fill_overlay_properties_options(u, source, u.option_sets)\r\n              u.dataset = source\r\n              u.variable = ''\r\n            }\r\n          })\r\n        }\r\n        site.map._overlay_property_selectors.forEach(u => {\r\n          u.dataset = source\r\n          conditionals.options(u)\r\n        })\r\n        u.overlay.clearLayers()\r\n        let n = 0\r\n        const summaries = site.settings.circle_property && site.map._queue[source].property_summaries,\r\n          prop_summary = summaries && summaries[site.settings.circle_property]\r\n        site.map[u.id]._layers[source].eachLayer(l => {\r\n          if (o.filter) {\r\n            for (let i = o.filter.length; i--; ) {\r\n              if (!o.filter[i].check(l.feature.properties[o.filter[i].feature], o.filter[i].value)) return\r\n            }\r\n          }\r\n          n++\r\n          l.setRadius(\r\n            prop_summary\r\n              ? ((l.feature.properties[site.settings.circle_property] - prop_summary[0]) / prop_summary[2] + 0.5) *\r\n                  site.settings.circle_radius\r\n              : site.settings.circle_radius\r\n          ).setStyle({\r\n            weight: site.settings.polygon_outline,\r\n            color: 'white',\r\n            opacity: 0.5,\r\n            fillOpacity: 0.5,\r\n            fillColor: 'black',\r\n          })\r\n          l.addTo(u.overlay)\r\n        })\r\n        if (n) u.overlay_control.addTo(u.map)\r\n      } else return retrieve_layer(u, o.source[i], show_overlay.bind(null, u, o, time))\r\n    }\r\n  }\r\n  function component_fun(c) {\r\n    if ('string' === typeof c && patterns.number.test(c)) {\r\n      c = site.data.meta.overall.value.indexOf(Number(c))\r\n      if (-1 === c)\r\n        return function () {\r\n          return NaN\r\n        }\r\n    }\r\n    return 'number' === typeof c\r\n      ? time_funs.number.bind(c)\r\n      : c in time_funs\r\n      ? time_funs[c]\r\n      : function () {\r\n          return NaN\r\n        }\r\n  }\r\n  function compile_dataview(v) {\r\n    v.times = []\r\n    if (v.time_filters) {\r\n      v.time_filters = [\r\n        {variable: defaults.time, type: '>=', value: 'filter.time_min'},\r\n        {variable: defaults.time, type: '<=', value: 'filter.time_max'},\r\n      ]\r\n      add_dependency(v.id + '_time', {type: 'min', id: 'filter.time_min'})\r\n      add_dependency(v.id + '_time', {type: 'max', id: 'filter.time_max'})\r\n      v.time_filters.forEach(f => {\r\n        if (f.value in _u) {\r\n          add_dependency(f.value, {type: 'time_filters', id: v.id})\r\n        }\r\n      })\r\n    }\r\n    v.selection = {ids: {}, features: {}, variables: [], dataset: {}, filtered: {}, full_filter: {}, all: {}}\r\n    v.n_selected = {ids: 0, features: 0, variables: 0, dataset: 0, filtered: 0, full_filter: 0, all: 0}\r\n    v.get = {\r\n      dataset: function () {\r\n        let d = defaults.dataset\r\n        if ('string' === typeof v.dataset && v.dataset in _u) {\r\n          d = valueOf(_u[v.dataset].value())\r\n          if (!(d in site.data.data_queue)) {\r\n            d = defaults.dataset\r\n            _u[v.dataset].set(d)\r\n          }\r\n        } else {\r\n          d = valueOf(v.dataset)\r\n        }\r\n        return d in site.data.data_queue ? d : defaults.dataset\r\n      },\r\n      ids: function (single) {\r\n        const id = valueOf('string' === typeof v.ids && v.ids in _u ? _u[v.ids].value() : v.ids)\r\n        if ('' !== id && -1 != id) {\r\n          if (single) return id\r\n          const ids = {},\r\n            e = site.data.entities[id]\r\n          ids[id] = true\r\n          if (e && e.relations) Object.keys(e.relations.children).forEach(k => (ids[k] = true))\r\n          return ids\r\n        } else if (!single && _u._entity_filter.selected.length) {\r\n          return _u._entity_filter.select_ids\r\n        }\r\n        return false\r\n      },\r\n      features: function () {\r\n        let s = ''\r\n        v.features &&\r\n          Object.keys(v.features).forEach(k => {\r\n            s += k + valueOf(v.features[k])\r\n          })\r\n        return s\r\n      },\r\n      variables: function () {\r\n        if (v.variables || _u._base_filter.c.size) {\r\n          if (!v.parsed.variable_values.size) v.reparse()\r\n          let s = ''\r\n          v.parsed.variable_values.forEach(vi => {\r\n            vi.filter.summary.update()\r\n            s += vi.name + vi.operator + vi.component + vi.value + vi.active\r\n          })\r\n          return s\r\n        } else return ''\r\n      },\r\n      time_filters: function () {\r\n        let s = ''\r\n        v.time_filters &&\r\n          v.time_filters.forEach(f => {\r\n            s += f.value in _u ? valueOf(f.value) : f.value\r\n          })\r\n        return s\r\n      },\r\n    }\r\n    v.ids_check = function (a, b) {\r\n      return !a || b in a\r\n    }\r\n    v.parsed = {\r\n      dataset: '',\r\n      ids: '',\r\n      features: '',\r\n      variables: '',\r\n      time_filters: '',\r\n      time_agg: 0,\r\n      id_source: '',\r\n      variable_values: new Map(),\r\n      feature_values: {},\r\n    }\r\n    v.reparse = function () {\r\n      this.parsed.dataset = this.get.dataset()\r\n      this.parsed.ids = this.get.ids()\r\n      this.parsed.time_filters = this.get.time_filters()\r\n      this.parsed.time_agg =\r\n        this.parsed.dataset in site.data.meta.times\r\n          ? valueOf(this.time_agg) - site.data.meta.times[this.parsed.dataset].range[0]\r\n          : 0\r\n      if (\r\n        'string' === typeof this.ids &&\r\n        this.ids in _u &&\r\n        (('virtual' === _u[this.ids].type && _u[this.ids].source in _u) ||\r\n          ('depends' in _u[this.ids] && _u[this.ids].depends in _u))\r\n      ) {\r\n        this.parsed.id_source =\r\n          'virtual' === _u[this.ids].type ? valueOf(_u[_u[this.ids].source].dataset) : _u[_u[this.ids].depends].value()\r\n      }\r\n      if (this.features) {\r\n        this.parsed.feature_values = {}\r\n        for (let k in this.features)\r\n          if (k in this.features) {\r\n            this.parsed.feature_values[k] = {value: valueOf(this.features[k])}\r\n            this.parsed.feature_values[k].operator =\r\n              'string' === typeof this.parsed.feature_values[k].value ? 'equals' : 'includes'\r\n          }\r\n        this.parsed.features = this.get.features()\r\n      } else this.parsed.features = ''\r\n      this.parsed.variable_values.clear()\r\n      if (_u._base_filter.c.size)\r\n        _u._base_filter.c.forEach(f => {\r\n          this.parsed.variable_values.set(f.id, {\r\n            filter: f,\r\n            name: f.variable,\r\n            range: site.data.variables[f.variable].info[this.parsed.dataset].time_range,\r\n            operator: f.operator,\r\n            value: f.value ? Number(f.value) : NaN,\r\n            value_type: 'number',\r\n            component: f.component,\r\n            active: f.active,\r\n            comp_fun: component_fun(f.component),\r\n          })\r\n        })\r\n      if (this.variables || this.parsed.variable_values.size) {\r\n        if (this.variables)\r\n          this.variables.forEach(v => {\r\n            const value = valueOf(v.value)\r\n            this.parsed.variable_values.set(this.parsed.variable_values.size, {\r\n              name: v.variable,\r\n              operator: v.operator,\r\n              value: value,\r\n              component: v.component,\r\n              active: true,\r\n              comp_fun: component_fun(v.component),\r\n            })\r\n          })\r\n        this.parsed.variables = this.get.variables()\r\n      } else this.parsed.variables = ''\r\n    }.bind(v)\r\n    v.checks = {\r\n      dataset: function (e) {\r\n        return this.parsed.dataset === e.group\r\n      }.bind(v),\r\n      ids: function (e) {\r\n        return e.features && this.ids_check(this.parsed.ids, e.features.id)\r\n      }.bind(v),\r\n      features: function (e) {\r\n        if (e.features) {\r\n          let k,\r\n            v,\r\n            pass = true\r\n          for (k in this.parsed.feature_values) {\r\n            if (k in this.parsed.feature_values) {\r\n              v = this.parsed.feature_values[k]\r\n              pass = DataHandler.checks[v.operator](v.value, valueOf(e.features[k]))\r\n              if (!pass) break\r\n            }\r\n          }\r\n          return pass\r\n        } else return true\r\n      }.bind(v),\r\n      variables: function (e) {\r\n        if (e.data) {\r\n          let pass = true\r\n          this.parsed.variable_values.forEach(v => {\r\n            if (v.active && !isNaN(v.value)) {\r\n              const ev = e.get_value(v.name, v.comp_fun(v, this.parsed)),\r\n                ck = !isNaN(ev) && DataHandler.checks[v.operator](ev, v.value)\r\n              v.filter[ck ? 'passed' : 'failed']++\r\n              if (pass && !ck) pass = false\r\n            } else {\r\n              v.filter.failed++\r\n            }\r\n          })\r\n          return pass\r\n        } else return true\r\n      }.bind(v),\r\n    }\r\n    v.check = function (e) {\r\n      return {\r\n        ids: !this.ids || this.checks.ids(e),\r\n        features: !this.features || this.checks.features(e),\r\n        variables: (!this.variables && !_u._base_filter.c.size) || this.checks.variables(e),\r\n        dataset: !this.dataset || this.checks.dataset(e),\r\n      }\r\n    }.bind(v)\r\n  }\r\n\r\n  function global_update() {\r\n    meta.retain_state = false\r\n    keys._u.forEach(request_queue)\r\n  }\r\n\r\n  function global_reset() {\r\n    meta.retain_state = false\r\n    keys._u.forEach(k => {\r\n      if (!_u[k].setting && _u[k].reset) {\r\n        _u[k].reset()\r\n        request_queue(k)\r\n      }\r\n    })\r\n  }\r\n\r\n  function request_queue(id) {\r\n    queue[id] = true\r\n    if (queue._timeout > 0) clearTimeout(queue._timeout)\r\n    queue._timeout = setTimeout(run_queue, 20)\r\n    meta.lock_after = id\r\n  }\r\n\r\n  function run_queue() {\r\n    if (queue._timeout > 0) clearTimeout(queue._timeout)\r\n    queue._timeout = -1\r\n    keys._u.forEach(k => {\r\n      if (queue[k]) {\r\n        const d = refresh_conditions(k)\r\n        if (d) {\r\n          if (!(k in site.data.data_queue[d])) site.data.data_queue[d][k] = run_queue\r\n          return false\r\n        }\r\n        queue[k] = false\r\n      }\r\n    })\r\n    let k = get_options_url()\r\n    if (site.data.inited.first && k !== site.state) {\r\n      site.state = k\r\n      Object.keys(site.url_options).forEach(s => {\r\n        if (patterns.embed_setting.test(s))\r\n          k +=\r\n            '&' +\r\n            s +\r\n            '=' +\r\n            ('navcolor' === s ? site.url_options[s].replace(patterns.hashes, '%23') : site.url_options[s])\r\n      })\r\n      if (!site.settings.hide_url_parameters) {\r\n        window.history.replaceState(Date.now(), '', k)\r\n      }\r\n      setTimeout(content_resize, 50)\r\n    }\r\n  }\r\n\r\n  function refresh_conditions(id) {\r\n    if (id in _c) {\r\n      const c = _u[id],\r\n        d = _c[id],\r\n        r = [],\r\n        v = c && c.value() + ''\r\n      if (c && (!meta.retain_state || c.state !== v)) {\r\n        const view = site.dataviews[c.view],\r\n          dd = c.dataset ? valueOf(c.dataset) : view ? view.get.dataset() : v\r\n        if (site.data.info && dd in site.data.loaded && !site.data.loaded[dd]) {\r\n          if (!c.deferred) site.data.retrieve(dd, site.data.info[dd].site_file)\r\n          return dd\r\n        }\r\n        c.state = v\r\n        d.forEach(di => {\r\n          if ('rule' === di.type) {\r\n            if (-1 === r.indexOf(di.rule)) {\r\n              r.push(di.rule)\r\n            }\r\n          } else {\r\n            if ('function' === typeof _u[di.id][di.type]) {\r\n              _u[di.id][di.type]()\r\n            } else {\r\n              conditionals[di.type](_u[di.id], c)\r\n            }\r\n          }\r\n        })\r\n        r.forEach(i => {\r\n          let pass = false\r\n          const ri = site.rules[i],\r\n            n = ri.condition.length\r\n          for (let i = 0; i < n; i++) {\r\n            const ck = ri.condition[i]\r\n            pass = ck.check()\r\n            if (ck.any ? pass : !pass) break\r\n          }\r\n          Object.keys(ri.effects).forEach(k => {\r\n            const e = ri.effects[k]\r\n            if (pass) {\r\n              if ('display' === k) {\r\n                e.e.classList.remove('hidden')\r\n              } else if ('lock' === k) {\r\n                e.forEach(u => {\r\n                  u.e.classList.remove('locked')\r\n                  toggle_input(u, true)\r\n                })\r\n              } else if (k in _u) {\r\n                _u[k].set(valueOf(e))\r\n              }\r\n            } else if ('display' === k) {\r\n              if (!e.e.classList.contains('hidden')) {\r\n                e.e.classList.add('hidden')\r\n                if (e.u && e.u.reset) e.u.reset()\r\n                e.e.querySelectorAll('.auto-input').forEach(c => {\r\n                  if (c.id in _u && _u[c.id].reset) _u[c.id].reset()\r\n                })\r\n              }\r\n            } else if ('lock' === k) {\r\n              e.forEach(u => {\r\n                u.e.classList.add('locked')\r\n                toggle_input(u)\r\n              })\r\n            } else if ('default' in ri) {\r\n              if (k in _u) {\r\n                _u[k].set(valueOf(ri.default))\r\n              }\r\n            }\r\n          })\r\n        })\r\n        if (id === meta.lock_after) meta.retain_state = true\r\n      }\r\n    }\r\n  }\r\n}\r\nif ('undefined' === typeof module) {\r\n  community(window, document, site)\r\n} else module.exports = community\r\n","import {MeasureInfo} from '../types'\r\nimport {patterns} from './patterns'\r\nexport function set_description(e: HTMLElement, info: MeasureInfo) {\r\n  const description = info.long_description || info.description || info.short_description || ''\r\n  let has_equation = patterns.has_equation.test(description)\r\n  if (has_equation) {\r\n    const tags = description.split(patterns.bracket_content)\r\n    for (let i = tags.length; i--; ) {\r\n      const t = tags[i]\r\n      if (t && '/' !== t.substring(0, 1)) {\r\n        const p = t.split(patterns.space),\r\n          n = p.length\r\n        has_equation = patterns.math_tags.test(p[0])\r\n        if (!has_equation) break\r\n        for (let a = 1; a < n; a++) {\r\n          has_equation = patterns.math_attributes.test(p[a])\r\n          if (!has_equation) break\r\n        }\r\n        if (!has_equation) break\r\n      }\r\n    }\r\n  }\r\n  e[has_equation ? 'innerHTML' : 'innerText'] = description\r\n}\r\n"],"names":["palettes","rdylbu7","name","type","colors","orrd7","gnbu7","brbg7","puor7","prgn6","reds5","greens5","paired4","greys4","grey","brown","purple","prgn","puor","rdbu","vik","lajolla","patterns","seps","period","all_periods","word_start","settings","features","filter","data","variables","properties","palette","datasets","variable","levels","ids","minmax","int_types","end_punct","mustache","measure_name","http","bool","number","leading_zeros","url_spaces","hashes","embed_setting","median","location_string","time_ref","pre_colon","exclude_query","space","has_equation","bracket_content","math_tags","math_attributes","id_escapes","repo","basename","value_types","percent","v","minute","minutes","dollars","defaults","time","dataview","background_highlight","border","border_highlight_true","border_highlight_false","missing","summary_levels","dataset","filtered","children","all","TutorialManager","tutorials","elements","resetter","_this","this","container","document","createElement","backdrop","highlight","menu","frame","header","dialog","timer","progress","continue","in_progress","waiting","current_step","current_time","site_elements","site_reset","start_tutorial","bind","progress_tutorial","execute_step","end_tutorial","body","appendChild","id","className","tabIndex","e","innerText","close","insertAdjacentElement","setAttribute","l","lastElementChild","Object","keys","forEach","t","description","start","manager","n_steps","steps","length","p","title","firstElementChild","before","Array","isArray","before_1","setting_display_1","k","i","row","part","replace","addEventListener","style","left","role","prototype","retrieve_element","current_site_element","substring","toLowerCase","text_1","querySelectorAll","item","querySelector","error","event","click","target","console","classList","remove","reset","isClick","code","clearTimeout","focuser","clearInterval","running_timer","step_1","handle_object","obj","test","do_action_1","set","set_value_1","value","input","current_element","dispatchEvent","Event","KeyboardEvent","action","String","option","toggle","expanded","trimStart","after","focus","scrollIntoView","setTimeout","wait","step","disabled","disable_continue","b","getBoundingClientRect","f","top","width","height","y","screen","availHeight","marginLeft","setInterval","add","community","window","site","tooltip_icon_rule","conditionals","setting","u","theme","plotly","update_plot_theme","map","tiles","removeFrom","addTo","history","replaceState","Date","now","hide_url_parameters","location","protocol","host","pathname","get_options_url","page","script_style","sheet","insertRule","removeRule","update","overlay","clearLayers","overlay_control","tag_id","dataLayer","gtag","analytics_storage","global_update","event_category","event_label","storage","options","no_view","view","dataviews","selection","d","valueOf","va","combobox","option_sets","optionSource","default","fill_variables_options","fill_levels_options","fill_ids_options","fresh","current_set","sensitive","c","selection_subset","innerHTML","values","display","ns","subset","_u","rel","entity_tree","parents","si","groups","toggle_input","source","selectedIndex","url_options","state","set_current","min","async","cv","uv","parsed","time_range","Math","max","parseFloat","isFinite","min_indicator","max_indicator","_entity_filter","registered","inited","valid","n_selected","full_filter","_base_filter","passed","failed","entities","check","request_queue","data_queue","time_filters","Infinity","get","meta","times","current","filtered_index","n","pass","index","tf","DataHandler","checks","_c","ci","passive","tv","info","s","r","get_variable","su","retain_state","current_default","id_filter","selected","select_ids","metadata","modal","entity_inputs","cs","push","relations","button","init","o","getAttribute","endpoint","notification","parentElement","add_dependency","effects","query","include","api","q","join","size","time_agg","href","navigator","clipboard","writeText","then","text","export","global_reset","clear_storage","Number","active","buttongroup","retrieve","checked","setter","previous","current_index","indexOf","undefined","listener","adder","noadd","autocomplete","format_label","radio","childElementCount","checkbox","off_default","split","splice","switch","up","down","nextElementSibling","intext","condition","depends","Map","oi","init_text","parts","reference_options","ki","has","select","short_description","create","label","elementCount","main","floating","of","clearable","tabindex","init_input","by_name","g","listbox","hover_index","cleared_selection","use_display","search","multi","group","input_element","contains","set_selected","removeEventListener","resize","x","bottom","tagName","ou","accordion","previousElementSibling","port","scrollTo","scrollTop","clear_highlight","filter_reset","filter_index","filterer","includes","keymap","strict","preventDefault","value_type","firstChild","textContent","onchange","previous_span","color","clickto","traces","tab","getElementById","trigger_resize","show","revert","trace","make_data_entry","theme_dark","line","marker","Plotly","addTraces","deleteTraces","es","pl","ei","textfont","hoverinfo","JSON","stringify","base_trace","queue","queue_init","showing","deferred","newPlot","on","mouseover","mouseout","points","fullData","restyle","update_subs","layout","varx","vary","varcol","x_range","y_range","range","summary","views","summaries","display_time","rank","order","jump","fn","lim","trace_limit","summary_selection","color_scale_center","color_by_order","show_empty_times","ceil","boxplots","iqr_box","parse","box","q3","q1","upperfence","lowerfence","isNaN","med","_","get_value","yaxis","xaxis","autorange","any_skipped","yinfo","aggregation_method","is_time","end","adj","log","dtick","config","react","layer","highlight_style","weight","polygon_outline","fillOpacity","setStyle","match_time","overall","default_style","dep","overlays_from_measures","variable_info","overlays","temp","ranges","url","lastIndex","feature","L","featureGroup","displaying","control","layers","setPosition","addOverlay","tileLayer","_raw","_queue","_layers","by_time","shapes","shape","has_time","mapId","loaded","background_shapes","retrieve_layer","sort","triggers","overlay_summaries","processed","property_summaries","fs","fa","operator","id_property","entity","caller","map_time","vstate","background_top","background_polygon_outline","a","map_overlay","show_overlay","ys","parseInt","varc","_zoomAnimated","map_animations","fresh_shapes","skl","fg","cl","interactive","bringToBack","bringToFront","flyToBounds","getBounds","fitBounds","cstate","ls","lsi","fillColor","pal","_waiting","parse_part","parent","ref","format_value","unit","NaN","value_source","show_summary","make_summary_table","has_default","add_subs","content","base","show_variable_info","rows","h","op","minHeight","var","parse_variables","subto","table","filter_components","fill_summary_table","ss","result","short_name","component","make_variable_source","datatable","time_index","rowIds","head","table_autoscroll","table_scroll_behavior","pending","node","variable_source","single_variable","is_single","variable_header","render","retrievers","row_time","wide","filters","current_filter","offset","int","jQuery","DataTable","columns","$","vn","digits","clear","destroy","empty","nshowing","column","visible","selector","varstate","renderer","draw","dark_highlight","rules","table_autosort","w","scroll","behavior","_DT_CellIndex","scrollHeight","createHeader","tr","appendRows","dn","current_variable","td","col","legend","lock","cooldown","trigger","ticks","scale","center","string","level_ids","integer","po","var_info","ep","pn","refresh","bins","odd","remake","current_palette","prop","backgroundColor","right","floor","background","norm_median","clientX","relatedTarget","credits","credit_output","exclude","version","note","wrapper","tooltip_trigger","tooltip_clear","listen","loader","init_output","perm","localStorage","setItem","getItem","removeItem","opt","Enter","NumpadEnter","ArrowUp","Home","ArrowDown","End","Escape","Tab","Time","time_funs","first","last","load_screen","wrap","navbar","menus","getElementsByClassName","panels","_timeout","subs","rule_conditions","agg","as_state","time_component","tree","which","total","centered","fixed","center_source","upper","m","out","onend","sets","disp","ck","ee","for","url_set","ck_suffix","schema","fields","lk","enable","removeAttribute","sort_tree_children","_n","uid","fun","dark_theme","getComputedStyle","font","modebar","paper_bgcolor","plot_bgcolor","bgcolor","_fullLayout","showgrid","gridcolor","borderColor","relayout","yr","xr","additional","lower","make_variable_reference","author","j","family","given","year","journal","volume","doi","date_accessed","location_url","long_name","long_description","tags","set_description","sources","citations","references","_references","reference","element","origin","exec","link","source_file","hide_logo","hide_title","hide_navcontent","hide_panels","close_menus","panel","content_bounds","outer_right","content_resize","navcolor","hash","copy","poly_channel","ch","pos","coefs","pow","drop_load_screen","visibility","tutorial","reload","full","top_menu","left_menu","right_menu","bottom_menu","module","add_filter_condition","presets","Dataset","First","Last","comp_select","removeChild","selectedOptions","value_select","reparse","variable_values","comp_fun","delete","variable_filters","conditions","_overlay_property_selectors","new_display","min_ref","max_ref","default_max","default_min","id_source","single","vi","ids_check","feature_values","component_fun","ev","compile_dataview","entity_filters","reverse","site_file","filter_select","filter_table","parsed_query","parse_query","tracking","arguments","hide_tooltips","tooltip","callback","layerId","geoJSON","onEachFeature","process_layer","retrieved","callbacks","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","pointToLayer","point","coords","circleMarker","props","_tooltip","bindTooltip","openTooltip","fill_overlay_properties_options","circle_property","prop_summary","eachLayer","setRadius","circle_radius","opacity","run_queue","lock_after","dd","di","rule","ri","any","refresh_conditions","onload","menu_toggler","hide","timeout","ariaHidden","autoType","side","marginTop","bw","has_toggler","states","us","data_load","exports"],"mappings":"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"}